/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.2.0 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/requirejs/LICENSE
 */
var requirejs,require,define;!function(global){function commentReplace(e,t,n,r){return r||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){(n||!hasProp(e,i))&&(!r||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[i]=t:(e[i]||(e[i]={}),mixin(e[i],t,n,r)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function t(e){var t,n;for(t=0;t<e.length;t++)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,r){var i,o,a,s,u,l,c,d,f,p,h,m,g=n&&n.split("/"),v=S.map,y=v&&v["*"];if(e&&(e=e.split("/"),c=e.length-1,S.nodeIdCompat&&jsSuffixRegExp.test(e[c])&&(e[c]=e[c].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&g&&(m=g.slice(0,g.length-1),e=m.concat(e)),t(e),e=e.join("/")),r&&v&&(g||y)){a=e.split("/");e:for(s=a.length;s>0;s-=1){if(l=a.slice(0,s).join("/"),g)for(u=g.length;u>0;u-=1)if(o=getOwn(v,g.slice(0,u).join("/")),o&&(o=getOwn(o,l))){d=o,f=s;break e}!p&&y&&getOwn(y,l)&&(p=getOwn(y,l),h=s)}!d&&p&&(d=p,f=h),d&&(a.splice(0,f,d),e=a.join("/"))}return i=getOwn(S.pkgs,e),i?i:e}function r(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===w.contextName?(t.parentNode.removeChild(t),!0):void 0})}function i(e){var t=getOwn(S.paths,e);return t&&isArray(t)&&t.length>1?(t.shift(),w.require.undef(e),w.makeRequire(null,{skipMap:!0})([e]),!0):void 0}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function a(e,t,r,i){var a,s,u,l,c=null,d=t?t.name:null,f=e,p=!0,h="";return e||(p=!1,e="_@r"+(N+=1)),l=o(e),c=l[0],e=l[1],c&&(c=n(c,d,i),s=getOwn(E,c)),e&&(c?h=s&&s.normalize?s.normalize(e,function(e){return n(e,d,i)}):-1===e.indexOf("!")?n(e,d,i):e:(h=n(e,d,i),l=o(h),c=l[0],h=l[1],r=!0,a=w.nameToUrl(h))),u=!c||s||r?"":"_unnormalized"+(j+=1),{prefix:c,name:h,parentMap:t,unnormalized:!!u,url:a,originalName:f,isDefine:p,id:(c?c+"!"+h:h)+u}}function s(e){var t=e.id,n=getOwn(k,t);return n||(n=k[t]=new w.Module(e)),n}function u(e,t,n){var r=e.id,i=getOwn(k,r);!hasProp(E,r)||i&&!i.defineEmitComplete?(i=s(e),i.error&&"error"===t?n(i.error):i.on(t,n)):"defined"===t&&n(E[r])}function l(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(k,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function c(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(w.defQueueMap[t]=!0),D.push(e)}),globalDefQueue=[])}function d(e){delete k[e],delete C[e]}function f(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var o=r.id,a=getOwn(k,o);!a||e.depMatched[i]||n[o]||(getOwn(t,o)?(e.defineDep(i,E[o]),e.check()):f(a,t,n))}),n[r]=!0)}function p(){var e,t,n=1e3*S.waitSeconds,o=n&&w.startTime+n<(new Date).getTime(),a=[],s=[],u=!1,c=!0;if(!y){if(y=!0,eachProp(C,function(e){var n=e.map,l=n.id;if(e.enabled&&(n.isDefine||s.push(e),!e.error))if(!e.inited&&o)i(l)?(t=!0,u=!0):(a.push(l),r(l));else if(!e.inited&&e.fetched&&n.isDefine&&(u=!0,!n.prefix))return c=!1}),o&&a.length)return e=makeError("timeout","Load timeout for modules: "+a,null,a),e.contextName=w.contextName,l(e);c&&each(s,function(e){f(e,{},{})}),o&&!t||!u||!isBrowser&&!isWebWorker||_||(_=setTimeout(function(){_=0,p()},50)),y=!1}}function h(e){hasProp(E,e[0])||s(a(e[0],null,!0)).init(e[1],e[2])}function m(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return m(t,w.onScriptLoad,"load","onreadystatechange"),m(t,w.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(c();D.length;){if(e=D.shift(),null===e[0])return l(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));h(e)}w.defQueueMap={}}var y,b,w,x,_,S={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},k={},C={},T={},D=[],E={},A={},O={},N=1,j=1;return x={require:function(e){return e.require?e.require:e.require=w.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?E[e.map.id]=e.exports:e.exports=E[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(S.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},b=function(e){this.events=getOwn(T,e.id)||{},this.map=e,this.shim=getOwn(S.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var e=this.map;return this.shim?void w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;A[e]||(A[e]=!0,w.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,r=this.depExports,i=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{i=w.execCb(n,o,r,i)}catch(a){e=a}else i=w.execCb(n,o,r,i);if(this.map.isDefine&&void 0===i&&(t=this.module,t?i=t.exports:this.usingExports&&(i=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",l(this.error=e)}else i=o;if(this.exports=i,this.map.isDefine&&!this.ignore&&(E[n]=i,req.onResourceLoad)){var s=[];each(this.depMaps,function(e){s.push(e.normalizedMap||e)}),req.onResourceLoad(w,this.map,s)}d(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(w.defQueueMap,n)||this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,r=a(e.prefix);this.depMaps.push(r),u(r,"defined",bind(this,function(r){var i,o,c,f=getOwn(O,this.map.id),p=this.map.name,h=this.map.parentMap?this.map.parentMap.name:null,m=w.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(r.normalize&&(p=r.normalize(p,function(e){return n(e,h,!0)})||""),o=a(e.prefix+"!"+p,this.map.parentMap),u(o,"defined",bind(this,function(e){this.map.normalizedMap=o,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),c=getOwn(k,o.id),void(c&&(this.depMaps.push(o),this.events.error&&c.on("error",bind(this,function(e){this.emit("error",e)})),c.enable()))):f?(this.map.url=w.nameToUrl(f),void this.load()):(i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(k,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&d(e.map.id)}),l(e)}),i.fromText=bind(this,function(n,r){var o=e.name,u=a(o),c=useInteractive;r&&(n=r),c&&(useInteractive=!1),s(u),hasProp(S.config,t)&&(S.config[o]=S.config[t]);try{req.exec(n)}catch(d){return l(makeError("fromtexteval","fromText eval for "+t+" failed: "+d,d,[t]))}c&&(useInteractive=!0),this.depMaps.push(u),w.completeLoad(o),m([o],i)}),void r.load(e.name,m,i,S))})),w.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){C[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,r,i;if("string"==typeof e){if(e=a(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(x,e.id))return void(this.depExports[t]=i(this));this.depCount+=1,u(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?u(e,"error",bind(this,this.errback)):this.events.error&&u(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,r=k[n],hasProp(x,n)||!r||r.enabled||w.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(k,e.id);t&&!t.enabled&&w.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},w={config:S,contextName:e,registry:k,defined:E,urlFetched:A,defQueue:D,defQueueMap:{},Module:b,makeModuleMap:a,nextTick:req.nextTick,onError:l,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var t=e.urlArgs;e.urlArgs=function(e,n){return(-1===n.indexOf("?")?"?":"&")+t}}var n=S.shim,r={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){r[t]?(S[t]||(S[t]={}),mixin(S[t],e,!0,!0)):S[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(O[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=w.makeShimExports(e)),n[t]=e}),S.shim=n),e.packages&&each(e.packages,function(e){var t,n;e="string"==typeof e?{name:e}:e,n=e.name,t=e.location,t&&(S.paths[n]=e.location),S.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(k,function(e,t){e.inited||e.map.unnormalized||(e.map=a(t,null,!0))}),(e.deps||e.callback)&&w.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,i){function o(n,r,u){var c,d,f;return i.enableBuildCallback&&r&&isFunction(r)&&(r.__requireJsBuild=!0),"string"==typeof n?isFunction(r)?l(makeError("requireargs","Invalid require call"),u):t&&hasProp(x,n)?x[n](k[t.id]):req.get?req.get(w,n,t,o):(d=a(n,t,!1,!0),c=d.id,hasProp(E,c)?E[c]:l(makeError("notloaded",'Module name "'+c+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),w.nextTick(function(){v(),f=s(a(null,t)),f.skipMap=i.skipMap,f.init(n,r,u,{enabled:!0}),p()}),o)}return i=i||{},mixin(o,{isBrowser:isBrowser,toUrl:function(e){var r,i=e.lastIndexOf("."),o=e.split("/")[0],a="."===o||".."===o;return-1!==i&&(!a||i>1)&&(r=e.substring(i,e.length),e=e.substring(0,i)),w.nameToUrl(n(e,t&&t.id,!0),r,!0)},defined:function(e){return hasProp(E,a(e,t,!1,!0).id)},specified:function(e){return e=a(e,t,!1,!0).id,hasProp(E,e)||hasProp(k,e)}}),t||(o.undef=function(e){c();var n=a(e,t,!0),i=getOwn(k,e);i.undefed=!0,r(e),delete E[e],delete A[n.url],delete T[e],eachReverse(D,function(t,n){t[0]===e&&D.splice(n,1)}),delete w.defQueueMap[e],i&&(i.events.defined&&(T[e]=i.events),d(e))}),o},enable:function(e){var t=getOwn(k,e.id);t&&s(e).enable()},completeLoad:function(e){var t,n,r,o=getOwn(S.shim,e)||{},a=o.exports;for(c();D.length;){if(n=D.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);h(n)}if(w.defQueueMap={},r=getOwn(k,e),!t&&!hasProp(E,e)&&r&&!r.inited){if(!(!S.enforceDefine||a&&getGlobal(a)))return i(e)?void 0:l(makeError("nodefine","No define call for "+e,null,[e]));h([e,o.deps||[],o.exportsFn])}p()},nameToUrl:function(e,t,n){var r,i,o,a,s,u,l,c=getOwn(S.pkgs,e);if(c&&(e=c),l=getOwn(O,e))return w.nameToUrl(l,t,n);if(req.jsExtRegExp.test(e))s=e+(t||"");else{for(r=S.paths,i=e.split("/"),o=i.length;o>0;o-=1)if(a=i.slice(0,o).join("/"),u=getOwn(r,a)){isArray(u)&&(u=u[0]),i.splice(0,o,u);break}s=i.join("/"),s+=t||(/^data\:|^blob\:|\?/.test(s)||n?"":".js"),s=("/"===s.charAt(0)||s.match(/^[\w\+\.\-]+:/)?"":S.baseUrl)+s}return S.urlArgs&&!/^blob\:/.test(s)?s+S.urlArgs(e,s):s},load:function(e,t){req.load(w,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);w.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);if(!i(t.id)){var n=[];return eachProp(k,function(e,r){0!==r.indexOf("_@r")&&each(e.depMaps,function(e){return e.id===t.id?(n.push(r),!0):void 0})}),l(makeError("scripterror",'Script error for "'+t.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[t.id]))}}},w.require=w.makeRequire(),w}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.2.0",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,r){var i,o,a=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=r):e=[]),o&&o.context&&(a=o.context),i=getOwn(contexts,a),i||(i=contexts[a]=req.s.newContext(a)),o&&i.configure(o),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},req.load=function(e,t,n){var r,i=e&&e.config||{};if(isBrowser)return r=req.createNode(i,t,n),r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera?(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)),r.src=n,i.onNodeCreated&&i.onNodeCreated(r,i,t,n),currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r;if(isWebWorker)try{setTimeout(function(){},0),importScripts(n),e.completeLoad(t)}catch(o){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,o,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,n){var r,i;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),i?(i.defQueue.push([e,t,n]),i.defQueueMap[e]=!0):globalDefQueue.push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("requireLib",function(){}),/*!
 * Knockout JavaScript library v3.4.0
 * (c) Steven Sanderson - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
function(){var e=!0;!function(t){var n=this||(0,eval)("this"),r=n.document,i=n.navigator,o=n.jQuery,a=n.JSON;!function(e){"function"==typeof define&&define.amd?define("knockout",["exports","require"],e):e("object"==typeof exports&&"object"==typeof module?module.exports||exports:n.ko={})}(function(s,u){function l(e,t){var n=null===e||typeof e in b;return n?e===t:!1}function c(e,n){var r;return function(){r||(r=y.utils.setTimeout(function(){r=t,e()},n))}}function d(e,t){var n;return function(){clearTimeout(n),n=y.utils.setTimeout(e,t)}}function f(e){var t=this;return e&&y.utils.objectForEach(e,function(e,n){var r=y.extenders[e];"function"==typeof r&&(t=r(t,n)||t)}),t}function p(e,t){t&&t!==w?"beforeChange"===t?this._limitBeforeChange(e):this._origNotifySubscribers(e,t):this._limitChange(e)}function h(e,t){null!==t&&t.dispose&&t.dispose()}function m(e,t){var n=this.computedObservable,r=n[T];r.isDisposed||(this.disposalCount&&this.disposalCandidates[t]?(n.addDependencyTracking(t,e,this.disposalCandidates[t]),this.disposalCandidates[t]=null,--this.disposalCount):r.dependencyTracking[t]||n.addDependencyTracking(t,e,r.isSleeping?{_target:e}:n.subscribeToDependency(e)))}function g(e){y.bindingHandlers[e]={init:function(t,n,r,i,o){var a=function(){var t={};return t[e]=n(),t};return y.bindingHandlers.event.init.call(this,t,a,r,i,o)}}}function v(e,t,n,r){y.bindingHandlers[e]={init:function(e,i,o,a,s){var u,l;return y.computed(function(){var o=y.utils.unwrapObservable(i()),a=!n!=!o,c=!l,d=c||t||a!==u;d&&(c&&y.computedContext.getDependenciesCount()&&(l=y.utils.cloneNodes(y.virtualElements.childNodes(e),!0)),a?(c||y.virtualElements.setDomNodeChildren(e,y.utils.cloneNodes(l)),y.applyBindingsToDescendants(r?r(s,o):s,e)):y.virtualElements.emptyNode(e),u=a)},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}},y.expressionRewriting.bindingRewriteValidators[e]=!1,y.virtualElements.allowedBindings[e]=!0}var y="undefined"!=typeof s?s:{};y.exportSymbol=function(e,t){for(var n=e.split("."),r=y,i=0;i<n.length-1;i++)r=r[n[i]];r[n[n.length-1]]=t},y.exportProperty=function(e,t,n){e[t]=n},y.version="3.4.0",y.exportSymbol("version",y.version),y.options={deferUpdates:!1,useOnlyNativeEvents:!1},y.utils=function(){function s(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function u(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function l(e,t){return e.__proto__=t,e}function c(e,t){if("input"!==y.utils.tagNameLower(e)||!e.type)return!1;if("click"!=t.toLowerCase())return!1;var n=e.type;return"checkbox"==n||"radio"==n}function d(e,t,n){var r;t&&("object"==typeof e.classList?(r=e.classList[n?"add":"remove"],y.utils.arrayForEach(t.match(S),function(t){r.call(e.classList,t)})):"string"==typeof e.className.baseVal?f(e.className,"baseVal",t,n):f(e,"className",t,n))}function f(e,t,n,r){var i=e[t].match(S)||[];y.utils.arrayForEach(n.match(S),function(e){y.utils.addOrRemoveItem(i,e,r)}),e[t]=i.join(" ")}var p={__proto__:[]}instanceof Array,h=!e&&"function"==typeof Symbol,m={},g={},v=i&&/Firefox\/2/i.test(i.userAgent)?"KeyboardEvent":"UIEvents";m[v]=["keyup","keydown","keypress"],m.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"],s(m,function(e,t){if(t.length)for(var n=0,r=t.length;r>n;n++)g[t[n]]=e});var b={propertychange:!0},w=r&&function(){for(var e=3,n=r.createElement("div"),i=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",i[0];);return e>4?e:t}(),x=6===w,_=7===w,S=/\S+/g;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)},arrayIndexOf:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},arrayFirst:function(e,t,n){for(var r=0,i=e.length;i>r;r++)if(t.call(n,e[r],r))return e[r];return null},arrayRemoveItem:function(e,t){var n=y.utils.arrayIndexOf(e,t);n>0?e.splice(n,1):0===n&&e.shift()},arrayGetDistinctValues:function(e){e=e||[];for(var t=[],n=0,r=e.length;r>n;n++)y.utils.arrayIndexOf(t,e[n])<0&&t.push(e[n]);return t},arrayMap:function(e,t){e=e||[];for(var n=[],r=0,i=e.length;i>r;r++)n.push(t(e[r],r));return n},arrayFilter:function(e,t){e=e||[];for(var n=[],r=0,i=e.length;i>r;r++)t(e[r],r)&&n.push(e[r]);return n},arrayPushAll:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,r=t.length;r>n;n++)e.push(t[n]);return e},addOrRemoveItem:function(e,t,n){var r=y.utils.arrayIndexOf(y.utils.peekObservable(e),t);0>r?n&&e.push(t):n||e.splice(r,1)},canSetPrototype:p,extend:u,setPrototypeOf:l,setPrototypeOfOrExtend:p?l:u,objectForEach:s,objectMap:function(e,t){if(!e)return e;var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r],r,e));return n},emptyDomNode:function(e){for(;e.firstChild;)y.removeNode(e.firstChild)},moveCleanedNodesToContainerElement:function(e){for(var t=y.utils.makeArray(e),n=t[0]&&t[0].ownerDocument||r,i=n.createElement("div"),o=0,a=t.length;a>o;o++)i.appendChild(y.cleanNode(t[o]));return i},cloneNodes:function(e,t){for(var n=0,r=e.length,i=[];r>n;n++){var o=e[n].cloneNode(!0);i.push(t?y.cleanNode(o):o)}return i},setDomNodeChildren:function(e,t){if(y.utils.emptyDomNode(e),t)for(var n=0,r=t.length;r>n;n++)e.appendChild(t[n])},replaceDomNodes:function(e,t){var n=e.nodeType?[e]:e;if(n.length>0){for(var r=n[0],i=r.parentNode,o=0,a=t.length;a>o;o++)i.insertBefore(t[o],r);for(var o=0,a=n.length;a>o;o++)y.removeNode(n[o])}},fixUpContinuousNodeArray:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;e.length>1&&e[e.length-1].parentNode!==t;)e.length--;if(e.length>1){var n=e[0],r=e[e.length-1];for(e.length=0;n!==r;)e.push(n),n=n.nextSibling;e.push(r)}}return e},setOptionNodeSelectionState:function(e,t){7>w?e.setAttribute("selected",t):e.selected=t},stringTrim:function(e){return null===e||e===t?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(e,t){return e=e||"",t.length>e.length?!1:e.substring(0,t.length)===t},domNodeIsContainedBy:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(3===e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},domNodeIsAttachedToDocument:function(e){return y.utils.domNodeIsContainedBy(e,e.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(e){return!!y.utils.arrayFirst(e,y.utils.domNodeIsAttachedToDocument)},tagNameLower:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},catchFunctionErrors:function(e){return y.onError?function(){try{return e.apply(this,arguments)}catch(t){throw y.onError&&y.onError(t),t}}:e},setTimeout:function(e,t){return setTimeout(y.utils.catchFunctionErrors(e),t)},deferError:function(e){setTimeout(function(){throw y.onError&&y.onError(e),e},0)},registerEventHandler:function(e,t,n){var r=y.utils.catchFunctionErrors(n),i=w&&b[t];if(y.options.useOnlyNativeEvents||i||!o)if(i||"function"!=typeof e.addEventListener){if("undefined"==typeof e.attachEvent)throw new Error("Browser doesn't support addEventListener or attachEvent");var a=function(t){r.call(e,t)},s="on"+t;e.attachEvent(s,a),y.utils.domNodeDisposal.addDisposeCallback(e,function(){e.detachEvent(s,a)})}else e.addEventListener(t,r,!1);else o(e).bind(t,r)},triggerEvent:function(e,t){if(!e||!e.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");var i=c(e,t);if(y.options.useOnlyNativeEvents||!o||i)if("function"==typeof r.createEvent){if("function"!=typeof e.dispatchEvent)throw new Error("The supplied element doesn't support dispatchEvent");var a=g[t]||"HTMLEvents",s=r.createEvent(a);s.initEvent(t,!0,!0,n,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(s)}else if(i&&e.click)e.click();else{if("undefined"==typeof e.fireEvent)throw new Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}else o(e).trigger(t)},unwrapObservable:function(e){return y.isObservable(e)?e():e},peekObservable:function(e){return y.isObservable(e)?e.peek():e},toggleDomNodeCssClass:d,setTextContent:function(e,n){var r=y.utils.unwrapObservable(n);(null===r||r===t)&&(r="");var i=y.virtualElements.firstChild(e);!i||3!=i.nodeType||y.virtualElements.nextSibling(i)?y.virtualElements.setDomNodeChildren(e,[e.ownerDocument.createTextNode(r)]):i.data=r,y.utils.forceRefresh(e)},setElementName:function(e,t){if(e.name=t,7>=w)try{e.mergeAttributes(r.createElement("<input name='"+e.name+"'/>"),!1)}catch(n){}},forceRefresh:function(e){if(w>=9){var t=1==e.nodeType?e:e.parentNode;t.style&&(t.style.zoom=t.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(e){if(w){var t=e.style.width;e.style.width=0,e.style.width=t}},range:function(e,t){e=y.utils.unwrapObservable(e),t=y.utils.unwrapObservable(t);for(var n=[],r=e;t>=r;r++)n.push(r);return n},makeArray:function(e){for(var t=[],n=0,r=e.length;r>n;n++)t.push(e[n]);return t},createSymbolOrString:function(e){return h?Symbol(e):e},isIe6:x,isIe7:_,ieVersion:w,getFormFields:function(e,t){for(var n=y.utils.makeArray(e.getElementsByTagName("input")).concat(y.utils.makeArray(e.getElementsByTagName("textarea"))),r="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},i=[],o=n.length-1;o>=0;o--)r(n[o])&&i.push(n[o]);return i},parseJson:function(e){return"string"==typeof e&&(e=y.utils.stringTrim(e))?a&&a.parse?a.parse(e):new Function("return "+e)():null},stringifyJson:function(e,t,n){if(!a||!a.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return a.stringify(y.utils.unwrapObservable(e),t,n)},postJson:function(e,t,n){n=n||{};var i=n.params||{},o=n.includeFields||this.fieldsIncludedWithJsonPost,a=e;if("object"==typeof e&&"form"===y.utils.tagNameLower(e)){var u=e;a=u.action;for(var l=o.length-1;l>=0;l--)for(var c=y.utils.getFormFields(u,o[l]),d=c.length-1;d>=0;d--)i[c[d].name]=c[d].value}t=y.utils.unwrapObservable(t);var f=r.createElement("form");f.style.display="none",f.action=a,f.method="post";for(var p in t){var h=r.createElement("input");h.type="hidden",h.name=p,h.value=y.utils.stringifyJson(y.utils.unwrapObservable(t[p])),f.appendChild(h)}s(i,function(e,t){var n=r.createElement("input");n.type="hidden",n.name=e,n.value=t,f.appendChild(n)}),r.body.appendChild(f),n.submitter?n.submitter(f):f.submit(),setTimeout(function(){f.parentNode.removeChild(f)},0)}}}(),y.exportSymbol("utils",y.utils),y.exportSymbol("utils.arrayForEach",y.utils.arrayForEach),y.exportSymbol("utils.arrayFirst",y.utils.arrayFirst),y.exportSymbol("utils.arrayFilter",y.utils.arrayFilter),y.exportSymbol("utils.arrayGetDistinctValues",y.utils.arrayGetDistinctValues),y.exportSymbol("utils.arrayIndexOf",y.utils.arrayIndexOf),y.exportSymbol("utils.arrayMap",y.utils.arrayMap),y.exportSymbol("utils.arrayPushAll",y.utils.arrayPushAll),y.exportSymbol("utils.arrayRemoveItem",y.utils.arrayRemoveItem),y.exportSymbol("utils.extend",y.utils.extend),y.exportSymbol("utils.fieldsIncludedWithJsonPost",y.utils.fieldsIncludedWithJsonPost),y.exportSymbol("utils.getFormFields",y.utils.getFormFields),y.exportSymbol("utils.peekObservable",y.utils.peekObservable),y.exportSymbol("utils.postJson",y.utils.postJson),y.exportSymbol("utils.parseJson",y.utils.parseJson),y.exportSymbol("utils.registerEventHandler",y.utils.registerEventHandler),y.exportSymbol("utils.stringifyJson",y.utils.stringifyJson),y.exportSymbol("utils.range",y.utils.range),y.exportSymbol("utils.toggleDomNodeCssClass",y.utils.toggleDomNodeCssClass),y.exportSymbol("utils.triggerEvent",y.utils.triggerEvent),y.exportSymbol("utils.unwrapObservable",y.utils.unwrapObservable),y.exportSymbol("utils.objectForEach",y.utils.objectForEach),y.exportSymbol("utils.addOrRemoveItem",y.utils.addOrRemoveItem),y.exportSymbol("utils.setTextContent",y.utils.setTextContent),y.exportSymbol("unwrap",y.utils.unwrapObservable),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(1===arguments.length)return function(){return t.apply(e,arguments)};var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice(0);return r.push.apply(r,arguments),t.apply(e,r)}}),y.utils.domData=new function(){function e(e,o){var a=e[r],s=a&&"null"!==a&&i[a];if(!s){if(!o)return t;a=e[r]="ko"+n++,i[a]={}}return i[a]}var n=0,r="__ko__"+(new Date).getTime(),i={};return{get:function(n,r){var i=e(n,!1);return i===t?t:i[r]},set:function(n,r,i){if(i!==t||e(n,!1)!==t){var o=e(n,!0);o[r]=i}},clear:function(e){var t=e[r];return t?(delete i[t],e[r]=null,!0):!1},nextKey:function(){return n++ +r}}},y.exportSymbol("utils.domData",y.utils.domData),y.exportSymbol("utils.domData.clear",y.utils.domData.clear),y.utils.domNodeDisposal=new function(){function e(e,n){var r=y.utils.domData.get(e,a);return r===t&&n&&(r=[],y.utils.domData.set(e,a,r)),r}function n(e){y.utils.domData.set(e,a,t)}function r(t){var n=e(t,!1);if(n){n=n.slice(0);for(var r=0;r<n.length;r++)n[r](t)}y.utils.domData.clear(t),y.utils.domNodeDisposal.cleanExternalData(t),u[t.nodeType]&&i(t)}function i(e){for(var t,n=e.firstChild;t=n;)n=t.nextSibling,8===t.nodeType&&r(t)}var a=y.utils.domData.nextKey(),s={1:!0,8:!0,9:!0},u={1:!0,9:!0};return{addDisposeCallback:function(t,n){if("function"!=typeof n)throw new Error("Callback must be a function");e(t,!0).push(n)},removeDisposeCallback:function(t,r){var i=e(t,!1);i&&(y.utils.arrayRemoveItem(i,r),0==i.length&&n(t))},cleanNode:function(e){if(s[e.nodeType]&&(r(e),u[e.nodeType])){var t=[];y.utils.arrayPushAll(t,e.getElementsByTagName("*"));for(var n=0,i=t.length;i>n;n++)r(t[n])}return e},removeNode:function(e){y.cleanNode(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){o&&"function"==typeof o.cleanData&&o.cleanData([e])}}},y.cleanNode=y.utils.domNodeDisposal.cleanNode,y.removeNode=y.utils.domNodeDisposal.removeNode,y.exportSymbol("cleanNode",y.cleanNode),y.exportSymbol("removeNode",y.removeNode),y.exportSymbol("utils.domNodeDisposal",y.utils.domNodeDisposal),y.exportSymbol("utils.domNodeDisposal.addDisposeCallback",y.utils.domNodeDisposal.addDisposeCallback),y.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",y.utils.domNodeDisposal.removeDisposeCallback),function(){function e(e){var t=e.match(/^<([a-z]+)[ >]/);return t&&f[t[1]]||s}function i(t,i){i||(i=r);var o=i.parentWindow||i.defaultView||n,a=y.utils.stringTrim(t).toLowerCase(),s=i.createElement("div"),u=e(a),l=u[0],c="ignored<div>"+u[1]+t+u[2]+"</div>";for("function"==typeof o.innerShiv?s.appendChild(o.innerShiv(c)):(p&&i.appendChild(s),s.innerHTML=c,p&&s.parentNode.removeChild(s));l--;)s=s.lastChild;return y.utils.makeArray(s.lastChild.childNodes)}function a(e,t){if(o.parseHTML)return o.parseHTML(e,t)||[];var n=o.clean([e],t);if(n&&n[0]){for(var r=n[0];r.parentNode&&11!==r.parentNode.nodeType;)r=r.parentNode;r.parentNode&&r.parentNode.removeChild(r)}return n}var s=[0,"",""],u=[1,"<table>","</table>"],l=[2,"<table><tbody>","</tbody></table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],d=[1,"<select multiple='multiple'>","</select>"],f={thead:u,tbody:u,tfoot:u,tr:l,td:c,th:c,option:d,optgroup:d},p=y.utils.ieVersion<=8;y.utils.parseHtmlFragment=function(e,t){return o?a(e,t):i(e,t)},y.utils.setHtml=function(e,n){if(y.utils.emptyDomNode(e),n=y.utils.unwrapObservable(n),null!==n&&n!==t)if("string"!=typeof n&&(n=n.toString()),o)o(e).html(n);else for(var r=y.utils.parseHtmlFragment(n,e.ownerDocument),i=0;i<r.length;i++)e.appendChild(r[i])}}(),y.exportSymbol("utils.parseHtmlFragment",y.utils.parseHtmlFragment),y.exportSymbol("utils.setHtml",y.utils.setHtml),y.memoization=function(){function e(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function n(){return e()+e()}function r(e,t){if(e)if(8==e.nodeType){var n=y.memoization.parseMemoText(e.nodeValue);null!=n&&t.push({domNode:e,memoId:n})}else if(1==e.nodeType)for(var i=0,o=e.childNodes,a=o.length;a>i;i++)r(o[i],t)}var i={};return{memoize:function(e){if("function"!=typeof e)throw new Error("You can only pass a function to ko.memoization.memoize()");var t=n();return i[t]=e,"<!--[ko_memo:"+t+"]-->"},unmemoize:function(e,n){var r=i[e];if(r===t)throw new Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return r.apply(null,n||[]),!0}finally{delete i[e]}},unmemoizeDomNodeAndDescendants:function(e,t){var n=[];r(e,n);for(var i=0,o=n.length;o>i;i++){var a=n[i].domNode,s=[a];t&&y.utils.arrayPushAll(s,t),y.memoization.unmemoize(n[i].memoId,s),a.nodeValue="",a.parentNode&&a.parentNode.removeChild(a)}},parseMemoText:function(e){var t=e.match(/^\[ko_memo\:(.*?)\]$/);return t?t[1]:null}}}(),y.exportSymbol("memoization",y.memoization),y.exportSymbol("memoization.memoize",y.memoization.memoize),y.exportSymbol("memoization.unmemoize",y.memoization.unmemoize),y.exportSymbol("memoization.parseMemoText",y.memoization.parseMemoText),y.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",y.memoization.unmemoizeDomNodeAndDescendants),y.tasks=function(){function e(){if(s)for(var e,t=s,n=0;s>l;)if(e=a[l++]){if(l>t){if(++n>=5e3){l=s,y.utils.deferError(Error("'Too much recursion' after processing "+n+" task groups."));break}t=s}try{e()}catch(r){y.utils.deferError(r)}}}function t(){e(),l=s=a.length=0}function i(){y.tasks.scheduler(t)}var o,a=[],s=0,u=1,l=0;o=n.MutationObserver?function(e){var t=r.createElement("div");return new MutationObserver(e).observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}}(t):r&&"onreadystatechange"in r.createElement("script")?function(e){var t=r.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,r.documentElement.removeChild(t),t=null,e()},r.documentElement.appendChild(t)}:function(e){setTimeout(e,0)};var c={scheduler:o,schedule:function(e){return s||i(),a[s++]=e,u++},cancel:function(e){var t=e-(u-s);t>=l&&s>t&&(a[t]=null)},resetForTesting:function(){var e=s-l;return l=s=a.length=0,e},runEarly:e};return c}(),y.exportSymbol("tasks",y.tasks),y.exportSymbol("tasks.schedule",y.tasks.schedule),y.exportSymbol("tasks.runEarly",y.tasks.runEarly),y.extenders={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return y.dependentObservable({read:e,write:function(r){clearTimeout(n),n=y.utils.setTimeout(function(){e(r)},t)}})},rateLimit:function(e,t){var n,r,i;"number"==typeof t?n=t:(n=t.timeout,r=t.method),e._deferUpdates=!1,i="notifyWhenChangesStop"==r?d:c,e.limit(function(e){return i(e,n)})},deferred:function(e,n){if(n!==!0)throw new Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");e._deferUpdates||(e._deferUpdates=!0,e.limit(function(n){var r;return function(){y.tasks.cancel(r),r=y.tasks.schedule(n),e.notifySubscribers(t,"dirty")}}))},notify:function(e,t){e.equalityComparer="always"==t?null:l}};var b={undefined:1,"boolean":1,number:1,string:1};y.exportSymbol("extenders",y.extenders),y.subscription=function(e,t,n){this._target=e,this.callback=t,this.disposeCallback=n,this.isDisposed=!1,y.exportProperty(this,"dispose",this.dispose)},y.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},y.subscribable=function(){y.utils.setPrototypeOfOrExtend(this,x),x.init(this)};var w="change",x={init:function(e){e._subscriptions={},e._versionNumber=1},subscribe:function(e,t,n){var r=this;n=n||w;var i=t?e.bind(t):e,o=new y.subscription(r,i,function(){y.utils.arrayRemoveItem(r._subscriptions[n],o),r.afterSubscriptionRemove&&r.afterSubscriptionRemove(n)});return r.beforeSubscriptionAdd&&r.beforeSubscriptionAdd(n),r._subscriptions[n]||(r._subscriptions[n]=[]),r._subscriptions[n].push(o),o},notifySubscribers:function(e,t){if(t=t||w,t===w&&this.updateVersion(),this.hasSubscriptionsForEvent(t))try{y.dependencyDetection.begin();for(var n,r=this._subscriptions[t].slice(0),i=0;n=r[i];++i)n.isDisposed||n.callback(e)}finally{y.dependencyDetection.end()}},getVersion:function(){return this._versionNumber},hasChanged:function(e){return this.getVersion()!==e},updateVersion:function(){++this._versionNumber},limit:function(e){var t,n,r,i=this,o=y.isObservable(i),a="beforeChange";i._origNotifySubscribers||(i._origNotifySubscribers=i.notifySubscribers,i.notifySubscribers=p);var s=e(function(){i._notificationIsPending=!1,o&&r===i&&(r=i()),t=!1,i.isDifferent(n,r)&&i._origNotifySubscribers(n=r)});i._limitChange=function(e){i._notificationIsPending=t=!0,r=e,s()},i._limitBeforeChange=function(e){t||(n=e,i._origNotifySubscribers(e,a))}},hasSubscriptionsForEvent:function(e){return this._subscriptions[e]&&this._subscriptions[e].length},getSubscriptionsCount:function(e){if(e)return this._subscriptions[e]&&this._subscriptions[e].length||0;var t=0;return y.utils.objectForEach(this._subscriptions,function(e,n){"dirty"!==e&&(t+=n.length)}),t},isDifferent:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:f};y.exportProperty(x,"subscribe",x.subscribe),y.exportProperty(x,"extend",x.extend),y.exportProperty(x,"getSubscriptionsCount",x.getSubscriptionsCount),y.utils.canSetPrototype&&y.utils.setPrototypeOf(x,Function.prototype),y.subscribable.fn=x,y.isSubscribable=function(e){return null!=e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},y.exportSymbol("subscribable",y.subscribable),y.exportSymbol("isSubscribable",y.isSubscribable),y.computedContext=y.dependencyDetection=function(){function e(){return++o}function t(e){i.push(r),r=e}function n(){r=i.pop()}var r,i=[],o=0;return{begin:t,end:n,registerDependency:function(t){if(r){if(!y.isSubscribable(t))throw new Error("Only subscribable things can act as dependencies");r.callback.call(r.callbackTarget,t,t._id||(t._id=e()))}},ignore:function(e,r,i){try{return t(),e.apply(r,i||[])}finally{n()}},getDependenciesCount:function(){return r?r.computed.getDependenciesCount():void 0},isInitial:function(){return r?r.isInitial:void 0}}}(),y.exportSymbol("computedContext",y.computedContext),y.exportSymbol("computedContext.getDependenciesCount",y.computedContext.getDependenciesCount),y.exportSymbol("computedContext.isInitial",y.computedContext.isInitial),y.exportSymbol("ignoreDependencies",y.ignoreDependencies=y.dependencyDetection.ignore);var _=y.utils.createSymbolOrString("_latestValue");y.observable=function(e){function t(){return arguments.length>0?(t.isDifferent(t[_],arguments[0])&&(t.valueWillMutate(),t[_]=arguments[0],t.valueHasMutated()),this):(y.dependencyDetection.registerDependency(t),t[_])}return t[_]=e,y.utils.canSetPrototype||y.utils.extend(t,y.subscribable.fn),y.subscribable.fn.init(t),y.utils.setPrototypeOfOrExtend(t,S),y.options.deferUpdates&&y.extenders.deferred(t,!0),t};var S={equalityComparer:l,peek:function(){return this[_]},valueHasMutated:function(){this.notifySubscribers(this[_])},valueWillMutate:function(){this.notifySubscribers(this[_],"beforeChange")}};y.utils.canSetPrototype&&y.utils.setPrototypeOf(S,y.subscribable.fn);var k=y.observable.protoProperty="__ko_proto__";S[k]=y.observable,y.hasPrototype=function(e,n){return null===e||e===t||e[k]===t?!1:e[k]===n?!0:y.hasPrototype(e[k],n)},y.isObservable=function(e){return y.hasPrototype(e,y.observable)},y.isWriteableObservable=function(e){return"function"==typeof e&&e[k]===y.observable?!0:"function"==typeof e&&e[k]===y.dependentObservable&&e.hasWriteFunction?!0:!1},y.exportSymbol("observable",y.observable),y.exportSymbol("isObservable",y.isObservable),y.exportSymbol("isWriteableObservable",y.isWriteableObservable),y.exportSymbol("isWritableObservable",y.isWriteableObservable),y.exportSymbol("observable.fn",S),y.exportProperty(S,"peek",S.peek),y.exportProperty(S,"valueHasMutated",S.valueHasMutated),y.exportProperty(S,"valueWillMutate",S.valueWillMutate),y.observableArray=function(e){if(e=e||[],"object"!=typeof e||!("length"in e))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var t=y.observable(e);return y.utils.setPrototypeOfOrExtend(t,y.observableArray.fn),t.extend({trackArrayChanges:!0})},y.observableArray.fn={remove:function(e){for(var t=this.peek(),n=[],r="function"!=typeof e||y.isObservable(e)?function(t){return t===e}:e,i=0;i<t.length;i++){var o=t[i];r(o)&&(0===n.length&&this.valueWillMutate(),n.push(o),t.splice(i,1),i--)}return n.length&&this.valueHasMutated(),n},removeAll:function(e){if(e===t){var n=this.peek(),r=n.slice(0);return this.valueWillMutate(),n.splice(0,n.length),this.valueHasMutated(),r}return e?this.remove(function(t){return y.utils.arrayIndexOf(e,t)>=0}):[]},destroy:function(e){var t=this.peek(),n="function"!=typeof e||y.isObservable(e)?function(t){return t===e}:e;this.valueWillMutate();for(var r=t.length-1;r>=0;r--){var i=t[r];n(i)&&(t[r]._destroy=!0)}this.valueHasMutated()},destroyAll:function(e){return e===t?this.destroy(function(){return!0}):e?this.destroy(function(t){return y.utils.arrayIndexOf(e,t)>=0}):[]},indexOf:function(e){var t=this();return y.utils.arrayIndexOf(t,e)},replace:function(e,t){var n=this.indexOf(e);n>=0&&(this.valueWillMutate(),this.peek()[n]=t,this.valueHasMutated())}},y.utils.canSetPrototype&&y.utils.setPrototypeOf(y.observableArray.fn,y.observable.fn),y.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(e){y.observableArray.fn[e]=function(){var t=this.peek();this.valueWillMutate(),this.cacheDiffForKnownOperation(t,e,arguments);var n=t[e].apply(t,arguments);return this.valueHasMutated(),n===t?this:n}}),y.utils.arrayForEach(["slice"],function(e){y.observableArray.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),y.exportSymbol("observableArray",y.observableArray);var C="arrayChange";y.extenders.trackArrayChanges=function(e,t){function n(){if(!o){o=!0;var t=e.notifySubscribers;e.notifySubscribers=function(e,n){return n&&n!==w||++s,t.apply(this,arguments)};var n=[].concat(e.peek()||[]);a=null,i=e.subscribe(function(t){if(t=[].concat(t||[]),e.hasSubscriptionsForEvent(C))var i=r(n,t);n=t,a=null,s=0,i&&i.length&&e.notifySubscribers(i,C)})}}function r(t,n){return(!a||s>1)&&(a=y.utils.compareArrays(t,n,e.compareArrayOptions)),a}if(e.compareArrayOptions={},t&&"object"==typeof t&&y.utils.extend(e.compareArrayOptions,t),e.compareArrayOptions.sparse=!0,!e.cacheDiffForKnownOperation){var i,o=!1,a=null,s=0,u=e.beforeSubscriptionAdd,l=e.afterSubscriptionRemove;e.beforeSubscriptionAdd=function(t){u&&u.call(e,t),t===C&&n()},e.afterSubscriptionRemove=function(t){l&&l.call(e,t),t!==C||e.hasSubscriptionsForEvent(C)||(i.dispose(),o=!1)},e.cacheDiffForKnownOperation=function(e,t,n){function r(e,t,n){return i[i.length]={status:e,value:t,index:n}}if(o&&!s){var i=[],u=e.length,l=n.length,c=0;switch(t){case"push":c=u;case"unshift":for(var d=0;l>d;d++)r("added",n[d],c+d);break;case"pop":c=u-1;case"shift":u&&r("deleted",e[c],c);break;case"splice":for(var f=Math.min(Math.max(0,n[0]<0?u+n[0]:n[0]),u),p=1===l?u:Math.min(f+(n[1]||0),u),h=f+l-2,m=Math.max(p,h),g=[],v=[],d=f,b=2;m>d;++d,++b)p>d&&v.push(r("deleted",e[d],d)),h>d&&g.push(r("added",n[b],d));y.utils.findMovesInArrayComparison(v,g);break;default:return}a=i}}}};var T=y.utils.createSymbolOrString("_state");y.computed=y.dependentObservable=function(n,r,i){function o(){if(arguments.length>0){if("function"!=typeof a)throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return a.apply(s.evaluatorFunctionTarget,arguments),this}return y.dependencyDetection.registerDependency(o),(s.isStale||s.isSleeping&&o.haveDependenciesChanged())&&o.evaluateImmediate(),s.latestValue}if("object"==typeof n?i=n:(i=i||{},n&&(i.read=n)),"function"!=typeof i.read)throw Error("Pass a function that returns the value of the ko.computed");var a=i.write,s={latestValue:t,isStale:!0,isBeingEvaluated:!1,suppressDisposalUntilDisposeWhenReturnsFalse:!1,isDisposed:!1,pure:!1,isSleeping:!1,readFunction:i.read,evaluatorFunctionTarget:r||i.owner,disposeWhenNodeIsRemoved:i.disposeWhenNodeIsRemoved||i.disposeWhenNodeIsRemoved||null,disposeWhen:i.disposeWhen||i.disposeWhen,domNodeDisposalCallback:null,dependencyTracking:{},dependenciesCount:0,evaluationTimeoutInstance:null};return o[T]=s,o.hasWriteFunction="function"==typeof a,y.utils.canSetPrototype||y.utils.extend(o,y.subscribable.fn),y.subscribable.fn.init(o),y.utils.setPrototypeOfOrExtend(o,D),i.pure?(s.pure=!0,s.isSleeping=!0,y.utils.extend(o,E)):i.deferEvaluation&&y.utils.extend(o,A),y.options.deferUpdates&&y.extenders.deferred(o,!0),e&&(o._options=i),s.disposeWhenNodeIsRemoved&&(s.suppressDisposalUntilDisposeWhenReturnsFalse=!0,s.disposeWhenNodeIsRemoved.nodeType||(s.disposeWhenNodeIsRemoved=null)),s.isSleeping||i.deferEvaluation||o.evaluateImmediate(),s.disposeWhenNodeIsRemoved&&o.isActive()&&y.utils.domNodeDisposal.addDisposeCallback(s.disposeWhenNodeIsRemoved,s.domNodeDisposalCallback=function(){o.dispose()}),o};var D={equalityComparer:l,getDependenciesCount:function(){return this[T].dependenciesCount},addDependencyTracking:function(e,t,n){if(this[T].pure&&t===this)throw Error("A 'pure' computed must not be called recursively");this[T].dependencyTracking[e]=n,n._order=this[T].dependenciesCount++,n._version=t.getVersion()},haveDependenciesChanged:function(){var e,t,n=this[T].dependencyTracking;for(e in n)if(n.hasOwnProperty(e)&&(t=n[e],t._target.hasChanged(t._version)))return!0},markDirty:function(){this._evalDelayed&&!this[T].isBeingEvaluated&&this._evalDelayed()},isActive:function(){return this[T].isStale||this[T].dependenciesCount>0},respondToChange:function(){this._notificationIsPending||this.evaluatePossiblyAsync()},subscribeToDependency:function(e){if(e._deferUpdates&&!this[T].disposeWhenNodeIsRemoved){var t=e.subscribe(this.markDirty,this,"dirty"),n=e.subscribe(this.respondToChange,this);return{_target:e,dispose:function(){t.dispose(),n.dispose()}}}return e.subscribe(this.evaluatePossiblyAsync,this)},evaluatePossiblyAsync:function(){var e=this,t=e.throttleEvaluation;t&&t>=0?(clearTimeout(this[T].evaluationTimeoutInstance),this[T].evaluationTimeoutInstance=y.utils.setTimeout(function(){e.evaluateImmediate(!0)},t)):e._evalDelayed?e._evalDelayed():e.evaluateImmediate(!0)},evaluateImmediate:function(e){var t=this,n=t[T],r=n.disposeWhen;if(!n.isBeingEvaluated&&!n.isDisposed){if(n.disposeWhenNodeIsRemoved&&!y.utils.domNodeIsAttachedToDocument(n.disposeWhenNodeIsRemoved)||r&&r()){if(!n.suppressDisposalUntilDisposeWhenReturnsFalse)return void t.dispose()}else n.suppressDisposalUntilDisposeWhenReturnsFalse=!1;n.isBeingEvaluated=!0;try{this.evaluateImmediate_CallReadWithDependencyDetection(e)}finally{n.isBeingEvaluated=!1}n.dependenciesCount||t.dispose()}},evaluateImmediate_CallReadWithDependencyDetection:function(e){var n=this,r=n[T],i=r.pure?t:!r.dependenciesCount,o={computedObservable:n,disposalCandidates:r.dependencyTracking,disposalCount:r.dependenciesCount};y.dependencyDetection.begin({callbackTarget:o,callback:m,computed:n,isInitial:i}),r.dependencyTracking={},r.dependenciesCount=0;var a=this.evaluateImmediate_CallReadThenEndDependencyDetection(r,o);n.isDifferent(r.latestValue,a)&&(r.isSleeping||n.notifySubscribers(r.latestValue,"beforeChange"),r.latestValue=a,r.isSleeping?n.updateVersion():e&&n.notifySubscribers(r.latestValue)),i&&n.notifySubscribers(r.latestValue,"awake")},evaluateImmediate_CallReadThenEndDependencyDetection:function(e,t){try{var n=e.readFunction;return e.evaluatorFunctionTarget?n.call(e.evaluatorFunctionTarget):n()}finally{y.dependencyDetection.end(),t.disposalCount&&!e.isSleeping&&y.utils.objectForEach(t.disposalCandidates,h),e.isStale=!1}},peek:function(){var e=this[T];return(e.isStale&&!e.dependenciesCount||e.isSleeping&&this.haveDependenciesChanged())&&this.evaluateImmediate(),e.latestValue
},limit:function(e){y.subscribable.fn.limit.call(this,e),this._evalDelayed=function(){this._limitBeforeChange(this[T].latestValue),this[T].isStale=!0,this._limitChange(this)}},dispose:function(){var e=this[T];!e.isSleeping&&e.dependencyTracking&&y.utils.objectForEach(e.dependencyTracking,function(e,t){t.dispose&&t.dispose()}),e.disposeWhenNodeIsRemoved&&e.domNodeDisposalCallback&&y.utils.domNodeDisposal.removeDisposeCallback(e.disposeWhenNodeIsRemoved,e.domNodeDisposalCallback),e.dependencyTracking=null,e.dependenciesCount=0,e.isDisposed=!0,e.isStale=!1,e.isSleeping=!1,e.disposeWhenNodeIsRemoved=null}},E={beforeSubscriptionAdd:function(e){var t=this,n=t[T];if(!n.isDisposed&&n.isSleeping&&"change"==e){if(n.isSleeping=!1,n.isStale||t.haveDependenciesChanged())n.dependencyTracking=null,n.dependenciesCount=0,n.isStale=!0,t.evaluateImmediate();else{var r=[];y.utils.objectForEach(n.dependencyTracking,function(e,t){r[t._order]=e}),y.utils.arrayForEach(r,function(e,r){var i=n.dependencyTracking[e],o=t.subscribeToDependency(i._target);o._order=r,o._version=i._version,n.dependencyTracking[e]=o})}n.isDisposed||t.notifySubscribers(n.latestValue,"awake")}},afterSubscriptionRemove:function(e){var n=this[T];n.isDisposed||"change"!=e||this.hasSubscriptionsForEvent("change")||(y.utils.objectForEach(n.dependencyTracking,function(e,t){t.dispose&&(n.dependencyTracking[e]={_target:t._target,_order:t._order,_version:t._version},t.dispose())}),n.isSleeping=!0,this.notifySubscribers(t,"asleep"))},getVersion:function(){var e=this[T];return e.isSleeping&&(e.isStale||this.haveDependenciesChanged())&&this.evaluateImmediate(),y.subscribable.fn.getVersion.call(this)}},A={beforeSubscriptionAdd:function(e){("change"==e||"beforeChange"==e)&&this.peek()}};y.utils.canSetPrototype&&y.utils.setPrototypeOf(D,y.subscribable.fn);var O=y.observable.protoProperty;y.computed[O]=y.observable,D[O]=y.computed,y.isComputed=function(e){return y.hasPrototype(e,y.computed)},y.isPureComputed=function(e){return y.hasPrototype(e,y.computed)&&e[T]&&e[T].pure},y.exportSymbol("computed",y.computed),y.exportSymbol("dependentObservable",y.computed),y.exportSymbol("isComputed",y.isComputed),y.exportSymbol("isPureComputed",y.isPureComputed),y.exportSymbol("computed.fn",D),y.exportProperty(D,"peek",D.peek),y.exportProperty(D,"dispose",D.dispose),y.exportProperty(D,"isActive",D.isActive),y.exportProperty(D,"getDependenciesCount",D.getDependenciesCount),y.pureComputed=function(e,t){return"function"==typeof e?y.computed(e,t,{pure:!0}):(e=y.utils.extend({},e),e.pure=!0,y.computed(e,t))},y.exportSymbol("pureComputed",y.pureComputed),function(){function e(i,o,a){a=a||new r,i=o(i);var s=!("object"!=typeof i||null===i||i===t||i instanceof RegExp||i instanceof Date||i instanceof String||i instanceof Number||i instanceof Boolean);if(!s)return i;var u=i instanceof Array?[]:{};return a.save(i,u),n(i,function(n){var r=o(i[n]);switch(typeof r){case"boolean":case"number":case"string":case"function":u[n]=r;break;case"object":case"undefined":var s=a.get(r);u[n]=s!==t?s:e(r,o,a)}}),u}function n(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(var r in e)t(r)}function r(){this.keys=[],this.values=[]}var i=10;y.toJS=function(t){if(0==arguments.length)throw new Error("When calling ko.toJS, pass the object you want to convert.");return e(t,function(e){for(var t=0;y.isObservable(e)&&i>t;t++)e=e();return e})},y.toJSON=function(e,t,n){var r=y.toJS(e);return y.utils.stringifyJson(r,t,n)},r.prototype={constructor:r,save:function(e,t){var n=y.utils.arrayIndexOf(this.keys,e);n>=0?this.values[n]=t:(this.keys.push(e),this.values.push(t))},get:function(e){var n=y.utils.arrayIndexOf(this.keys,e);return n>=0?this.values[n]:t}}}(),y.exportSymbol("toJS",y.toJS),y.exportSymbol("toJSON",y.toJSON),function(){var e="__ko__hasDomDataOptionValue__";y.selectExtensions={readValue:function(n){switch(y.utils.tagNameLower(n)){case"option":return n[e]===!0?y.utils.domData.get(n,y.bindingHandlers.options.optionValueDomDataKey):y.utils.ieVersion<=7?n.getAttributeNode("value")&&n.getAttributeNode("value").specified?n.value:n.text:n.value;case"select":return n.selectedIndex>=0?y.selectExtensions.readValue(n.options[n.selectedIndex]):t;default:return n.value}},writeValue:function(n,r,i){switch(y.utils.tagNameLower(n)){case"option":switch(typeof r){case"string":y.utils.domData.set(n,y.bindingHandlers.options.optionValueDomDataKey,t),e in n&&delete n[e],n.value=r;break;default:y.utils.domData.set(n,y.bindingHandlers.options.optionValueDomDataKey,r),n[e]=!0,n.value="number"==typeof r?r:""}break;case"select":(""===r||null===r)&&(r=t);for(var o,a=-1,s=0,u=n.options.length;u>s;++s)if(o=y.selectExtensions.readValue(n.options[s]),o==r||""==o&&r===t){a=s;break}(i||a>=0||r===t&&n.size>1)&&(n.selectedIndex=a);break;default:(null===r||r===t)&&(r=""),n.value=r}}}}(),y.exportSymbol("selectExtensions",y.selectExtensions),y.exportSymbol("selectExtensions.readValue",y.selectExtensions.readValue),y.exportSymbol("selectExtensions.writeValue",y.selectExtensions.writeValue),y.expressionRewriting=function(){function e(e){if(y.utils.arrayIndexOf(r,e)>=0)return!1;var t=e.match(i);return null===t?!1:t[1]?"Object("+t[1]+")"+t[2]:e}function t(e){var t=y.utils.stringTrim(e);123===t.charCodeAt(0)&&(t=t.slice(1,-1));var n,r=[],i=t.match(d),o=[],a=0;if(i){i.push(",");for(var s,u=0;s=i[u];++u){var l=s.charCodeAt(0);if(44===l){if(0>=a){r.push(n&&o.length?{key:n,value:o.join("")}:{unknown:n||o.join("")}),n=a=0,o=[];continue}}else if(58===l){if(!a&&!n&&1===o.length){n=o.pop();continue}}else if(47===l&&u&&s.length>1){var c=i[u-1].match(f);c&&!p[c[0]]&&(t=t.substr(t.indexOf(s)+1),i=t.match(d),i.push(","),u=-1,s="/")}else 40===l||123===l||91===l?++a:41===l||125===l||93===l?--a:n||o.length||34!==l&&39!==l||(s=s.slice(1,-1));o.push(s)}}return r}function n(n,r){function i(t,n){function r(e){return e&&e.preprocess?n=e.preprocess(n,t,i):!0}var l;if(!u){if(!r(y.getBindingHandler(t)))return;h[t]&&(l=e(n))&&a.push("'"+t+"':function(_z){"+l+"=_z}")}s&&(n="function(){return "+n+" }"),o.push("'"+t+"':"+n)}r=r||{};var o=[],a=[],s=r.valueAccessors,u=r.bindingParams,l="string"==typeof n?t(n):n;return y.utils.arrayForEach(l,function(e){i(e.key||e.unknown,e.value)}),a.length&&i("_ko_property_writers","{"+a.join(",")+" }"),o.join(",")}var r=["true","false","null","undefined"],i=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,o='"(?:[^"\\\\]|\\\\.)*"',a="'(?:[^'\\\\]|\\\\.)*'",s="/(?:[^/\\\\]|\\\\.)*/w*",u=",\"'{}()/:[\\]",l="[^\\s:,/][^"+u+"]*[^\\s"+u+"]",c="[^\\s]",d=RegExp(o+"|"+a+"|"+s+"|"+l+"|"+c,"g"),f=/[\])"'A-Za-z0-9_$]+$/,p={"in":1,"return":1,"typeof":1},h={};return{bindingRewriteValidators:[],twoWayBindings:h,parseObjectLiteral:t,preProcessBindings:n,keyValueArrayContainsKey:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},writeValueToProperty:function(e,t,n,r,i){if(e&&y.isObservable(e))!y.isWriteableObservable(e)||i&&e.peek()===r||e(r);else{var o=t.get("_ko_property_writers");o&&o[n]&&o[n](r)}}}}(),y.exportSymbol("expressionRewriting",y.expressionRewriting),y.exportSymbol("expressionRewriting.bindingRewriteValidators",y.expressionRewriting.bindingRewriteValidators),y.exportSymbol("expressionRewriting.parseObjectLiteral",y.expressionRewriting.parseObjectLiteral),y.exportSymbol("expressionRewriting.preProcessBindings",y.expressionRewriting.preProcessBindings),y.exportSymbol("expressionRewriting._twoWayBindings",y.expressionRewriting.twoWayBindings),y.exportSymbol("jsonExpressionRewriting",y.expressionRewriting),y.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",y.expressionRewriting.preProcessBindings),function(){function e(e){return 8==e.nodeType&&s.test(a?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&u.test(a?e.text:e.nodeValue)}function n(n,r){for(var i=n,o=1,a=[];i=i.nextSibling;){if(t(i)&&(o--,0===o))return a;a.push(i),e(i)&&o++}if(!r)throw new Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function i(e,t){var r=n(e,t);return r?r.length>0?r[r.length-1].nextSibling:e.nextSibling:null}function o(n){var r=n.firstChild,o=null;if(r)do if(o)o.push(r);else if(e(r)){var a=i(r,!0);a?r=a:o=[r]}else t(r)&&(o=[r]);while(r=r.nextSibling);return o}var a=r&&"<!--test-->"===r.createComment("test").text,s=a?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,u=a?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0};y.virtualElements={allowedBindings:{},childNodes:function(t){return e(t)?n(t):t.childNodes},emptyNode:function(t){if(e(t))for(var n=y.virtualElements.childNodes(t),r=0,i=n.length;i>r;r++)y.removeNode(n[r]);else y.utils.emptyDomNode(t)},setDomNodeChildren:function(t,n){if(e(t)){y.virtualElements.emptyNode(t);for(var r=t.nextSibling,i=0,o=n.length;o>i;i++)r.parentNode.insertBefore(n[i],r)}else y.utils.setDomNodeChildren(t,n)},prepend:function(t,n){e(t)?t.parentNode.insertBefore(n,t.nextSibling):t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},insertAfter:function(t,n,r){r?e(t)?t.parentNode.insertBefore(n,r.nextSibling):r.nextSibling?t.insertBefore(n,r.nextSibling):t.appendChild(n):y.virtualElements.prepend(t,n)},firstChild:function(n){return e(n)?!n.nextSibling||t(n.nextSibling)?null:n.nextSibling:n.firstChild},nextSibling:function(n){return e(n)&&(n=i(n)),n.nextSibling&&t(n.nextSibling)?null:n.nextSibling},hasBindingValue:e,virtualNodeBindingValue:function(e){var t=(a?e.text:e.nodeValue).match(s);return t?t[1]:null},normaliseVirtualElementDomStructure:function(e){if(l[y.utils.tagNameLower(e)]){var t=e.firstChild;if(t)do if(1===t.nodeType){var n=o(t);if(n)for(var r=t.nextSibling,i=0;i<n.length;i++)r?e.insertBefore(n[i],r):e.appendChild(n[i])}while(t=t.nextSibling)}}}}(),y.exportSymbol("virtualElements",y.virtualElements),y.exportSymbol("virtualElements.allowedBindings",y.virtualElements.allowedBindings),y.exportSymbol("virtualElements.emptyNode",y.virtualElements.emptyNode),y.exportSymbol("virtualElements.insertAfter",y.virtualElements.insertAfter),y.exportSymbol("virtualElements.prepend",y.virtualElements.prepend),y.exportSymbol("virtualElements.setDomNodeChildren",y.virtualElements.setDomNodeChildren),function(){function e(e,n,r){var i=e+(r&&r.valueAccessors||"");return n[i]||(n[i]=t(e,r))}function t(e,t){var n=y.expressionRewriting.preProcessBindings(e,t),r="with($context){with($data||{}){return{"+n+"}}}";return new Function("$context","$element",r)}var n="data-bind";y.bindingProvider=function(){this.bindingCache={}},y.utils.extend(y.bindingProvider.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute(n)||y.components.getComponentNameForNode(e);case 8:return y.virtualElements.hasBindingValue(e);default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t),r=n?this.parseBindingsString(n,t,e):null;return y.components.addBindingsForCustomElement(r,e,t,!1)},getBindingAccessors:function(e,t){var n=this.getBindingsString(e,t),r=n?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;return y.components.addBindingsForCustomElement(r,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute(n);case 8:return y.virtualElements.virtualNodeBindingValue(e);default:return null}},parseBindingsString:function(t,n,r,i){try{var o=e(t,this.bindingCache,i);return o(n,r)}catch(a){throw a.message="Unable to parse bindings.\nBindings value: "+t+"\nMessage: "+a.message,a}}}),y.bindingProvider.instance=new y.bindingProvider}(),y.exportSymbol("bindingProvider",y.bindingProvider),function(){function e(e){return function(){return e}}function r(e){return e()}function i(e){return y.utils.objectMap(y.dependencyDetection.ignore(e),function(t,n){return function(){return e()[n]}})}function a(t,n,r){return"function"==typeof t?i(t.bind(null,n,r)):y.utils.objectMap(t,e)}function s(e,t){return i(this.getBindings.bind(this,e,t))}function u(e){var t=y.virtualElements.allowedBindings[e];if(!t)throw new Error("The binding '"+e+"' cannot be used with virtual elements")}function l(e,t,n){var r,i=y.virtualElements.firstChild(t),o=y.bindingProvider.instance,a=o.preprocessNode;if(a){for(;r=i;)i=y.virtualElements.nextSibling(r),a.call(o,r);i=y.virtualElements.firstChild(t)}for(;r=i;)i=y.virtualElements.nextSibling(r),c(e,r,n)}function c(e,t,n){var r=!0,i=1===t.nodeType;i&&y.virtualElements.normaliseVirtualElementDomStructure(t);var o=i&&n||y.bindingProvider.instance.nodeHasBindings(t);o&&(r=f(t,null,e,n).shouldBindDescendants),r&&!h[y.utils.tagNameLower(t)]&&l(e,t,!i)}function d(e){var t=[],n={},r=[];return y.utils.objectForEach(e,function i(o){if(!n[o]){var a=y.getBindingHandler(o);a&&(a.after&&(r.push(o),y.utils.arrayForEach(a.after,function(t){if(e[t]){if(-1!==y.utils.arrayIndexOf(r,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+r.join(", "));i(t)}}),r.length--),t.push({key:o,handler:a})),n[o]=!0}}),t}function f(e,n,i,o){function a(){return y.utils.objectMap(h?h():c,r)}var l=y.utils.domData.get(e,m);if(!n){if(l)throw Error("You cannot apply bindings multiple times to the same element.");y.utils.domData.set(e,m,!0)}!l&&o&&y.storedBindingContextForNode(e,i);var c;if(n&&"function"!=typeof n)c=n;else{var f=y.bindingProvider.instance,p=f.getBindingAccessors||s,h=y.dependentObservable(function(){return c=n?n(i,e):p.call(f,e,i),c&&i._subscribable&&i._subscribable(),c},null,{disposeWhenNodeIsRemoved:e});c&&h.isActive()||(h=null)}var g;if(c){var v=h?function(e){return function(){return r(h()[e])}}:function(e){return c[e]};a.get=function(e){return c[e]&&r(v(e))},a.has=function(e){return e in c};var b=d(c);y.utils.arrayForEach(b,function(n){var r=n.handler.init,o=n.handler.update,s=n.key;8===e.nodeType&&u(s);try{"function"==typeof r&&y.dependencyDetection.ignore(function(){var n=r(e,v(s),a,i.$data,i);if(n&&n.controlsDescendantBindings){if(g!==t)throw new Error("Multiple bindings ("+g+" and "+s+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");g=s}}),"function"==typeof o&&y.dependentObservable(function(){o(e,v(s),a,i.$data,i)},null,{disposeWhenNodeIsRemoved:e})}catch(l){throw l.message='Unable to process binding "'+s+": "+c[s]+'"\nMessage: '+l.message,l}})}return{shouldBindDescendants:g===t}}function p(e){return e&&e instanceof y.bindingContext?e:new y.bindingContext(e)}y.bindingHandlers={};var h={script:!0,textarea:!0,template:!0};y.getBindingHandler=function(e){return y.bindingHandlers[e]},y.bindingContext=function(e,n,r,i){function o(){var t=l?e():e,o=y.utils.unwrapObservable(t);return n?(n._subscribable&&n._subscribable(),y.utils.extend(u,n),c&&(u._subscribable=c)):(u.$parents=[],u.$root=o,u.ko=y),u.$rawData=t,u.$data=o,r&&(u[r]=o),i&&i(u,n,o),u.$data}function a(){return s&&!y.utils.anyDomNodeIsAttachedToDocument(s)}var s,u=this,l="function"==typeof e&&!y.isObservable(e),c=y.dependentObservable(o,null,{disposeWhen:a,disposeWhenNodeIsRemoved:!0});c.isActive()&&(u._subscribable=c,c.equalityComparer=null,s=[],c._addNode=function(e){s.push(e),y.utils.domNodeDisposal.addDisposeCallback(e,function(e){y.utils.arrayRemoveItem(s,e),s.length||(c.dispose(),u._subscribable=c=t)})})},y.bindingContext.prototype.createChildContext=function(e,t,n){return new y.bindingContext(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)})},y.bindingContext.prototype.extend=function(e){return new y.bindingContext(this._subscribable||this.$data,this,null,function(t,n){t.$rawData=n.$rawData,y.utils.extend(t,"function"==typeof e?e():e)})};var m=y.utils.domData.nextKey(),g=y.utils.domData.nextKey();y.storedBindingContextForNode=function(e,t){return 2!=arguments.length?y.utils.domData.get(e,g):(y.utils.domData.set(e,g,t),void(t._subscribable&&t._subscribable._addNode(e)))},y.applyBindingAccessorsToNode=function(e,t,n){return 1===e.nodeType&&y.virtualElements.normaliseVirtualElementDomStructure(e),f(e,t,p(n),!0)},y.applyBindingsToNode=function(e,t,n){var r=p(n);return y.applyBindingAccessorsToNode(e,a(t,r,e),r)},y.applyBindingsToDescendants=function(e,t){(1===t.nodeType||8===t.nodeType)&&l(p(e),t,!0)},y.applyBindings=function(e,t){if(!o&&n.jQuery&&(o=n.jQuery),t&&1!==t.nodeType&&8!==t.nodeType)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||n.document.body,c(p(e),t,!0)},y.contextFor=function(e){switch(e.nodeType){case 1:case 8:var n=y.storedBindingContextForNode(e);if(n)return n;if(e.parentNode)return y.contextFor(e.parentNode)}return t},y.dataFor=function(e){var n=y.contextFor(e);return n?n.$data:t},y.exportSymbol("bindingHandlers",y.bindingHandlers),y.exportSymbol("applyBindings",y.applyBindings),y.exportSymbol("applyBindingsToDescendants",y.applyBindingsToDescendants),y.exportSymbol("applyBindingAccessorsToNode",y.applyBindingAccessorsToNode),y.exportSymbol("applyBindingsToNode",y.applyBindingsToNode),y.exportSymbol("contextFor",y.contextFor),y.exportSymbol("dataFor",y.dataFor)}(),function(e){function t(t,n){return t.hasOwnProperty(n)?t[n]:e}function n(e,n){var i,s=t(o,e);s?s.subscribe(n):(s=o[e]=new y.subscribable,s.subscribe(n),r(e,function(t,n){var r=!(!n||!n.synchronous);a[e]={definition:t,isSynchronousComponent:r},delete o[e],i||r?s.notifySubscribers(t):y.tasks.schedule(function(){s.notifySubscribers(t)})}),i=!0)}function r(e,t){i("getConfig",[e],function(n){n?i("loadComponent",[e,n],function(e){t(e,n)}):t(null,null)})}function i(t,n,r,o){o||(o=y.components.loaders.slice(0));var a=o.shift();if(a){var s=a[t];if(s){var u=!1,l=s.apply(a,n.concat(function(e){u?r(null):null!==e?r(e):i(t,n,r,o)}));if(l!==e&&(u=!0,!a.suppressLoaderExceptions))throw new Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else i(t,n,r,o)}else r(null)}var o={},a={};y.components={get:function(e,r){var i=t(a,e);i?i.isSynchronousComponent?y.dependencyDetection.ignore(function(){r(i.definition)}):y.tasks.schedule(function(){r(i.definition)}):n(e,r)},clearCachedDefinition:function(e){delete a[e]},_getFirstResultFromLoaders:i},y.components.loaders=[],y.exportSymbol("components",y.components),y.exportSymbol("components.get",y.components.get),y.exportSymbol("components.clearCachedDefinition",y.components.clearCachedDefinition)}(),function(){function e(e,t,n,r){var i={},o=2,a=function(){0===--o&&r(i)},s=n.template,u=n.viewModel;s?l(t,s,function(t){y.components._getFirstResultFromLoaders("loadTemplate",[e,t],function(e){i.template=e,a()})}):a(),u?l(t,u,function(t){y.components._getFirstResultFromLoaders("loadViewModel",[e,t],function(e){i[f]=e,a()})}):a()}function t(e,t,n){if("string"==typeof t)n(y.utils.parseHtmlFragment(t));else if(t instanceof Array)n(t);else if(s(t))n(y.utils.makeArray(t.childNodes));else if(t.element){var i=t.element;if(a(i))n(o(i));else if("string"==typeof i){var u=r.getElementById(i);u?n(o(u)):e("Cannot find element with ID "+i)}else e("Unknown element type: "+i)}else e("Unknown template value: "+t)}function i(e,t,n){if("function"==typeof t)n(function(e){return new t(e)});else if("function"==typeof t[f])n(t[f]);else if("instance"in t){var r=t.instance;n(function(){return r})}else"viewModel"in t?i(e,t.viewModel,n):e("Unknown viewModel value: "+t)}function o(e){switch(y.utils.tagNameLower(e)){case"script":return y.utils.parseHtmlFragment(e.text);case"textarea":return y.utils.parseHtmlFragment(e.value);case"template":if(s(e.content))return y.utils.cloneNodes(e.content.childNodes)}return y.utils.cloneNodes(e.childNodes)}function a(e){return n.HTMLElement?e instanceof HTMLElement:e&&e.tagName&&1===e.nodeType}function s(e){return n.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function l(e,t,r){"string"==typeof t.require?u||n.require?(u||n.require)([t.require],r):e("Uses require, but no AMD loader is present"):r(t)}function c(e){return function(t){throw new Error("Component '"+e+"': "+t)}}var d={};y.components.register=function(e,t){if(!t)throw new Error("Invalid configuration for "+e);if(y.components.isRegistered(e))throw new Error("Component "+e+" is already registered");d[e]=t},y.components.isRegistered=function(e){return d.hasOwnProperty(e)},y.components.unregister=function(e){delete d[e],y.components.clearCachedDefinition(e)},y.components.defaultLoader={getConfig:function(e,t){var n=d.hasOwnProperty(e)?d[e]:null;t(n)},loadComponent:function(t,n,r){var i=c(t);l(i,n,function(n){e(t,i,n,r)})},loadTemplate:function(e,n,r){t(c(e),n,r)},loadViewModel:function(e,t,n){i(c(e),t,n)}};var f="createViewModel";y.exportSymbol("components.register",y.components.register),y.exportSymbol("components.isRegistered",y.components.isRegistered),y.exportSymbol("components.unregister",y.components.unregister),y.exportSymbol("components.defaultLoader",y.components.defaultLoader),y.components.loaders.push(y.components.defaultLoader),y.components._allRegisteredComponents=d}(),function(){function e(e,n){var r=e.getAttribute("params");if(r){var i=t.parseBindingsString(r,n,e,{valueAccessors:!0,bindingParams:!0}),o=y.utils.objectMap(i,function(t){return y.computed(t,null,{disposeWhenNodeIsRemoved:e})}),a=y.utils.objectMap(o,function(t){var n=t.peek();return t.isActive()?y.computed({read:function(){return y.utils.unwrapObservable(t())},write:y.isWriteableObservable(n)&&function(e){t()(e)},disposeWhenNodeIsRemoved:e}):n});return a.hasOwnProperty("$raw")||(a.$raw=o),a}return{$raw:{}}}y.components.getComponentNameForNode=function(e){var t=y.utils.tagNameLower(e);return y.components.isRegistered(t)&&(-1!=t.indexOf("-")||""+e=="[object HTMLUnknownElement]"||y.utils.ieVersion<=8&&e.tagName===t)?t:void 0},y.components.addBindingsForCustomElement=function(t,n,r,i){if(1===n.nodeType){var o=y.components.getComponentNameForNode(n);if(o){if(t=t||{},t.component)throw new Error('Cannot use the "component" binding on a custom element matching a component');var a={name:o,params:e(n,r)};t.component=i?function(){return a}:a}}return t};var t=new y.bindingProvider;y.utils.ieVersion<9&&(y.components.register=function(e){return function(t){return r.createElement(t),e.apply(this,arguments)}}(y.components.register),r.createDocumentFragment=function(e){return function(){var t=e(),n=y.components._allRegisteredComponents;for(var r in n)n.hasOwnProperty(r)&&t.createElement(r);return t}}(r.createDocumentFragment))}(),function(e){function t(e,t,n){var r=t.template;if(!r)throw new Error("Component '"+e+"' has no template");var i=y.utils.cloneNodes(r);y.virtualElements.setDomNodeChildren(n,i)}function n(e,t,n,r){var i=e.createViewModel;return i?i.call(e,r,{element:t,templateNodes:n}):r}var r=0;y.bindingHandlers.component={init:function(i,o,a,s,u){var l,c,d=function(){var e=l&&l.dispose;"function"==typeof e&&e.call(l),l=null,c=null},f=y.utils.makeArray(y.virtualElements.childNodes(i));return y.utils.domNodeDisposal.addDisposeCallback(i,d),y.computed(function(){var a,s,p=y.utils.unwrapObservable(o());if("string"==typeof p?a=p:(a=y.utils.unwrapObservable(p.name),s=y.utils.unwrapObservable(p.params)),!a)throw new Error("No component name specified");var h=c=++r;y.components.get(a,function(r){if(c===h){if(d(),!r)throw new Error("Unknown component '"+a+"'");t(a,r,i);var o=n(r,i,f,s),p=u.createChildContext(o,e,function(e){e.$component=o,e.$componentTemplateNodes=f});l=o,y.applyBindingsToDescendants(p,i)}})},null,{disposeWhenNodeIsRemoved:i}),{controlsDescendantBindings:!0}}},y.virtualElements.allowedBindings.component=!0}();var N={"class":"className","for":"htmlFor"};y.bindingHandlers.attr={update:function(e,n){var r=y.utils.unwrapObservable(n())||{};y.utils.objectForEach(r,function(n,r){r=y.utils.unwrapObservable(r);var i=r===!1||null===r||r===t;i&&e.removeAttribute(n),y.utils.ieVersion<=8&&n in N?(n=N[n],i?e.removeAttribute(n):e[n]=r):i||e.setAttribute(n,r.toString()),"name"===n&&y.utils.setElementName(e,i?"":r.toString())})}},function(){y.bindingHandlers.checked={after:["value","attr"],init:function(e,n,r){function i(){var t=e.checked,i=p?a():t;if(!y.computedContext.isInitial()&&(!u||t)){var o=y.dependencyDetection.ignore(n);if(c){var s=d?o.peek():o;f!==i?(t&&(y.utils.addOrRemoveItem(s,i,!0),y.utils.addOrRemoveItem(s,f,!1)),f=i):y.utils.addOrRemoveItem(s,i,t),d&&y.isWriteableObservable(o)&&o(s)}else y.expressionRewriting.writeValueToProperty(o,r,"checked",i,!0)}}function o(){var t=y.utils.unwrapObservable(n());e.checked=c?y.utils.arrayIndexOf(t,a())>=0:s?t:a()===t}var a=y.pureComputed(function(){return r.has("checkedValue")?y.utils.unwrapObservable(r.get("checkedValue")):r.has("value")?y.utils.unwrapObservable(r.get("value")):e.value}),s="checkbox"==e.type,u="radio"==e.type;if(s||u){var l=n(),c=s&&y.utils.unwrapObservable(l)instanceof Array,d=!(c&&l.push&&l.splice),f=c?a():t,p=u||c;u&&!e.name&&y.bindingHandlers.uniqueName.init(e,function(){return!0}),y.computed(i,null,{disposeWhenNodeIsRemoved:e}),y.utils.registerEventHandler(e,"click",i),y.computed(o,null,{disposeWhenNodeIsRemoved:e}),l=t}}},y.expressionRewriting.twoWayBindings.checked=!0,y.bindingHandlers.checkedValue={update:function(e,t){e.value=y.utils.unwrapObservable(t())}}}();var j="__ko__cssValue";y.bindingHandlers.css={update:function(e,t){var n=y.utils.unwrapObservable(t());null!==n&&"object"==typeof n?y.utils.objectForEach(n,function(t,n){n=y.utils.unwrapObservable(n),y.utils.toggleDomNodeCssClass(e,t,n)}):(n=y.utils.stringTrim(String(n||"")),y.utils.toggleDomNodeCssClass(e,e[j],!1),e[j]=n,y.utils.toggleDomNodeCssClass(e,n,!0))}},y.bindingHandlers.enable={update:function(e,t){var n=y.utils.unwrapObservable(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},y.bindingHandlers.disable={update:function(e,t){y.bindingHandlers.enable.update(e,function(){return!y.utils.unwrapObservable(t())})}},y.bindingHandlers.event={init:function(e,t,n,r,i){var o=t()||{};y.utils.objectForEach(o,function(o){"string"==typeof o&&y.utils.registerEventHandler(e,o,function(e){var a,s=t()[o];if(s){try{var u=y.utils.makeArray(arguments);r=i.$data,u.unshift(r),a=s.apply(r,u)}finally{a!==!0&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}var l=n.get(o+"Bubble")!==!1;l||(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},y.bindingHandlers.foreach={makeTemplateValueAccessor:function(e){return function(){var t=e(),n=y.utils.peekObservable(t);return n&&"number"!=typeof n.length?(y.utils.unwrapObservable(t),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:y.nativeTemplateEngine.instance}):{foreach:t,templateEngine:y.nativeTemplateEngine.instance}}},init:function(e,t){return y.bindingHandlers.template.init(e,y.bindingHandlers.foreach.makeTemplateValueAccessor(t))},update:function(e,t,n,r,i){return y.bindingHandlers.template.update(e,y.bindingHandlers.foreach.makeTemplateValueAccessor(t),n,r,i)}},y.expressionRewriting.bindingRewriteValidators.foreach=!1,y.virtualElements.allowedBindings.foreach=!0;var M="__ko_hasfocusUpdating",R="__ko_hasfocusLastValue";y.bindingHandlers.hasfocus={init:function(e,t,n){var r=function(r){e[M]=!0;var i=e.ownerDocument;if("activeElement"in i){var o;try{o=i.activeElement}catch(a){o=i.body}r=o===e}var s=t();y.expressionRewriting.writeValueToProperty(s,n,"hasfocus",r,!0),e[R]=r,e[M]=!1},i=r.bind(null,!0),o=r.bind(null,!1);y.utils.registerEventHandler(e,"focus",i),y.utils.registerEventHandler(e,"focusin",i),y.utils.registerEventHandler(e,"blur",o),y.utils.registerEventHandler(e,"focusout",o)},update:function(e,t){var n=!!y.utils.unwrapObservable(t());e[M]||e[R]===n||(n?e.focus():e.blur(),!n&&e[R]&&e.ownerDocument.body.focus(),y.dependencyDetection.ignore(y.utils.triggerEvent,null,[e,n?"focusin":"focusout"]))}},y.expressionRewriting.twoWayBindings.hasfocus=!0,y.bindingHandlers.hasFocus=y.bindingHandlers.hasfocus,y.expressionRewriting.twoWayBindings.hasFocus=!0,y.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){y.utils.setHtml(e,t())}},v("if"),v("ifnot",!1,!0),v("with",!0,!1,function(e,t){return e.createChildContext(t)});var P={};y.bindingHandlers.options={init:function(e){if("select"!==y.utils.tagNameLower(e))throw new Error("options binding applies only to SELECT elements");for(;e.length>0;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,n,r){function i(){return y.utils.arrayFilter(e.options,function(e){return e.selected})}function o(e,t,n){var r=typeof t;return"function"==r?t(e):"string"==r?e[t]:n}function a(n,i,a){a.length&&(v=!h&&a[0].selected?[y.selectExtensions.readValue(a[0])]:[],b=!0);var s=e.ownerDocument.createElement("option");if(n===P)y.utils.setTextContent(s,r.get("optionsCaption")),y.selectExtensions.writeValue(s,t);else{var u=o(n,r.get("optionsValue"),n);y.selectExtensions.writeValue(s,y.utils.unwrapObservable(u));var l=o(n,r.get("optionsText"),u);y.utils.setTextContent(s,l)}return[s]}function s(t,n){if(b&&h)y.selectExtensions.writeValue(e,y.utils.unwrapObservable(r.get("value")),!0);else if(v.length){var i=y.utils.arrayIndexOf(v,y.selectExtensions.readValue(n[0]))>=0;y.utils.setOptionNodeSelectionState(n[0],i),b&&!i&&y.dependencyDetection.ignore(y.utils.triggerEvent,null,[e,"change"])}}var u,l,c=0==e.length,d=e.multiple,f=!c&&d?e.scrollTop:null,p=y.utils.unwrapObservable(n()),h=r.get("valueAllowUnset")&&r.has("value"),m=r.get("optionsIncludeDestroyed"),g={},v=[];h||(d?v=y.utils.arrayMap(i(),y.selectExtensions.readValue):e.selectedIndex>=0&&v.push(y.selectExtensions.readValue(e.options[e.selectedIndex]))),p&&("undefined"==typeof p.length&&(p=[p]),l=y.utils.arrayFilter(p,function(e){return m||e===t||null===e||!y.utils.unwrapObservable(e._destroy)}),r.has("optionsCaption")&&(u=y.utils.unwrapObservable(r.get("optionsCaption")),null!==u&&u!==t&&l.unshift(P)));var b=!1;g.beforeRemove=function(t){e.removeChild(t)};var w=s;r.has("optionsAfterRender")&&"function"==typeof r.get("optionsAfterRender")&&(w=function(e,n){s(e,n),y.dependencyDetection.ignore(r.get("optionsAfterRender"),null,[n[0],e!==P?e:t])}),y.utils.setDomNodeChildrenFromArrayMapping(e,l,a,g,w),y.dependencyDetection.ignore(function(){if(h)y.selectExtensions.writeValue(e,y.utils.unwrapObservable(r.get("value")),!0);else{var t;t=d?v.length&&i().length<v.length:v.length&&e.selectedIndex>=0?y.selectExtensions.readValue(e.options[e.selectedIndex])!==v[0]:v.length||e.selectedIndex>=0,t&&y.utils.triggerEvent(e,"change")}}),y.utils.ensureSelectElementIsRenderedCorrectly(e),f&&Math.abs(f-e.scrollTop)>20&&(e.scrollTop=f)}},y.bindingHandlers.options.optionValueDomDataKey=y.utils.domData.nextKey(),y.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(e,t,n){y.utils.registerEventHandler(e,"change",function(){var r=t(),i=[];y.utils.arrayForEach(e.getElementsByTagName("option"),function(e){e.selected&&i.push(y.selectExtensions.readValue(e))}),y.expressionRewriting.writeValueToProperty(r,n,"selectedOptions",i)})},update:function(e,t){if("select"!=y.utils.tagNameLower(e))throw new Error("values binding applies only to SELECT elements");var n=y.utils.unwrapObservable(t()),r=e.scrollTop;n&&"number"==typeof n.length&&y.utils.arrayForEach(e.getElementsByTagName("option"),function(e){var t=y.utils.arrayIndexOf(n,y.selectExtensions.readValue(e))>=0;e.selected!=t&&y.utils.setOptionNodeSelectionState(e,t)}),e.scrollTop=r}},y.expressionRewriting.twoWayBindings.selectedOptions=!0,y.bindingHandlers.style={update:function(e,n){var r=y.utils.unwrapObservable(n()||{});y.utils.objectForEach(r,function(n,r){r=y.utils.unwrapObservable(r),(null===r||r===t||r===!1)&&(r=""),e.style[n]=r})}},y.bindingHandlers.submit={init:function(e,t,n,r,i){if("function"!=typeof t())throw new Error("The value for a submit binding must be a function");y.utils.registerEventHandler(e,"submit",function(n){var r,o=t();try{r=o.call(i.$data,e)
}finally{r!==!0&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},y.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){y.utils.setTextContent(e,t())}},y.virtualElements.allowedBindings.text=!0,function(){if(n&&n.navigator)var r=function(e){return e?parseFloat(e[1]):void 0},i=n.opera&&n.opera.version&&parseInt(n.opera.version()),o=n.navigator.userAgent,a=r(o.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),s=r(o.match(/Firefox\/([^ ]*)/));if(y.utils.ieVersion<10)var u=y.utils.domData.nextKey(),l=y.utils.domData.nextKey(),c=function(e){var t=this.activeElement,n=t&&y.utils.domData.get(t,l);n&&n(e)},d=function(e,t){var n=e.ownerDocument;y.utils.domData.get(n,u)||(y.utils.domData.set(n,u,!0),y.utils.registerEventHandler(n,"selectionchange",c)),y.utils.domData.set(e,l,t)};y.bindingHandlers.textInput={init:function(n,r,o){var u,l,c=n.value,f=function(i){clearTimeout(u),l=u=t;var a=n.value;c!==a&&(e&&i&&(n._ko_textInputProcessedEvent=i.type),c=a,y.expressionRewriting.writeValueToProperty(r(),o,"textInput",a))},p=function(t){if(!u){l=n.value;var r=e?f.bind(n,{type:t.type}):f;u=y.utils.setTimeout(r,4)}},h=9==y.utils.ieVersion?p:f,m=function(){var e=y.utils.unwrapObservable(r());return(null===e||e===t)&&(e=""),l!==t&&e===l?void y.utils.setTimeout(m,4):void(n.value!==e&&(c=e,n.value=e))},g=function(e,t){y.utils.registerEventHandler(n,e,t)};e&&y.bindingHandlers.textInput._forceUpdateOn?y.utils.arrayForEach(y.bindingHandlers.textInput._forceUpdateOn,function(e){"after"==e.slice(0,5)?g(e.slice(5),p):g(e,f)}):y.utils.ieVersion<10?(g("propertychange",function(e){"value"===e.propertyName&&h(e)}),8==y.utils.ieVersion&&(g("keyup",f),g("keydown",f)),y.utils.ieVersion>=8&&(d(n,h),g("dragend",p))):(g("input",f),5>a&&"textarea"===y.utils.tagNameLower(n)?(g("keydown",p),g("paste",p),g("cut",p)):11>i?g("keydown",p):4>s&&(g("DOMAutoComplete",f),g("dragdrop",f),g("drop",f))),g("change",f),y.computed(m,null,{disposeWhenNodeIsRemoved:n})}},y.expressionRewriting.twoWayBindings.textInput=!0,y.bindingHandlers.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),y.bindingHandlers.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++y.bindingHandlers.uniqueName.currentIndex;y.utils.setElementName(e,n)}}},y.bindingHandlers.uniqueName.currentIndex=0,y.bindingHandlers.value={after:["options","foreach"],init:function(e,t,n){if("input"==e.tagName.toLowerCase()&&("checkbox"==e.type||"radio"==e.type))return void y.applyBindingAccessorsToNode(e,{checkedValue:t});var r=["change"],i=n.get("valueUpdate"),o=!1,a=null;i&&("string"==typeof i&&(i=[i]),y.utils.arrayPushAll(r,i),r=y.utils.arrayGetDistinctValues(r));var s=function(){a=null,o=!1;var r=t(),i=y.selectExtensions.readValue(e);y.expressionRewriting.writeValueToProperty(r,n,"value",i)},u=y.utils.ieVersion&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&"off"!=e.autocomplete&&(!e.form||"off"!=e.form.autocomplete);u&&-1==y.utils.arrayIndexOf(r,"propertychange")&&(y.utils.registerEventHandler(e,"propertychange",function(){o=!0}),y.utils.registerEventHandler(e,"focus",function(){o=!1}),y.utils.registerEventHandler(e,"blur",function(){o&&s()})),y.utils.arrayForEach(r,function(t){var n=s;y.utils.stringStartsWith(t,"after")&&(n=function(){a=y.selectExtensions.readValue(e),y.utils.setTimeout(s,0)},t=t.substring("after".length)),y.utils.registerEventHandler(e,t,n)});var l=function(){var r=y.utils.unwrapObservable(t()),i=y.selectExtensions.readValue(e);if(null!==a&&r===a)return void y.utils.setTimeout(l,0);var o=r!==i;if(o)if("select"===y.utils.tagNameLower(e)){var s=n.get("valueAllowUnset"),u=function(){y.selectExtensions.writeValue(e,r,s)};u(),s||r===y.selectExtensions.readValue(e)?y.utils.setTimeout(u,0):y.dependencyDetection.ignore(y.utils.triggerEvent,null,[e,"change"])}else y.selectExtensions.writeValue(e,r)};y.computed(l,null,{disposeWhenNodeIsRemoved:e})},update:function(){}},y.expressionRewriting.twoWayBindings.value=!0,y.bindingHandlers.visible={update:function(e,t){var n=y.utils.unwrapObservable(t()),r=!("none"==e.style.display);n&&!r?e.style.display="":!n&&r&&(e.style.display="none")}},g("click"),y.templateEngine=function(){},y.templateEngine.prototype.renderTemplateSource=function(){throw new Error("Override renderTemplateSource")},y.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(){throw new Error("Override createJavaScriptEvaluatorBlock")},y.templateEngine.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){t=t||r;var n=t.getElementById(e);if(!n)throw new Error("Cannot find template with ID "+e);return new y.templateSources.domElement(n)}if(1==e.nodeType||8==e.nodeType)return new y.templateSources.anonymousTemplate(e);throw new Error("Unknown template type: "+e)},y.templateEngine.prototype.renderTemplate=function(e,t,n,r){var i=this.makeTemplateSource(e,r);return this.renderTemplateSource(i,t,n,r)},y.templateEngine.prototype.isTemplateRewritten=function(e,t){return this.allowTemplateRewriting===!1?!0:this.makeTemplateSource(e,t).data("isRewritten")},y.templateEngine.prototype.rewriteTemplate=function(e,t,n){var r=this.makeTemplateSource(e,n),i=t(r.text());r.text(i),r.data("isRewritten",!0)},y.exportSymbol("templateEngine",y.templateEngine),y.templateRewriting=function(){function e(e){for(var t=y.expressionRewriting.bindingRewriteValidators,n=0;n<e.length;n++){var r=e[n].key;if(t.hasOwnProperty(r)){var i=t[r];if("function"==typeof i){var o=i(e[n].value);if(o)throw new Error(o)}else if(!i)throw new Error("This template engine does not support the '"+r+"' binding within its templates")}}}function t(t,n,r,i){var o=y.expressionRewriting.parseObjectLiteral(t);e(o);var a=y.expressionRewriting.preProcessBindings(o,{valueAccessors:!0}),s="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a+" } })()},'"+r.toLowerCase()+"')";return i.createJavaScriptEvaluatorBlock(s)+n}var n=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,r=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return y.templateRewriting.memoizeBindingAttributeSyntax(e,t)},n)},memoizeBindingAttributeSyntax:function(e,i){return e.replace(n,function(){return t(arguments[4],arguments[1],arguments[2],i)}).replace(r,function(){return t(arguments[1],"<!-- ko -->","#comment",i)})},applyMemoizedBindingsToNextSibling:function(e,t){return y.memoization.memoize(function(n,r){var i=n.nextSibling;i&&i.nodeName.toLowerCase()===t&&y.applyBindingAccessorsToNode(i,e,r)})}}}(),y.exportSymbol("__tr_ambtns",y.templateRewriting.applyMemoizedBindingsToNextSibling),function(){function e(e){return y.utils.domData.get(e,u)||{}}function n(e,t){y.utils.domData.set(e,u,t)}y.templateSources={};var r=1,i=2,o=3,a=4;y.templateSources.domElement=function(e){if(this.domElement=e,e){var t=y.utils.tagNameLower(e);this.templateType="script"===t?r:"textarea"===t?i:"template"==t&&e.content&&11===e.content.nodeType?o:a}},y.templateSources.domElement.prototype.text=function(){var e=this.templateType===r?"text":this.templateType===i?"value":"innerHTML";if(0==arguments.length)return this.domElement[e];var t=arguments[0];"innerHTML"===e?y.utils.setHtml(this.domElement,t):this.domElement[e]=t};var s=y.utils.domData.nextKey()+"_";y.templateSources.domElement.prototype.data=function(e){return 1===arguments.length?y.utils.domData.get(this.domElement,s+e):void y.utils.domData.set(this.domElement,s+e,arguments[1])};var u=y.utils.domData.nextKey();y.templateSources.domElement.prototype.nodes=function(){var r=this.domElement;if(0==arguments.length){var i=e(r),s=i.containerData;return s||(this.templateType===o?r.content:this.templateType===a?r:t)}var u=arguments[0];n(r,{containerData:u})},y.templateSources.anonymousTemplate=function(e){this.domElement=e},y.templateSources.anonymousTemplate.prototype=new y.templateSources.domElement,y.templateSources.anonymousTemplate.prototype.constructor=y.templateSources.anonymousTemplate,y.templateSources.anonymousTemplate.prototype.text=function(){if(0==arguments.length){var r=e(this.domElement);return r.textData===t&&r.containerData&&(r.textData=r.containerData.innerHTML),r.textData}var i=arguments[0];n(this.domElement,{textData:i})},y.exportSymbol("templateSources",y.templateSources),y.exportSymbol("templateSources.domElement",y.templateSources.domElement),y.exportSymbol("templateSources.anonymousTemplate",y.templateSources.anonymousTemplate)}(),function(){function e(e,t,n){for(var r,i=e,o=y.virtualElements.nextSibling(t);i&&(r=i)!==o;)i=y.virtualElements.nextSibling(r),n(r,i)}function n(t,n){if(t.length){var r=t[0],i=t[t.length-1],o=r.parentNode,a=y.bindingProvider.instance,s=a.preprocessNode;if(s){if(e(r,i,function(e,t){var n=e.previousSibling,o=s.call(a,e);o&&(e===r&&(r=o[0]||t),e===i&&(i=o[o.length-1]||n))}),t.length=0,!r)return;r===i?t.push(r):(t.push(r,i),y.utils.fixUpContinuousNodeArray(t,o))}e(r,i,function(e){(1===e.nodeType||8===e.nodeType)&&y.applyBindings(n,e)}),e(r,i,function(e){(1===e.nodeType||8===e.nodeType)&&y.memoization.unmemoizeDomNodeAndDescendants(e,[n])}),y.utils.fixUpContinuousNodeArray(t,o)}}function r(e){return e.nodeType?e:e.length>0?e[0]:null}function i(e,t,i,o,a){a=a||{};var u=e&&r(e),l=(u||i||{}).ownerDocument,c=a.templateEngine||s;y.templateRewriting.ensureTemplateIsRewritten(i,c,l);var d=c.renderTemplate(i,o,a,l);if("number"!=typeof d.length||d.length>0&&"number"!=typeof d[0].nodeType)throw new Error("Template engine must return an array of DOM nodes");var f=!1;switch(t){case"replaceChildren":y.virtualElements.setDomNodeChildren(e,d),f=!0;break;case"replaceNode":y.utils.replaceDomNodes(e,d),f=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+t)}return f&&(n(d,o),a.afterRender&&y.dependencyDetection.ignore(a.afterRender,null,[d,o.$data])),d}function o(e,t,n){return y.isObservable(e)?e():"function"==typeof e?e(t,n):e}function a(e,n){var r=y.utils.domData.get(e,u);r&&"function"==typeof r.dispose&&r.dispose(),y.utils.domData.set(e,u,n&&n.isActive()?n:t)}var s;y.setTemplateEngine=function(e){if(e!=t&&!(e instanceof y.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");s=e},y.renderTemplate=function(e,n,a,u,l){if(a=a||{},(a.templateEngine||s)==t)throw new Error("Set a template engine before calling renderTemplate");if(l=l||"replaceChildren",u){var c=r(u),d=function(){return!c||!y.utils.domNodeIsAttachedToDocument(c)},f=c&&"replaceNode"==l?c.parentNode:c;return y.dependentObservable(function(){var t=n&&n instanceof y.bindingContext?n:new y.bindingContext(y.utils.unwrapObservable(n)),s=o(e,t.$data,t),d=i(u,l,s,t,a);"replaceNode"==l&&(u=d,c=r(u))},null,{disposeWhen:d,disposeWhenNodeIsRemoved:f})}return y.memoization.memoize(function(t){y.renderTemplate(e,n,a,t,"replaceNode")})},y.renderTemplateForEach=function(e,r,a,s,u){var l,c=function(t,n){l=u.createChildContext(t,a.as,function(e){e.$index=n});var r=o(e,t,l);return i(null,"ignoreTargetNode",r,l,a)},d=function(e,t){n(t,l),a.afterRender&&a.afterRender(t,e),l=null};return y.dependentObservable(function(){var e=y.utils.unwrapObservable(r)||[];"undefined"==typeof e.length&&(e=[e]);var n=y.utils.arrayFilter(e,function(e){return a.includeDestroyed||e===t||null===e||!y.utils.unwrapObservable(e._destroy)});y.dependencyDetection.ignore(y.utils.setDomNodeChildrenFromArrayMapping,null,[s,n,c,a,d])},null,{disposeWhenNodeIsRemoved:s})};var u=y.utils.domData.nextKey();y.bindingHandlers.template={init:function(e,t){var n=y.utils.unwrapObservable(t());if("string"==typeof n||n.name)y.virtualElements.emptyNode(e);else if("nodes"in n){var r=n.nodes||[];if(y.isObservable(r))throw new Error('The "nodes" option must be a plain, non-observable array.');var i=y.utils.moveCleanedNodesToContainerElement(r);new y.templateSources.anonymousTemplate(e).nodes(i)}else{var o=y.virtualElements.childNodes(e),i=y.utils.moveCleanedNodesToContainerElement(o);new y.templateSources.anonymousTemplate(e).nodes(i)}return{controlsDescendantBindings:!0}},update:function(e,t,n,r,i){var o,s,u=t(),l=y.utils.unwrapObservable(u),c=!0,d=null;if("string"==typeof l?(s=u,l={}):(s=l.name,"if"in l&&(c=y.utils.unwrapObservable(l["if"])),c&&"ifnot"in l&&(c=!y.utils.unwrapObservable(l.ifnot)),o=y.utils.unwrapObservable(l.data)),"foreach"in l){var f=c&&l.foreach||[];d=y.renderTemplateForEach(s||e,f,l,e,i)}else if(c){var p="data"in l?i.createChildContext(o,l.as):i;d=y.renderTemplate(s||e,p,l,e)}else y.virtualElements.emptyNode(e);a(e,d)}},y.expressionRewriting.bindingRewriteValidators.template=function(e){var t=y.expressionRewriting.parseObjectLiteral(e);return 1==t.length&&t[0].unknown?null:y.expressionRewriting.keyValueArrayContainsKey(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},y.virtualElements.allowedBindings.template=!0}(),y.exportSymbol("setTemplateEngine",y.setTemplateEngine),y.exportSymbol("renderTemplate",y.renderTemplate),y.utils.findMovesInArrayComparison=function(e,t,n){if(e.length&&t.length){var r,i,o,a,s;for(r=i=0;(!n||n>r)&&(a=e[i]);++i){for(o=0;s=t[o];++o)if(a.value===s.value){a.moved=s.index,s.moved=a.index,t.splice(o,1),r=o=0;break}r+=o}}},y.utils.compareArrays=function(){function e(e,i,o){return o="boolean"==typeof o?{dontLimitMoves:o}:o||{},e=e||[],i=i||[],e.length<i.length?t(e,i,n,r,o):t(i,e,r,n,o)}function t(e,t,n,r,i){var o,a,s,u,l,c,d=Math.min,f=Math.max,p=[],h=e.length,m=t.length,g=m-h||1,v=h+m+1;for(o=0;h>=o;o++)for(u=s,p.push(s=[]),l=d(m,o+g),c=f(0,o-1),a=c;l>=a;a++)if(a)if(o)if(e[o-1]===t[a-1])s[a]=u[a-1];else{var b=u[a]||v,w=s[a-1]||v;s[a]=d(b,w)+1}else s[a]=a+1;else s[a]=o+1;var x,_=[],S=[],k=[];for(o=h,a=m;o||a;)x=p[o][a]-1,a&&x===p[o][a-1]?S.push(_[_.length]={status:n,value:t[--a],index:a}):o&&x===p[o-1][a]?k.push(_[_.length]={status:r,value:e[--o],index:o}):(--a,--o,i.sparse||_.push({status:"retained",value:t[a]}));return y.utils.findMovesInArrayComparison(k,S,!i.dontLimitMoves&&10*h),_.reverse()}var n="added",r="deleted";return e}(),y.exportSymbol("utils.compareArrays",y.utils.compareArrays),function(){function e(e,n,r,i,o){var a=[],s=y.dependentObservable(function(){var t=n(r,o,y.utils.fixUpContinuousNodeArray(a,e))||[];a.length>0&&(y.utils.replaceDomNodes(a,t),i&&y.dependencyDetection.ignore(i,null,[r,t,o])),a.length=0,y.utils.arrayPushAll(a,t)},null,{disposeWhenNodeIsRemoved:e,disposeWhen:function(){return!y.utils.anyDomNodeIsAttachedToDocument(a)}});return{mappedNodes:a,dependentObservable:s.isActive()?s:t}}var n=y.utils.domData.nextKey(),r=y.utils.domData.nextKey();y.utils.setDomNodeChildrenFromArrayMapping=function(i,o,a,s,u){function l(e,t){d=m[t],x!==t&&(C[e]=d),d.indexObservable(x++),y.utils.fixUpContinuousNodeArray(d.mappedNodes,i),b.push(d),S.push(d)}function c(e,t){if(e)for(var n=0,r=t.length;r>n;n++)t[n]&&y.utils.arrayForEach(t[n].mappedNodes,function(r){e(r,n,t[n].arrayEntry)})}o=o||[],s=s||{};for(var d,f,p,h=y.utils.domData.get(i,n)===t,m=y.utils.domData.get(i,n)||[],g=y.utils.arrayMap(m,function(e){return e.arrayEntry}),v=y.utils.compareArrays(g,o,s.dontLimitMoves),b=[],w=0,x=0,_=[],S=[],k=[],C=[],T=[],D=0;f=v[D];D++)switch(p=f.moved,f.status){case"deleted":p===t&&(d=m[w],d.dependentObservable&&(d.dependentObservable.dispose(),d.dependentObservable=t),y.utils.fixUpContinuousNodeArray(d.mappedNodes,i).length&&(s.beforeRemove&&(b.push(d),S.push(d),d.arrayEntry===r?d=null:k[D]=d),d&&_.push.apply(_,d.mappedNodes))),w++;break;case"retained":l(D,w++);break;case"added":p!==t?l(D,p):(d={arrayEntry:f.value,indexObservable:y.observable(x++)},b.push(d),S.push(d),h||(T[D]=d))}y.utils.domData.set(i,n,b),c(s.beforeMove,C),y.utils.arrayForEach(_,s.beforeRemove?y.cleanNode:y.removeNode);for(var E,A,D=0,O=y.virtualElements.firstChild(i);d=S[D];D++){d.mappedNodes||y.utils.extend(d,e(i,a,d.arrayEntry,u,d.indexObservable));for(var N=0;A=d.mappedNodes[N];O=A.nextSibling,E=A,N++)A!==O&&y.virtualElements.insertAfter(i,A,E);!d.initialized&&u&&(u(d.arrayEntry,d.mappedNodes,d.indexObservable),d.initialized=!0)}for(c(s.beforeRemove,k),D=0;D<k.length;++D)k[D]&&(k[D].arrayEntry=r);c(s.afterMove,C),c(s.afterAdd,T)}}(),y.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",y.utils.setDomNodeChildrenFromArrayMapping),y.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},y.nativeTemplateEngine.prototype=new y.templateEngine,y.nativeTemplateEngine.prototype.constructor=y.nativeTemplateEngine,y.nativeTemplateEngine.prototype.renderTemplateSource=function(e,t,n,r){var i=!(y.utils.ieVersion<9),o=i?e.nodes:null,a=o?e.nodes():null;if(a)return y.utils.makeArray(a.cloneNode(!0).childNodes);var s=e.text();return y.utils.parseHtmlFragment(s,r)},y.nativeTemplateEngine.instance=new y.nativeTemplateEngine,y.setTemplateEngine(y.nativeTemplateEngine.instance),y.exportSymbol("nativeTemplateEngine",y.nativeTemplateEngine),function(){y.jqueryTmplTemplateEngine=function(){function e(){if(2>n)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}function t(e,t,n){return o.tmpl(e,t,n)}var n=this.jQueryTmplVersion=function(){if(!o||!o.tmpl)return 0;try{if(o.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(e){}return 1}();this.renderTemplateSource=function(n,i,a,s){s=s||r,a=a||{},e();var u=n.data("precompiled");if(!u){var l=n.text()||"";l="{{ko_with $item.koBindingContext}}"+l+"{{/ko_with}}",u=o.template(null,l),n.data("precompiled",u)}var c=[i.$data],d=o.extend({koBindingContext:i},a.templateOptions),f=t(u,c,d);return f.appendTo(s.createElement("div")),o.fragments={},f},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){r.write("<script type='text/html' id='"+e+"'>"+t+"</script>")},n>0&&(o.tmpl.tag.ko_code={open:"__.push($1 || '');"},o.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},y.jqueryTmplTemplateEngine.prototype=new y.templateEngine,y.jqueryTmplTemplateEngine.prototype.constructor=y.jqueryTmplTemplateEngine;var e=new y.jqueryTmplTemplateEngine;e.jQueryTmplVersion>0&&y.setTemplateEngine(e),y.exportSymbol("jqueryTmplTemplateEngine",y.jqueryTmplTemplateEngine)}()})}()}(),/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */
function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=K.type(e);return"function"===n||K.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(K.isFunction(t))return K.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return K.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(st.test(t))return K.filter(t,e,n);t=K.filter(t,e)}return K.grep(e,function(e){return Y.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=ht[e]={};return K.each(e.match(pt)||[],function(e,n){t[n]=!0}),t}function a(){X.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),K.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=K.expando+s.uid++}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(wt,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:bt.test(n)?K.parseJSON(n):n}catch(i){}yt.set(e,t,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function d(){try{return X.activeElement}catch(e){}}function f(e,t){return K.nodeName(e,"table")&&K.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=It.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,r=e.length;r>n;n++)vt.set(e[n],"globalEval",!t||vt.get(t[n],"globalEval"))}function g(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(vt.hasData(e)&&(o=vt.access(e),a=vt.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)K.event.add(t,i,l[i][n])}yt.hasData(e)&&(s=yt.access(e),u=K.extend({},s),yt.set(t,u))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&K.nodeName(e,t)?K.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&kt.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(t,n){var r,i=K(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:K.css(i[0],"display");return i.detach(),o}function w(e){var t=X,n=Ht[e];return n||(n=b(e,t),"none"!==n&&n||(Lt=(Lt||K("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Lt[0].contentDocument,t.write(),t.close(),n=b(e,t),Lt.detach()),Ht[e]=n),n}function x(e,t,n){var r,i,o,a,s=e.style;return n=n||Ut(e),n&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||K.contains(e.ownerDocument,e)||(a=K.style(e,t)),Bt.test(a)&&zt.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function _(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Gt.length;i--;)if(t=Gt[i]+n,t in e)return t;return r}function k(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function C(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=K.css(e,n+_t[o],!0,i)),r?("content"===n&&(a-=K.css(e,"padding"+_t[o],!0,i)),"margin"!==n&&(a-=K.css(e,"border"+_t[o]+"Width",!0,i))):(a+=K.css(e,"padding"+_t[o],!0,i),"padding"!==n&&(a+=K.css(e,"border"+_t[o]+"Width",!0,i)));return a}function T(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Ut(e),a="border-box"===K.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=x(e,t,o),(0>i||null==i)&&(i=e.style[t]),Bt.test(i))return i;r=a&&(J.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+C(e,t,n||(a?"border":"content"),r,o)+"px"}function D(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=vt.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&St(r)&&(o[a]=vt.access(r,"olddisplay",w(r.nodeName)))):(i=St(r),"none"===n&&i||vt.set(r,"olddisplay",i?n:K.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function E(e,t,n,r,i){return new E.prototype.init(e,t,n,r,i)}function A(){return setTimeout(function(){Jt=void 0}),Jt=K.now()}function O(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=_t[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function N(e,t,n){for(var r,i=(nn[t]||[]).concat(nn["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function j(e,t,n){var r,i,o,a,s,u,l,c,d=this,f={},p=e.style,h=e.nodeType&&St(e),m=vt.get(e,"fxshow");n.queue||(s=K._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,K.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=K.css(e,"display"),c="none"===l?vt.get(e,"olddisplay")||w(e.nodeName):l,"inline"===c&&"none"===K.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Zt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}f[r]=m&&m[r]||K.style(e,r)}else l=void 0;if(K.isEmptyObject(f))"inline"===("none"===l?w(e.nodeName):l)&&(p.display=l);else{m?"hidden"in m&&(h=m.hidden):m=vt.access(e,"fxshow",{}),o&&(m.hidden=!h),h?K(e).show():d.done(function(){K(e).hide()}),d.done(function(){var t;vt.remove(e,"fxshow");for(t in f)K.style(e,t,f[t])});for(r in f)a=N(h?m[r]:0,r,d),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function M(e,t){var n,r,i,o,a;for(n in e)if(r=K.camelCase(n),i=t[r],o=e[n],K.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=K.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function R(e,t,n){var r,i,o=0,a=tn.length,s=K.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Jt||A(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:K.extend({},t),opts:K.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Jt||A(),duration:n.duration,tweens:[],createTween:function(t,n){var r=K.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(M(c,l.opts.specialEasing);a>o;o++)if(r=tn[o].call(l,e,c,l.opts))return r;return K.map(c,N,l),K.isFunction(l.opts.start)&&l.opts.start.call(e,l),K.fx.timer(K.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(pt)||[];if(K.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function I(e,t,n,r){function i(s){var u;return o[s]=!0,K.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===wn;return i(t.dataTypes[0])||!o["*"]&&i("*")}function q(e,t){var n,r,i=K.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&K.extend(!0,e,r),e}function F(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function L(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function H(e,t,n,r){var i;if(K.isArray(t))K.each(t,function(t,i){n||Cn.test(e)?r(e,i):H(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==K.type(t))r(e,t);else for(i in t)H(e+"["+i+"]",t[i],n,r)}function z(e){return K.isWindow(e)?e:9===e.nodeType&&e.defaultView}var B=[],U=B.slice,W=B.concat,V=B.push,Y=B.indexOf,$={},Q=$.toString,G=$.hasOwnProperty,J={},X=e.document,Z="2.1.4",K=function(e,t){return new K.fn.init(e,t)},et=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,tt=/^-ms-/,nt=/-([\da-z])/gi,rt=function(e,t){return t.toUpperCase()};K.fn=K.prototype={jquery:Z,constructor:K,selector:"",length:0,toArray:function(){return U.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:U.call(this)},pushStack:function(e){var t=K.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return K.each(this,e,t)},map:function(e){return this.pushStack(K.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(U.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:B.sort,splice:B.splice},K.extend=K.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||K.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(K.isPlainObject(r)||(i=K.isArray(r)))?(i?(i=!1,o=n&&K.isArray(n)?n:[]):o=n&&K.isPlainObject(n)?n:{},a[t]=K.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},K.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===K.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!K.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==K.type(e)||e.nodeType||K.isWindow(e)?!1:e.constructor&&!G.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?$[Q.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=K.trim(e),e&&(1===e.indexOf("use strict")?(t=X.createElement("script"),t.text=e,X.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(tt,"ms-").replace(nt,rt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(et,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?K.merge(r,"string"==typeof e?[e]:e):V.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:Y.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),u=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return W.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),K.isFunction(e)?(r=U.call(arguments,2),i=function(){return e.apply(t||this,r.concat(U.call(arguments)))},i.guid=e.guid=e.guid||K.guid++,i):void 0},now:Date.now,support:J}),K.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){$["[object "+t+"]"]=t.toLowerCase()});var it=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(e){function t(e,t,n,r){var i,o,a,s,u,l,d,p,h,m;if((t?t.ownerDocument||t:H)!==j&&N(t),t=t||j,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&R){if(11!==s&&(i=yt.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&F(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&x.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(x.qsa&&(!P||!P.test(e))){if(p=d=L,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=C(e),(d=t.getAttribute("id"))?p=d.replace(wt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=l.length;u--;)l[u]=p+f(l[u]);h=bt.test(e)&&c(t.parentNode)||t,m=l.join(",")}if(m)try{return Z.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return D(e.replace(ut,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>_.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[L]=!0,e}function i(e){var t=j.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)_.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||$)-(~e.sourceIndex||$);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=B++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l=[z,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[L]||(t[L]={}),(s=u[r])&&s[0]===z&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[L]&&(i=v(i)),o&&!o[L]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,d,f=[],p=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,f,e,s,u),b=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,b,s,u),i)for(l=g(b,p),i(l,[],s,u),c=l.length;c--;)(d=l[c])&&(b[p[c]]=!(y[p[c]]=d));if(r){if(o||e){if(o){for(l=[],c=b.length;c--;)(d=b[c])&&l.push(y[c]=d);o(null,b=[],l,u)}for(c=b.length;c--;)(d=b[c])&&(l=o?et(r,d):f[c])>-1&&(r[l]=!(a[l]=d))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,u):Z.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=_.relative[e[0].type],a=o||_.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return et(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==E)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>s;s++)if(n=_.relative[e[s].type])c=[p(h(c),n)];else{if(n=_.filter[e[s].type].apply(null,e[s].matches),n[L]){for(r=++s;i>r&&!_.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ut,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}c.push(n)}return h(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,d,f,p=0,h="0",m=r&&[],v=[],y=E,b=r||o&&_.find.TAG("*",l),w=z+=null==y?1:Math.random()||.1,x=b.length;for(l&&(E=a!==j&&a);h!==x&&null!=(c=b[h]);h++){if(o&&c){for(d=0;f=e[d++];)if(f(c,a,s)){u.push(c);break}l&&(z=w)}i&&((c=!f&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(d=0;f=n[d++];)f(m,v,a,s);if(r){if(p>0)for(;h--;)m[h]||v[h]||(v[h]=J.call(u));v=g(v)}Z.apply(u,v),l&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(z=w,E=y),m};return i?r(a):a}var w,x,_,S,k,C,T,D,E,A,O,N,j,M,R,P,I,q,F,L="sizzle"+1*new Date,H=e.document,z=0,B=0,U=n(),W=n(),V=n(),Y=function(e,t){return e===t&&(O=!0),0},$=1<<31,Q={}.hasOwnProperty,G=[],J=G.pop,X=G.push,Z=G.push,K=G.slice,et=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=rt.replace("w","w#"),ot="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",at=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),ut=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),dt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ft=new RegExp(at),pt=new RegExp("^"+it+"$"),ht={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,wt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),_t=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},St=function(){N()};try{Z.apply(G=K.call(H.childNodes),H.childNodes),G[H.childNodes.length].nodeType}catch(kt){Z={apply:G.length?function(e,t){X.apply(e,K.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}x=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},N=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:H;return r!==j&&9===r.nodeType&&r.documentElement?(j=r,M=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",St,!1):n.attachEvent&&n.attachEvent("onunload",St)),R=!k(r),x.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=vt.test(r.getElementsByClassName),x.getById=i(function(e){return M.appendChild(e).id=L,!r.getElementsByName||!r.getElementsByName(L).length}),x.getById?(_.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&R){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(e){var t=e.replace(xt,_t);return function(e){return e.getAttribute("id")===t}}):(delete _.find.ID,_.filter.ID=function(e){var t=e.replace(xt,_t);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),_.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},_.find.CLASS=x.getElementsByClassName&&function(e,t){return R?t.getElementsByClassName(e):void 0},I=[],P=[],(x.qsa=vt.test(r.querySelectorAll))&&(i(function(e){M.appendChild(e).innerHTML="<a id='"+L+"'></a><select id='"+L+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+L+"-]").length||P.push("~="),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+L+"+*").length||P.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(x.matchesSelector=vt.test(q=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&i(function(e){x.disconnectedMatch=q.call(e,"div"),q.call(e,"[s!='']:x"),I.push("!=",at)}),P=P.length&&new RegExp(P.join("|")),I=I.length&&new RegExp(I.join("|")),t=vt.test(M.compareDocumentPosition),F=t||vt.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=t?function(e,t){if(e===t)return O=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===H&&F(H,e)?-1:t===r||t.ownerDocument===H&&F(H,t)?1:A?et(A,e)-et(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return O=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:A?et(A,e)-et(A,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===H?-1:l[i]===H?1:0},r):j},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==j&&N(e),n=n.replace(dt,"='$1']"),!(!x.matchesSelector||!R||I&&I.test(n)||P&&P.test(n)))try{var r=q.call(e,n);if(r||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,j,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==j&&N(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==j&&N(e);var n=_.attrHandle[t.toLowerCase()],r=n&&Q.call(_.attrHandle,t.toLowerCase())?n(e,t,!R):void 0;return void 0!==r?r:x.attributes||!R?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(O=!x.detectDuplicates,A=!x.sortStable&&e.slice(0),e.sort(Y),O){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return A=null,e},S=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=S(t);return n},_=t.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,_t),e[3]=(e[3]||e[4]||e[5]||"").replace(xt,_t),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ht.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ft.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xt,_t).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(st," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[L]||(g[L]={}),l=c[e]||[],p=l[0]===z&&l[1],f=l[0]===z&&l[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[z,p,f];break}}else if(y&&(l=(t[L]||(t[L]={}))[e])&&l[0]===z)f=l[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[L]||(d[L]={}))[e]=[z,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[L]?o(n):o.length>1?(i=[e,e,"",n],_.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=et(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=T(e.replace(ut,"$1"));return i[L]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(xt,_t),function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:r(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xt,_t).toLowerCase(),function(t){var n;do if(n=R?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},_.pseudos.nth=_.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})_.pseudos[w]=u(w);return d.prototype=_.filters=_.pseudos,_.setFilters=new d,C=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=W[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=_.preFilter;s;){(!r||(i=lt.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ct.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ut," ")}),s=s.slice(r.length));for(a in _.filter)!(i=ht[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):W(e,u).slice(0)},T=t.compile=function(e,t){var n,r=[],i=[],o=V[e+" "];if(!o){for(t||(t=C(e)),n=t.length;n--;)o=y(t[n]),o[L]?r.push(o):i.push(o);o=V(e,b(i,r)),o.selector=e}return o},D=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,d=!r&&C(e=l.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===t.nodeType&&R&&_.relative[o[1].type]){if(t=(_.find.ID(a.matches[0].replace(xt,_t),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=ht.needsContext.test(e)?0:o.length;i--&&(a=o[i],!_.relative[s=a.type]);)if((u=_.find[s])&&(r=u(a.matches[0].replace(xt,_t),bt.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return Z.apply(n,r),n;break}}return(l||T(e,d))(r,t,!R,n,bt.test(e)&&c(t.parentNode)||t),n},x.sortStable=L.split("").sort(Y).join("")===L,x.detectDuplicates=!!O,N(),x.sortDetached=i(function(e){return 1&e.compareDocumentPosition(j.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(tt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);K.find=it,K.expr=it.selectors,K.expr[":"]=K.expr.pseudos,K.unique=it.uniqueSort,K.text=it.getText,K.isXMLDoc=it.isXML,K.contains=it.contains;var ot=K.expr.match.needsContext,at=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,st=/^.[^:#\[\.,]*$/;K.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?K.find.matchesSelector(r,e)?[r]:[]:K.find.matches(e,K.grep(t,function(e){return 1===e.nodeType}))},K.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(K(e).filter(function(){for(t=0;n>t;t++)if(K.contains(i[t],this))return!0}));for(t=0;n>t;t++)K.find(e,i[t],r);return r=this.pushStack(n>1?K.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ot.test(e)?K(e):e||[],!1).length}});var ut,lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ct=K.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:lt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ut).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof K?t[0]:t,K.merge(this,K.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:X,!0)),at.test(n[1])&&K.isPlainObject(t))for(n in t)K.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=X.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):K.isFunction(e)?"undefined"!=typeof ut.ready?ut.ready(e):e(K):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),K.makeArray(e,this))};ct.prototype=K.fn,ut=K(X);var dt=/^(?:parents|prev(?:Until|All))/,ft={children:!0,contents:!0,next:!0,prev:!0};K.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&K(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),K.fn.extend({has:function(e){var t=K(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(K.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ot.test(e)||"string"!=typeof e?K(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&K.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?K.unique(o):o)},index:function(e){return e?"string"==typeof e?Y.call(K(e),this[0]):Y.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(K.unique(K.merge(this.get(),K(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),K.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return K.dir(e,"parentNode")},parentsUntil:function(e,t,n){return K.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return K.dir(e,"nextSibling")},prevAll:function(e){return K.dir(e,"previousSibling")},nextUntil:function(e,t,n){return K.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return K.dir(e,"previousSibling",n)},siblings:function(e){return K.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return K.sibling(e.firstChild)},contents:function(e){return e.contentDocument||K.merge([],e.childNodes)}},function(e,t){K.fn[e]=function(n,r){var i=K.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=K.filter(r,i)),this.length>1&&(ft[e]||K.unique(i),dt.test(e)&&i.reverse()),this.pushStack(i)}});var pt=/\S+/g,ht={};K.Callbacks=function(e){e="string"==typeof e?ht[e]||o(e):K.extend({},e);var t,n,r,i,a,s,u=[],l=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,s=i||0,i=0,a=u.length,r=!0;u&&a>s;s++)if(u[s].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(l?l.length&&c(l.shift()):t?u=[]:d.disable())},d={add:function(){if(u){var n=u.length;!function o(t){K.each(t,function(t,n){var r=K.type(n);"function"===r?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?a=u.length:t&&(i=n,c(t))}return this},remove:function(){return u&&K.each(arguments,function(e,t){for(var n;(n=K.inArray(t,u,n))>-1;)u.splice(n,1),r&&(a>=n&&a--,s>=n&&s--)}),this},has:function(e){return e?K.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=l=t=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,t||d.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!u||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],r?l.push(t):c(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},K.extend({Deferred:function(e){var t=[["resolve","done",K.Callbacks("once memory"),"resolved"],["reject","fail",K.Callbacks("once memory"),"rejected"],["notify","progress",K.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return K.Deferred(function(n){K.each(t,function(t,o){var a=K.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&K.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?K.extend(e,r):r}},i={};return r.pipe=r.then,K.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=U.call(arguments),a=o.length,s=1!==a||e&&K.isFunction(e.promise)?a:0,u=1===s?e:K.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?U.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&K.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}});var mt;K.fn.ready=function(e){return K.ready.promise().done(e),this},K.extend({isReady:!1,readyWait:1,holdReady:function(e){e?K.readyWait++:K.ready(!0)},ready:function(e){(e===!0?--K.readyWait:K.isReady)||(K.isReady=!0,e!==!0&&--K.readyWait>0||(mt.resolveWith(X,[K]),K.fn.triggerHandler&&(K(X).triggerHandler("ready"),K(X).off("ready"))))}}),K.ready.promise=function(t){return mt||(mt=K.Deferred(),"complete"===X.readyState?setTimeout(K.ready):(X.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),mt.promise(t)},K.ready.promise();var gt=K.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===K.type(n)){i=!0;for(s in n)K.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,K.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(K(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o};K.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=K.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,K.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(K.isEmptyObject(o))K.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,K.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{K.isArray(t)?r=t.concat(t.map(K.camelCase)):(i=K.camelCase(t),t in a?r=[t,i]:(r=i,r=r in a?[r]:r.match(pt)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!K.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var vt=new s,yt=new s,bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wt=/([A-Z])/g;K.extend({hasData:function(e){return yt.hasData(e)||vt.hasData(e)},data:function(e,t,n){return yt.access(e,t,n)},removeData:function(e,t){yt.remove(e,t)},_data:function(e,t,n){return vt.access(e,t,n)},_removeData:function(e,t){vt.remove(e,t)}}),K.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=yt.get(o),1===o.nodeType&&!vt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=K.camelCase(r.slice(5)),u(o,r,i[r])));vt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){yt.set(this,e)}):gt(this,function(t){var n,r=K.camelCase(e);if(o&&void 0===t){if(n=yt.get(o,e),void 0!==n)return n;if(n=yt.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=yt.get(this,r);yt.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&yt.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){yt.remove(this,e)})}}),K.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=vt.get(e,t),n&&(!r||K.isArray(n)?r=vt.access(e,t,K.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=K.queue(e,t),r=n.length,i=n.shift(),o=K._queueHooks(e,t),a=function(){K.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return vt.get(e,n)||vt.access(e,n,{empty:K.Callbacks("once memory").add(function(){vt.remove(e,[t+"queue",n])})})}}),K.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?K.queue(this[0],e):void 0===t?this:this.each(function(){var n=K.queue(this,e,t);K._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&K.dequeue(this,e)})},dequeue:function(e){return this.each(function(){K.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=K.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=vt.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_t=["Top","Right","Bottom","Left"],St=function(e,t){return e=t||e,"none"===K.css(e,"display")||!K.contains(e.ownerDocument,e)},kt=/^(?:checkbox|radio)$/i;!function(){var e=X.createDocumentFragment(),t=e.appendChild(X.createElement("div")),n=X.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),J.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ct="undefined";J.focusinBubbles="onfocusin"in e;var Tt=/^key/,Dt=/^(?:mouse|pointer|contextmenu)|click/,Et=/^(?:focusinfocus|focusoutblur)$/,At=/^([^.]*)(?:\.(.+)|)$/;K.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=vt.get(e);if(g)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=K.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(t){return typeof K!==Ct&&K.event.triggered!==t.type?K.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(pt)||[""],l=t.length;l--;)s=At.exec(t[l])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p&&(d=K.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,d=K.event.special[p]||{},c=K.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&K.expr.match.needsContext.test(i),namespace:h.join(".")},o),(f=u[p])||(f=u[p]=[],f.delegateCount=0,d.setup&&d.setup.call(e,r,h,a)!==!1||e.addEventListener&&e.addEventListener(p,a,!1)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,c):f.push(c),K.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=vt.hasData(e)&&vt.get(e);if(g&&(u=g.events)){for(t=(t||"").match(pt)||[""],l=t.length;l--;)if(s=At.exec(t[l])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=K.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!i&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,d.remove&&d.remove.call(e,c));a&&!f.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||K.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)K.event.remove(e,p+t[l],n,r,!0);K.isEmptyObject(u)&&(delete g.handle,vt.remove(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,c,d,f=[r||X],p=G.call(t,"type")?t.type:t,h=G.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||X,3!==r.nodeType&&8!==r.nodeType&&!Et.test(p+K.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),l=p.indexOf(":")<0&&"on"+p,t=t[K.expando]?t:new K.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:K.makeArray(n,[t]),d=K.event.special[p]||{},i||!d.trigger||d.trigger.apply(r,n)!==!1)){if(!i&&!d.noBubble&&!K.isWindow(r)){for(u=d.delegateType||p,Et.test(u+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;
s===(r.ownerDocument||X)&&f.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=f[o++])&&!t.isPropagationStopped();)t.type=o>1?u:d.bindType||p,c=(vt.get(a,"events")||{})[t.type]&&vt.get(a,"handle"),c&&c.apply(a,n),c=l&&a[l],c&&c.apply&&K.acceptData(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=p,i||t.isDefaultPrevented()||d._default&&d._default.apply(f.pop(),n)!==!1||!K.acceptData(r)||l&&K.isFunction(r[p])&&!K.isWindow(r)&&(s=r[l],s&&(r[l]=null),K.event.triggered=p,r[p](),K.event.triggered=void 0,s&&(r[l]=s)),t.result}},dispatch:function(e){e=K.event.fix(e);var t,n,r,i,o,a=[],s=U.call(arguments),u=(vt.get(this,"events")||{})[e.type]||[],l=K.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=K.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((K.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;s>n;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?K(i,this).index(u)>=0:K.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||X,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[K.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Dt.test(i)?this.mouseHooks:Tt.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new K.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=X),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&K.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return K.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=K.extend(new K.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?K.event.trigger(i,null,t):K.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},K.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},K.Event=function(e,t){return this instanceof K.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?l:c):this.type=e,t&&K.extend(this,t),this.timeStamp=e&&e.timeStamp||K.now(),void(this[K.expando]=!0)):new K.Event(e,t)},K.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=l,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},K.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){K.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!K.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),J.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){K.event.simulate(t,e.target,K.event.fix(e),!0)};K.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=vt.access(r,t);i||r.addEventListener(e,n,!0),vt.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=vt.access(r,t)-1;i?vt.access(r,t,i):(r.removeEventListener(e,n,!0),vt.remove(r,t))}}}),K.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(e){return K().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=K.guid++)),this.each(function(){K.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,K(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){K.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){K.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?K.event.trigger(e,t,n,!0):void 0}});var Ot=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Nt=/<([\w:]+)/,jt=/<|&#?\w+;/,Mt=/<(?:script|style|link)/i,Rt=/checked\s*(?:[^=]|=\s*.checked.)/i,Pt=/^$|\/(?:java|ecma)script/i,It=/^true\/(.*)/,qt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ft={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ft.optgroup=Ft.option,Ft.tbody=Ft.tfoot=Ft.colgroup=Ft.caption=Ft.thead,Ft.th=Ft.td,K.extend({clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=K.contains(e.ownerDocument,e);if(!(J.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||K.isXMLDoc(e)))for(a=v(s),o=v(e),r=0,i=o.length;i>r;r++)y(o[r],a[r]);if(t)if(n)for(o=o||v(e),a=a||v(s),r=0,i=o.length;i>r;r++)g(o[r],a[r]);else g(e,s);return a=v(s,"script"),a.length>0&&m(a,!u&&v(e,"script")),s},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c=t.createDocumentFragment(),d=[],f=0,p=e.length;p>f;f++)if(i=e[f],i||0===i)if("object"===K.type(i))K.merge(d,i.nodeType?[i]:i);else if(jt.test(i)){for(o=o||c.appendChild(t.createElement("div")),a=(Nt.exec(i)||["",""])[1].toLowerCase(),s=Ft[a]||Ft._default,o.innerHTML=s[1]+i.replace(Ot,"<$1></$2>")+s[2],l=s[0];l--;)o=o.lastChild;K.merge(d,o.childNodes),o=c.firstChild,o.textContent=""}else d.push(t.createTextNode(i));for(c.textContent="",f=0;i=d[f++];)if((!r||-1===K.inArray(i,r))&&(u=K.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),u&&m(o),n))for(l=0;i=o[l++];)Pt.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,o=K.event.special,a=0;void 0!==(n=e[a]);a++){if(K.acceptData(n)&&(i=n[vt.expando],i&&(t=vt.cache[i]))){if(t.events)for(r in t.events)o[r]?K.event.remove(n,r):K.removeEvent(n,r,t.handle);vt.cache[i]&&delete vt.cache[i]}delete yt.cache[n[yt.expando]]}}}),K.fn.extend({text:function(e){return gt(this,function(e){return void 0===e?K.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?K.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||K.cleanData(v(n)),n.parentNode&&(t&&K.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(K.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return K.clone(this,e,t)})},html:function(e){return gt(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Mt.test(e)&&!Ft[(Nt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ot,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(K.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,K.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=W.apply([],e);var n,r,i,o,a,s,u=0,l=this.length,c=this,d=l-1,f=e[0],m=K.isFunction(f);if(m||l>1&&"string"==typeof f&&!J.checkClone&&Rt.test(f))return this.each(function(n){var r=c.eq(n);m&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(l&&(n=K.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=K.map(v(n,"script"),p),o=i.length;l>u;u++)a=n,u!==d&&(a=K.clone(a,!0,!0),o&&K.merge(i,v(a,"script"))),t.call(this[u],a,u);if(o)for(s=i[i.length-1].ownerDocument,K.map(i,h),u=0;o>u;u++)a=i[u],Pt.test(a.type||"")&&!vt.access(a,"globalEval")&&K.contains(s,a)&&(a.src?K._evalUrl&&K._evalUrl(a.src):K.globalEval(a.textContent.replace(qt,"")))}return this}}),K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){K.fn[e]=function(e){for(var n,r=[],i=K(e),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),K(i[a])[t](n),V.apply(r,n.get());return this.pushStack(r)}});var Lt,Ht={},zt=/^margin/,Bt=new RegExp("^("+xt+")(?!px)[a-z%]+$","i"),Ut=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(o);var t=e.getComputedStyle(a,null);n="1%"!==t.top,r="4px"===t.width,i.removeChild(o)}var n,r,i=X.documentElement,o=X.createElement("div"),a=X.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),e.getComputedStyle&&K.extend(J,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=a.appendChild(X.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",i.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(o),a.removeChild(n),t}}))}(),K.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var Wt=/^(none|table(?!-c[ea]).+)/,Vt=new RegExp("^("+xt+")(.*)$","i"),Yt=new RegExp("^([+-])=("+xt+")","i"),$t={position:"absolute",visibility:"hidden",display:"block"},Qt={letterSpacing:"0",fontWeight:"400"},Gt=["Webkit","O","Moz","ms"];K.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=x(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=K.camelCase(t),u=e.style;return t=K.cssProps[s]||(K.cssProps[s]=S(u,s)),a=K.cssHooks[t]||K.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t]:(o=typeof n,"string"===o&&(i=Yt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(K.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||K.cssNumber[s]||(n+="px"),J.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,a,s=K.camelCase(t);return t=K.cssProps[s]||(K.cssProps[s]=S(e.style,s)),a=K.cssHooks[t]||K.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=x(e,t,r)),"normal"===i&&t in Qt&&(i=Qt[t]),""===n||n?(o=parseFloat(i),n===!0||K.isNumeric(o)?o||0:i):i}}),K.each(["height","width"],function(e,t){K.cssHooks[t]={get:function(e,n,r){return n?Wt.test(K.css(e,"display"))&&0===e.offsetWidth?K.swap(e,$t,function(){return T(e,t,r)}):T(e,t,r):void 0},set:function(e,n,r){var i=r&&Ut(e);return k(e,n,r?C(e,t,r,"border-box"===K.css(e,"boxSizing",!1,i),i):0)}}}),K.cssHooks.marginRight=_(J.reliableMarginRight,function(e,t){return t?K.swap(e,{display:"inline-block"},x,[e,"marginRight"]):void 0}),K.each({margin:"",padding:"",border:"Width"},function(e,t){K.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+_t[r]+t]=o[r]||o[r-2]||o[0];return i}},zt.test(e)||(K.cssHooks[e+t].set=k)}),K.fn.extend({css:function(e,t){return gt(this,function(e,t,n){var r,i,o={},a=0;if(K.isArray(t)){for(r=Ut(e),i=t.length;i>a;a++)o[t[a]]=K.css(e,t[a],!1,r);return o}return void 0!==n?K.style(e,t,n):K.css(e,t)},e,t,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){St(this)?K(this).show():K(this).hide()})}}),K.Tween=E,E.prototype={constructor:E,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(K.cssNumber[n]?"":"px")},cur:function(){var e=E.propHooks[this.prop];return e&&e.get?e.get(this):E.propHooks._default.get(this)},run:function(e){var t,n=E.propHooks[this.prop];return this.pos=t=this.options.duration?K.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):E.propHooks._default.set(this),this}},E.prototype.init.prototype=E.prototype,E.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=K.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){K.fx.step[e.prop]?K.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[K.cssProps[e.prop]]||K.cssHooks[e.prop])?K.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},K.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},K.fx=E.prototype.init,K.fx.step={};var Jt,Xt,Zt=/^(?:toggle|show|hide)$/,Kt=new RegExp("^(?:([+-])=|)("+xt+")([a-z%]*)$","i"),en=/queueHooks$/,tn=[j],nn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Kt.exec(t),o=i&&i[3]||(K.cssNumber[e]?"":"px"),a=(K.cssNumber[e]||"px"!==o&&+r)&&Kt.exec(K.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,K.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};K.Animation=K.extend(R,{tweener:function(e,t){K.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],nn[n]=nn[n]||[],nn[n].unshift(t)},prefilter:function(e,t){t?tn.unshift(e):tn.push(e)}}),K.speed=function(e,t,n){var r=e&&"object"==typeof e?K.extend({},e):{complete:n||!n&&t||K.isFunction(e)&&e,duration:e,easing:n&&t||t&&!K.isFunction(t)&&t};return r.duration=K.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in K.fx.speeds?K.fx.speeds[r.duration]:K.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){K.isFunction(r.old)&&r.old.call(this),r.queue&&K.dequeue(this,r.queue)},r},K.fn.extend({fadeTo:function(e,t,n,r){return this.filter(St).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=K.isEmptyObject(e),o=K.speed(t,n,r),a=function(){var t=R(this,K.extend({},e),o);(i||vt.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=K.timers,a=vt.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&en.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&K.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=vt.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=K.timers,a=r?r.length:0;for(n.finish=!0,K.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),K.each(["toggle","show","hide"],function(e,t){var n=K.fn[t];K.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(O(t,!0),e,r,i)}}),K.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){K.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),K.timers=[],K.fx.tick=function(){var e,t=0,n=K.timers;for(Jt=K.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||K.fx.stop(),Jt=void 0},K.fx.timer=function(e){K.timers.push(e),e()?K.fx.start():K.timers.pop()},K.fx.interval=13,K.fx.start=function(){Xt||(Xt=setInterval(K.fx.tick,K.fx.interval))},K.fx.stop=function(){clearInterval(Xt),Xt=null},K.fx.speeds={slow:600,fast:200,_default:400},K.fn.delay=function(e,t){return e=K.fx?K.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=X.createElement("input"),t=X.createElement("select"),n=t.appendChild(X.createElement("option"));e.type="checkbox",J.checkOn=""!==e.value,J.optSelected=n.selected,t.disabled=!0,J.optDisabled=!n.disabled,e=X.createElement("input"),e.value="t",e.type="radio",J.radioValue="t"===e.value}();var rn,on,an=K.expr.attrHandle;K.fn.extend({attr:function(e,t){return gt(this,K.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){K.removeAttr(this,e)})}}),K.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Ct?K.prop(e,t,n):(1===o&&K.isXMLDoc(e)||(t=t.toLowerCase(),r=K.attrHooks[t]||(K.expr.match.bool.test(t)?on:rn)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=K.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void K.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(pt);if(o&&1===e.nodeType)for(;n=o[i++];)r=K.propFix[n]||n,K.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!J.radioValue&&"radio"===t&&K.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),on={set:function(e,t,n){return t===!1?K.removeAttr(e,n):e.setAttribute(n,n),n}},K.each(K.expr.match.bool.source.match(/\w+/g),function(e,t){var n=an[t]||K.find.attr;an[t]=function(e,t,r){var i,o;return r||(o=an[t],an[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,an[t]=o),i}});var sn=/^(?:input|select|textarea|button)$/i;K.fn.extend({prop:function(e,t){return gt(this,K.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[K.propFix[e]||e]})}}),K.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!K.isXMLDoc(e),o&&(t=K.propFix[t]||t,i=K.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||sn.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),J.optSelected||(K.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),K.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){K.propFix[this.toLowerCase()]=this});var un=/[\t\r\n\f]/g;K.fn.extend({addClass:function(e){var t,n,r,i,o,a,s="string"==typeof e&&e,u=0,l=this.length;if(K.isFunction(e))return this.each(function(t){K(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(pt)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=K.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0===arguments.length||"string"==typeof e&&e,u=0,l=this.length;if(K.isFunction(e))return this.each(function(t){K(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(pt)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?K.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(K.isFunction(e)?function(n){K(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=K(this),o=e.match(pt)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Ct||"boolean"===n)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||e===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(un," ").indexOf(t)>=0)return!0;return!1}});var ln=/\r/g;K.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=K.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,K(this).val()):e,null==i?i="":"number"==typeof i?i+="":K.isArray(i)&&(i=K.map(i,function(e){return null==e?"":e+""})),t=K.valHooks[this.type]||K.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=K.valHooks[i.type]||K.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ln,""):null==n?"":n)}}}),K.extend({valHooks:{option:{get:function(e){var t=K.find.attr(e,"value");return null!=t?t:K.trim(K.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(J.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&K.nodeName(n.parentNode,"optgroup"))){if(t=K(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=K.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=K.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),K.each(["radio","checkbox"],function(){K.valHooks[this]={set:function(e,t){return K.isArray(t)?e.checked=K.inArray(K(e).val(),t)>=0:void 0}},J.checkOn||(K.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){K.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),K.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var cn=K.now(),dn=/\?/;K.parseJSON=function(e){return JSON.parse(e+"")},K.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&K.error("Invalid XML: "+e),t};var fn=/#.*$/,pn=/([?&])_=[^&]*/,hn=/^(.*?):[ \t]*([^\r\n]*)$/gm,mn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gn=/^(?:GET|HEAD)$/,vn=/^\/\//,yn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,bn={},wn={},xn="*/".concat("*"),_n=e.location.href,Sn=yn.exec(_n.toLowerCase())||[];K.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_n,type:"GET",isLocal:mn.test(Sn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?q(q(e,K.ajaxSettings),t):q(K.ajaxSettings,e)},ajaxPrefilter:P(bn),ajaxTransport:P(wn),ajax:function(e,t){function n(e,t,n,a){var u,c,v,y,w,_=t;2!==b&&(b=2,s&&clearTimeout(s),r=void 0,o=a||"",x.readyState=e>0?4:0,u=e>=200&&300>e||304===e,n&&(y=F(d,x,n)),y=L(d,y,x,u),u?(d.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(K.lastModified[i]=w),w=x.getResponseHeader("etag"),w&&(K.etag[i]=w)),204===e||"HEAD"===d.type?_="nocontent":304===e?_="notmodified":(_=y.state,c=y.data,v=y.error,u=!v)):(v=_,(e||!_)&&(_="error",0>e&&(e=0))),x.status=e,x.statusText=(t||_)+"",u?h.resolveWith(f,[c,_,x]):h.rejectWith(f,[x,_,v]),x.statusCode(g),g=void 0,l&&p.trigger(u?"ajaxSuccess":"ajaxError",[x,d,u?c:v]),m.fireWith(f,[x,_]),l&&(p.trigger("ajaxComplete",[x,d]),--K.active||K.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,u,l,c,d=K.ajaxSetup({},t),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?K(f):K.event,h=K.Deferred(),m=K.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=hn.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return r&&r.abort(t),n(0,t),this}};if(h.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,d.url=((e||d.url||_n)+"").replace(fn,"").replace(vn,Sn[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=K.trim(d.dataType||"*").toLowerCase().match(pt)||[""],null==d.crossDomain&&(u=yn.exec(d.url.toLowerCase()),d.crossDomain=!(!u||u[1]===Sn[1]&&u[2]===Sn[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(Sn[3]||("http:"===Sn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=K.param(d.data,d.traditional)),I(bn,d,t,x),2===b)return x;l=K.event&&d.global,l&&0===K.active++&&K.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!gn.test(d.type),i=d.url,d.hasContent||(d.data&&(i=d.url+=(dn.test(i)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=pn.test(i)?i.replace(pn,"$1_="+cn++):i+(dn.test(i)?"&":"?")+"_="+cn++)),d.ifModified&&(K.lastModified[i]&&x.setRequestHeader("If-Modified-Since",K.lastModified[i]),K.etag[i]&&x.setRequestHeader("If-None-Match",K.etag[i])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+xn+"; q=0.01":""):d.accepts["*"]);for(c in d.headers)x.setRequestHeader(c,d.headers[c]);if(d.beforeSend&&(d.beforeSend.call(f,x,d)===!1||2===b))return x.abort();w="abort";for(c in{success:1,error:1,complete:1})x[c](d[c]);if(r=I(wn,d,t,x)){x.readyState=1,l&&p.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},d.timeout));try{b=1,r.send(v,n)}catch(_){if(!(2>b))throw _;n(-1,_)}}else n(-1,"No Transport");return x},getJSON:function(e,t,n){return K.get(e,t,n,"json")},getScript:function(e,t){return K.get(e,void 0,t,"script")}}),K.each(["get","post"],function(e,t){K[t]=function(e,n,r,i){return K.isFunction(n)&&(i=i||r,r=n,n=void 0),K.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),K._evalUrl=function(e){return K.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},K.fn.extend({wrapAll:function(e){var t;return K.isFunction(e)?this.each(function(t){K(this).wrapAll(e.call(this,t))}):(this[0]&&(t=K(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(K.isFunction(e)?function(t){K(this).wrapInner(e.call(this,t))}:function(){var t=K(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=K.isFunction(e);return this.each(function(n){K(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)}).end()}}),K.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},K.expr.filters.visible=function(e){return!K.expr.filters.hidden(e)};var kn=/%20/g,Cn=/\[\]$/,Tn=/\r?\n/g,Dn=/^(?:submit|button|image|reset|file)$/i,En=/^(?:input|select|textarea|keygen)/i;K.param=function(e,t){var n,r=[],i=function(e,t){t=K.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=K.ajaxSettings&&K.ajaxSettings.traditional),K.isArray(e)||e.jquery&&!K.isPlainObject(e))K.each(e,function(){i(this.name,this.value)});else for(n in e)H(n,e[n],t,i);
return r.join("&").replace(kn,"+")},K.fn.extend({serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=K.prop(this,"elements");return e?K.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!K(this).is(":disabled")&&En.test(this.nodeName)&&!Dn.test(e)&&(this.checked||!kt.test(e))}).map(function(e,t){var n=K(this).val();return null==n?null:K.isArray(n)?K.map(n,function(e){return{name:t.name,value:e.replace(Tn,"\r\n")}}):{name:t.name,value:n.replace(Tn,"\r\n")}}).get()}}),K.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var An=0,On={},Nn={0:200,1223:204},jn=K.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in On)On[e]()}),J.cors=!!jn&&"withCredentials"in jn,J.ajax=jn=!!jn,K.ajaxTransport(function(e){var t;return J.cors||jn&&!e.crossDomain?{send:function(n,r){var i,o=e.xhr(),a=++An;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete On[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(Nn[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=On[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}:void 0}),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return K.globalEval(e),e}}}),K.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),K.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=K("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),X.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Mn=[],Rn=/(=)\?(?=&|$)|\?\?/;K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mn.pop()||K.expando+"_"+cn++;return this[e]=!0,e}}),K.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(Rn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=K.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Rn,"$1"+i):t.jsonp!==!1&&(t.url+=(dn.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||K.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Mn.push(i)),a&&K.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),K.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||X;var r=at.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=K.buildFragment([e],t,i),i&&i.length&&K(i).remove(),K.merge([],r.childNodes))};var Pn=K.fn.load;K.fn.load=function(e,t,n){if("string"!=typeof e&&Pn)return Pn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=K.trim(e.slice(s)),e=e.slice(0,s)),K.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&K.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?K("<div>").append(K.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},K.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){K.fn[t]=function(e){return this.on(t,e)}}),K.expr.filters.animated=function(e){return K.grep(K.timers,function(t){return e===t.elem}).length};var In=e.document.documentElement;K.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=K.css(e,"position"),d=K(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=K.css(e,"top"),u=K.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),K.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},K.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){K.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,K.contains(t,r)?(typeof r.getBoundingClientRect!==Ct&&(i=r.getBoundingClientRect()),n=z(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===K.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),K.nodeName(e[0],"html")||(r=e.offset()),r.top+=K.css(e[0],"borderTopWidth",!0),r.left+=K.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-K.css(n,"marginTop",!0),left:t.left-r.left-K.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||In;e&&!K.nodeName(e,"html")&&"static"===K.css(e,"position");)e=e.offsetParent;return e||In})}}),K.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;K.fn[t]=function(i){return gt(this,function(t,i,o){var a=z(t);return void 0===o?a?a[n]:t[i]:void(a?a.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),K.each(["top","left"],function(e,t){K.cssHooks[t]=_(J.pixelPosition,function(e,n){return n?(n=x(e,t),Bt.test(n)?K(e).position()[t]+"px":n):void 0})}),K.each({Height:"height",Width:"width"},function(e,t){K.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){K.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return gt(this,function(t,n,r){var i;return K.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?K.css(t,n,a):K.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),K.fn.size=function(){return this.length},K.fn.andSelf=K.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return K});var qn=e.jQuery,Fn=e.$;return K.noConflict=function(t){return e.$===K&&(e.$=Fn),t&&e.jQuery===K&&(e.jQuery=qn),K},typeof t===Ct&&(e.jQuery=e.$=K),K}),define("logger",[],function(){var e=window.logger={error:function(e){console.log(this.getTimestamp()+" "+e)},getTimestamp:function(){return(new Date).toUTCString()}};return window.onerror=function(t,n,r){e.error(n+":"+r+"\n\n"+t)},e}),define("ajaxWrapper",["require","logger"],function(e){var t=e("logger");$(document).ajaxError(function(e,n,r){t.error(r.url+":"+n.status+"\n\n"+n.responseText)}),$(document).ajaxComplete(function(e,n,r){n.statusCode()>=400&&t.error(r.url+":"+n.status+"\n\n"+n.responseText)})}),function(e,t,n,r){e.fn.popup=function(i){var o,a=e(this),s=e(n),u=a.selector||"",l=(new Date).getTime(),c=[],d=arguments[0],f="string"==typeof d,p=[].slice.call(arguments,1);return a.each(function(){var n,a=e.isPlainObject(i)?e.extend(!0,{},e.fn.popup.settings,i):e.extend({},e.fn.popup.settings),h=a.selector,m=a.className,g=a.error,v=a.metadata,y=a.namespace,b="."+a.namespace,w="module-"+y,x=e(this),_=e(a.context),S=a.target?e(a.target):x,k=e(t),C=a.inline?S.offsetParent():k,T=a.inline?S.next(a.selector.popup):k.children(a.selector.popup).last(),D=0,E=this,A=x.data(w);n={initialize:function(){n.debug("Initializing module",x),"click"==a.on?x.on("click",n.toggle):x.on(n.get.startEvent()+b,n.event.start).on(n.get.endEvent()+b,n.event.end),a.target&&n.debug("Target set to element",S),k.on("resize"+b,n.event.resize),n.instantiate()},instantiate:function(){n.verbose("Storing instance of module",n),A=n,x.data(w,A)},refresh:function(){a.inline?(T=S.next(h.popup),C=S.offsetParent()):T=k.children(h.popup).last()},destroy:function(){n.debug("Destroying previous module"),k.off(b),T.remove(),x.off(b).removeData(w)},event:{start:function(){n.timer=setTimeout(function(){n.is.hidden()&&n.show()},a.delay)},end:function(){clearTimeout(n.timer),n.is.visible()&&n.hide()},resize:function(){n.is.visible()&&n.set.position()}},create:function(){n.debug("Creating pop-up html");var t=x.data(v.html)||a.html,r=x.data(v.variation)||a.variation,i=x.data(v.title)||a.title,o=x.data(v.content)||x.attr("title")||a.content;t||o||i?(t||(t=a.template({title:i,content:o})),T=e("<div/>").addClass(m.popup).addClass(r).html(t),a.inline?(n.verbose("Inserting popup element inline",T),T.data(w,A).insertAfter(x)):(n.verbose("Appending popup element to body",T),T.data(w,A).appendTo(_)),e.proxy(a.onCreate,T)()):n.error(g.content)},toggle:function(){n.debug("Toggling pop-up"),n.is.hidden()?(n.debug("Popup is hidden, showing pop-up"),n.unbind.close(),n.hideAll(),n.show()):(n.debug("Popup is visible, hiding pop-up"),n.hide())},show:function(e){e=e||function(){},n.debug("Showing pop-up",a.transition),a.preserve||n.refresh(),n.exists()||n.create(),n.save.conditions(),n.set.position(),n.animate.show(e)},hide:function(e){e=e||function(){},x.removeClass(m.visible),n.restore.conditions(),n.unbind.close(),n.is.visible()&&n.animate.hide(e)},hideAll:function(){e(h.popup).filter(":visible").popup("hide")},hideGracefully:function(t){t&&0===e(t.target).closest(h.popup).size()?(n.debug("Click occurred outside popup hiding popup"),n.hide()):n.debug("Click was inside popup, keeping popup open")},exists:function(){return a.inline?0!==T.size():T.parent(_).size()},remove:function(){n.debug("Removing popup"),T.remove(),e.proxy(a.onRemove,T)()},save:{conditions:function(){n.cache={title:x.attr("title")},n.cache.title&&x.removeAttr("title"),n.verbose("Saving original attributes",n.cache.title)}},restore:{conditions:function(){return n.cache&&n.cache.title&&(x.attr("title",n.cache.title),n.verbose("Restoring original attributes",n.cache.title)),!0}},animate:{show:function(t){t=t||function(){},x.addClass(m.visible),a.transition&&e.fn.transition!==r&&x.transition("is supported")?T.transition(a.transition+" in",a.duration,function(){n.bind.close(),e.proxy(t,E)()}):T.stop().fadeIn(a.duration,a.easing,function(){n.bind.close(),e.proxy(t,E)()}),e.proxy(a.onShow,E)()},hide:function(t){t=t||function(){},n.debug("Hiding pop-up"),a.transition&&e.fn.transition!==r&&x.transition("is supported")?T.transition(a.transition+" out",a.duration,function(){n.reset(),t()}):T.stop().fadeOut(a.duration,a.easing,function(){n.reset(),t()}),e.proxy(a.onHide,E)()}},get:{startEvent:function(){return"hover"==a.on?"mouseenter":"focus"==a.on?"focus":void 0},endEvent:function(){return"hover"==a.on?"mouseleave":"focus"==a.on?"blur":void 0},offstagePosition:function(){var r={top:e(t).scrollTop(),bottom:e(t).scrollTop()+e(t).height(),left:0,right:e(t).width()},i={width:T.width(),height:T.outerHeight(),position:T.offset()},o={},a=[];return i.position&&(o={top:i.position.top<r.top,bottom:i.position.top+i.height>r.bottom,right:i.position.left+i.width>r.right,left:i.position.left<r.left}),n.verbose("Checking if outside viewable area",i.position),e.each(o,function(e,t){t&&a.push(e)}),a.length>0?a.join(" "):!1},nextPosition:function(e){switch(e){case"top left":e="bottom left";break;case"bottom left":e="top right";break;case"top right":e="bottom right";break;case"bottom right":e="top center";break;case"top center":e="bottom center";break;case"bottom center":e="right center";break;case"right center":e="left center";break;case"left center":e="top center"}return e}},set:{position:function(r,i){var o,s,u=(e(t).width(),e(t).height(),S.outerWidth()),l=S.outerHeight(),c=T.width(),d=T.outerHeight(),f=C.outerWidth(),p=C.outerHeight(),h=a.distanceAway,y=a.inline?S.position():S.offset();switch(r=r||x.data(v.position)||a.position,i=i||x.data(v.offset)||a.offset,a.inline&&("left center"==r||"right center"==r?(i+=parseInt(t.getComputedStyle(E).getPropertyValue("margin-top"),10),h+=-parseInt(t.getComputedStyle(E).getPropertyValue("margin-left"),10)):(i+=parseInt(t.getComputedStyle(E).getPropertyValue("margin-left"),10),h+=parseInt(t.getComputedStyle(E).getPropertyValue("margin-top"),10))),n.debug("Calculating offset for position",r),r){case"top left":o={bottom:p-y.top+h,right:f-y.left-i,top:"auto",left:"auto"};break;case"top center":o={bottom:p-y.top+h,left:y.left+u/2-c/2+i,top:"auto",right:"auto"};break;case"top right":o={top:"auto",bottom:p-y.top+h,left:y.left+u+i,right:"auto"};break;case"left center":o={top:y.top+l/2-d/2+i,right:f-y.left+h,left:"auto",bottom:"auto"};break;case"right center":o={top:y.top+l/2-d/2+i,left:y.left+u+h,bottom:"auto",right:"auto"};break;case"bottom left":o={top:y.top+l+h,right:f-y.left-i,left:"auto",bottom:"auto"};break;case"bottom center":o={top:y.top+l+h,left:y.left+u/2-c/2+i,bottom:"auto",right:"auto"};break;case"bottom right":o={top:y.top+l+h,left:y.left+u+i,bottom:"auto",right:"auto"}}return T.css(o).removeClass(m.position).addClass(r).addClass(m.loading),s=n.get.offstagePosition(),s?(n.debug("Element is outside boundaries",s),D<a.maxSearchDepth?(r=n.get.nextPosition(r),D++,n.debug("Trying new position",r),n.set.position(r)):(n.error(g.recursion),D=0,n.reset(),T.removeClass(m.loading),!1)):(n.debug("Position is on stage",r),D=0,T.removeClass(m.loading),!0)}},bind:{close:function(){"click"==a.on&&a.closable&&(n.verbose("Binding popup close event to document"),s.on("click"+b,function(t){n.verbose("Pop-up clickaway intent detected"),e.proxy(n.hideGracefully,this)(t)}))}},unbind:{close:function(){"click"==a.on&&a.closable&&(n.verbose("Removing close event from document"),s.off("click"+b))}},is:{animating:function(){return T.is(":animated")||T.hasClass(m.animating)},visible:function(){return T.is(":visible")},hidden:function(){return!n.is.visible()}},reset:function(){T.attr("style","").removeAttr("style"),a.preserve||n.remove()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,a,t);else{if(n===r)return a[t];a[t]=n}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(i===r)return n[t];n[t]=i}},debug:function(){a.debug&&(a.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,a.name+":"),n.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,a.name+":"),n.error.apply(console,arguments)},performance:{log:function(e){var t,r,i;a.performance&&(t=(new Date).getTime(),i=l||t,r=t-i,l=t,c.push({Element:E,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":r})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,100)},display:function(){var t=a.name+":",i=0;l=!1,clearTimeout(n.performance.timer),e.each(c,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",u&&(t+=" '"+u+"'"),(console.group!==r||console.table!==r)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,i){var a,s,u,l=A;return n=n||p,i=E||i,"string"==typeof t&&l!==r&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var o=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=a)l=l[o];else{if(l[o]!==r)return s=l[o],!1;if(!e.isPlainObject(l[i])||n==a)return l[i]!==r?(s=l[i],!1):!1;l=l[i]}})),e.isFunction(s)?u=s.apply(i,n):s!==r&&(u=s),e.isArray(o)?o.push(u):o!==r?o=[o,u]:u!==r&&(o=u),s}},f?(A===r&&n.initialize(),n.invoke(d)):(A!==r&&n.destroy(),n.initialize())}),o!==r?o:this},e.fn.popup.settings={name:"Popup",debug:!1,verbose:!0,performance:!0,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onHide:function(){},variation:"",content:!1,html:!1,title:!1,on:"hover",target:!1,closable:!0,context:"body",position:"top center",delay:150,inline:!1,preserve:!1,duration:250,easing:"easeOutQuad",transition:"scale",distanceAway:0,offset:0,maxSearchDepth:10,error:{content:"Your popup has no content specified",method:"The method you called is not defined.",recursion:"Popup attempted to reposition element to fit, but could not find an adequate position."},metadata:{content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{animating:"animating",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},template:function(e){var t="";return typeof e!==r&&(typeof e.title!==r&&e.title&&(t+='<div class="header">'+e.title+"</div>"),typeof e.content!==r&&e.content&&(t+='<div class="content">'+e.content+"</div>")),t}},e.extend(e.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}})}(jQuery,window,document),define("semantic-popup",["jquery"],function(){}),function(e,t,n,r){e.fn.dropdown=function(i){var o,a=e(this),s=e(n),u=a.selector||"",l="ontouchstart"in n.documentElement,c=(new Date).getTime(),d=[],f=arguments[0],p="string"==typeof f,h=[].slice.call(arguments,1);return a.each(function(m){var g,v,y,b,w,x,_,S=e.isPlainObject(i)?e.extend(!0,{},e.fn.dropdown.settings,i):e.extend({},e.fn.dropdown.settings),k=S.className,C=S.message,T=S.fields,D=S.keys,E=S.metadata,A=S.namespace,O=S.regExp,N=S.selector,j=S.error,M=S.templates,R="."+A,P="module-"+A,I=e(this),q=e(S.context),F=I.find(N.text),L=I.find(N.search),H=I.find(N.input),z=I.find(N.icon),B=I.prev().find(N.text).length>0?I.prev().find(N.text):I.prev(),U=I.children(N.menu),W=U.find(N.item),V=!1,Y=!1,$=!1,Q=this,G=I.data(P);_={initialize:function(){_.debug("Initializing dropdown",S),_.is.alreadySetup()?_.setup.reference():(_.setup.layout(),_.refreshData(),_.save.defaults(),_.restore.selected(),_.create.id(),_.bind.events(),_.observeChanges(),_.instantiate())},instantiate:function(){_.verbose("Storing instance of dropdown",_),G=_,I.data(P,_)},destroy:function(){_.verbose("Destroying previous dropdown",I),_.remove.tabbable(),I.off(R).removeData(P),U.off(R),s.off(y),w&&w.disconnect(),x&&x.disconnect()},observeChanges:function(){"MutationObserver"in t&&(w=new MutationObserver(function(){_.debug("<select> modified, recreating menu"),_.setup.select()}),x=new MutationObserver(function(){_.debug("Menu modified, updating selector cache"),_.refresh()}),_.has.input()&&w.observe(H[0],{childList:!0,subtree:!0}),_.has.menu()&&x.observe(U[0],{childList:!0,subtree:!0}),_.debug("Setting up mutation observer",w,x))},create:{id:function(){b=(Math.random().toString(16)+"000000000").substr(2,8),y="."+b,_.verbose("Creating unique id for element",b)},userChoice:function(t){var n,i,o;return(t=t||_.get.userValues())?(t=e.isArray(t)?t:[t],e.each(t,function(t,a){_.get.item(a)===!1&&(o=S.templates.addition(_.add.variables(C.addResult,a)),i=e("<div />").html(o).attr("data-"+E.value,a).attr("data-"+E.text,a).addClass(k.addition).addClass(k.item),n=n===r?i:n.add(i),_.verbose("Creating user choices for value",a,i))}),n):!1},userLabels:function(){var t=_.get.userValues();t&&(_.debug("Adding user labels",t),e.each(t,function(e,t){_.verbose("Adding custom user value"),_.add.label(t,t)}))},menu:function(){U=e("<div />").addClass(k.menu).appendTo(I)}},search:function(e){e=e!==r?e:_.get.query(),_.verbose("Searching for query",e),_.filter(e)},select:{firstUnfiltered:function(){_.verbose("Selecting first non-filtered element"),_.remove.selectedItem(),W.not(N.unselectable).eq(0).addClass(k.selected)},nextAvailable:function(e){e=e.eq(0);var t=e.nextAll(N.item).not(N.unselectable).eq(0),n=e.prevAll(N.item).not(N.unselectable).eq(0),r=t.length>0;r?(_.verbose("Moving selection to",t),t.addClass(k.selected)):(_.verbose("Moving selection to",n),n.addClass(k.selected))}},setup:{api:function(){var e={debug:S.debug,on:!1};_.verbose("First request, initializing API"),I.api(e)},layout:function(){I.is("select")&&(_.setup.select(),_.setup.returnedObject()),_.has.menu()||_.create.menu(),_.is.search()&&!_.has.search()&&(_.verbose("Adding search input"),L=e("<input />").addClass(k.search).prop("autocomplete","off").insertBefore(F)),S.allowTab&&_.set.tabbable()},select:function(){var t=_.get.selectValues();_.debug("Dropdown initialized on a select",t),I.is("select")&&(H=I),H.parent(N.dropdown).length>0?(_.debug("UI dropdown already exists. Creating dropdown menu only"),I=H.closest(N.dropdown),_.has.menu()||_.create.menu(),U=I.children(N.menu),_.setup.menu(t)):(_.debug("Creating entire dropdown from select"),I=e("<div />").attr("class",H.attr("class")).addClass(k.selection).addClass(k.dropdown).html(M.dropdown(t)).insertBefore(H),H.hasClass(k.multiple)&&H.prop("multiple")===!1&&(_.error(j.missingMultiple),H.prop("multiple",!0)),H.is("[multiple]")&&_.set.multiple(),H.prop("disabled")&&(_.debug("Disabling dropdown"),I.addClass(k.disabled)),H.removeAttr("class").detach().prependTo(I)),_.refresh()},menu:function(e){U.html(M.menu(e,T)),W=U.find(N.item)},reference:function(){_.debug("Dropdown behavior was called on select, replacing with closest dropdown"),I=I.parent(N.dropdown),_.refresh(),_.setup.returnedObject(),p&&(G=_,_.invoke(f))},returnedObject:function(){var e=a.slice(0,m),t=a.slice(m+1);a=e.add(I).add(t)}},refresh:function(){_.refreshSelectors(),_.refreshData()},refreshSelectors:function(){_.verbose("Refreshing selector cache"),F=I.find(N.text),L=I.find(N.search),H=I.find(N.input),z=I.find(N.icon),B=I.prev().find(N.text).length>0?I.prev().find(N.text):I.prev(),U=I.children(N.menu),W=U.find(N.item)},refreshData:function(){_.verbose("Refreshing cached metadata"),W.removeData(E.text).removeData(E.value),I.removeData(E.defaultText).removeData(E.defaultValue).removeData(E.placeholderText)},toggle:function(){_.verbose("Toggling menu visibility"),_.is.active()?_.hide():_.show()},show:function(t){if(t=e.isFunction(t)?t:function(){},_.can.show()&&!_.is.active()){if(_.debug("Showing dropdown"),_.is.multiple()&&!_.has.search()&&_.is.allFiltered())return!0;!_.has.message()||_.has.maxSelections()||_.has.allResultsFiltered()||_.remove.message(),S.onShow.call(Q)!==!1&&_.animate.show(function(){_.can.click()&&_.bind.intent(),_.set.visible(),t.call(Q)})}},hide:function(t){t=e.isFunction(t)?t:function(){},_.is.active()&&(_.debug("Hiding dropdown"),S.onHide.call(Q)!==!1&&_.animate.hide(function(){_.remove.visible(),t.call(Q)}))},hideOthers:function(){_.verbose("Finding other dropdowns to hide"),a.not(I).has(N.menu+"."+k.visible).dropdown("hide")},hideMenu:function(){_.verbose("Hiding menu  instantaneously"),_.remove.active(),_.remove.visible(),U.transition("hide")},hideSubMenus:function(){var e=U.children(N.item).find(N.menu);_.verbose("Hiding sub menus",e),e.transition("hide")},bind:{events:function(){l&&_.bind.touchEvents(),_.bind.keyboardEvents(),_.bind.inputEvents(),_.bind.mouseEvents()},touchEvents:function(){_.debug("Touch device detected binding additional touch events"),_.is.searchSelection()||_.is.single()&&I.on("touchstart"+R,_.event.test.toggle),U.on("touchstart"+R,N.item,_.event.item.mouseenter)},keyboardEvents:function(){_.verbose("Binding keyboard events"),I.on("keydown"+R,_.event.keydown),_.has.search()&&I.on(_.get.inputEvent()+R,N.search,_.event.input),_.is.multiple()&&s.on("keydown"+y,_.event.document.keydown)},inputEvents:function(){_.verbose("Binding input change events"),I.on("change"+R,N.input,_.event.change)},mouseEvents:function(){_.verbose("Binding mouse events"),_.is.multiple()&&I.on("click"+R,N.label,_.event.label.click).on("click"+R,N.remove,_.event.remove.click),_.is.searchSelection()?(I.on("mousedown"+R,N.menu,_.event.menu.mousedown).on("mouseup"+R,N.menu,_.event.menu.mouseup).on("click"+R,N.icon,_.event.icon.click).on("click"+R,N.search,_.show).on("focus"+R,N.search,_.event.search.focus).on("blur"+R,N.search,_.event.search.blur).on("click"+R,N.text,_.event.text.focus),_.is.multiple()&&I.on("click"+R,_.event.click)):("click"==S.on?I.on("click"+R,N.icon,_.event.icon.click).on("click"+R,_.event.test.toggle):"hover"==S.on?I.on("mouseenter"+R,_.delay.show).on("mouseleave"+R,_.delay.hide):I.on(S.on+R,_.toggle),I.on("mousedown"+R,_.event.mousedown).on("mouseup"+R,_.event.mouseup).on("focus"+R,_.event.focus).on("blur"+R,_.event.blur)),U.on("mouseenter"+R,N.item,_.event.item.mouseenter).on("mouseleave"+R,N.item,_.event.item.mouseleave).on("click"+R,N.item,_.event.item.click)},intent:function(){_.verbose("Binding hide intent event to document"),l&&s.on("touchstart"+y,_.event.test.touch).on("touchmove"+y,_.event.test.touch),s.on("click"+y,_.event.test.hide)}},unbind:{intent:function(){_.verbose("Removing hide intent event from document"),l&&s.off("touchstart"+y).off("touchmove"+y),s.off("click"+y)}},filter:function(e){var t=e!==r?e:_.get.query(),n=function(){_.is.multiple()&&_.filterActive(),_.select.firstUnfiltered(),_.has.allResultsFiltered()?S.onNoResults.call(Q,t)?S.allowAdditions||(_.verbose("All items filtered, showing message",t),_.add.message(C.noResults)):(_.verbose("All items filtered, hiding dropdown",t),_.hideMenu()):_.remove.message(),S.allowAdditions&&_.add.userSuggestion(e),_.is.searchSelection()&&_.can.show()&&_.is.focusedOnSearch()&&_.show()};S.useLabels&&_.has.maxSelections()||(S.apiSettings?_.can.useAPI()?_.queryRemote(t,function(){n()}):_.error(j.noAPI):(_.filterItems(t),n()))},queryRemote:function(t,n){var r={errorDuration:!1,throttle:S.throttle,urlData:{query:t},onError:function(){_.add.message(C.serverError),n()},onFailure:function(){_.add.message(C.serverError),n()},onSuccess:function(e){_.remove.message(),_.setup.menu({values:e[T.remoteValues]}),n()}};I.api("get request")||_.setup.api(),r=e.extend(!0,{},r,S.apiSettings),I.api("setting",r).api("query")},filterItems:function(t){var n=t!==r?t:_.get.query(),i=null,o=_.escape.regExp(n),a=new RegExp("^"+o,"igm");_.has.query()&&(i=[],_.verbose("Searching for matching values",n),W.each(function(){var t,r,o=e(this);if("both"==S.match||"text"==S.match){if(t=String(_.get.choiceText(o,!1)),-1!==t.search(a))return i.push(this),!0;if(S.fullTextSearch&&_.fuzzySearch(n,t))return i.push(this),!0}if("both"==S.match||"value"==S.match){if(r=String(_.get.choiceValue(o,t)),-1!==r.search(a))return i.push(this),!0;if(S.fullTextSearch&&_.fuzzySearch(n,r))return i.push(this),!0}})),_.debug("Showing only matched items",n),_.remove.filteredItem(),i&&W.not(i).addClass(k.filtered)},fuzzySearch:function(e,t){var n=t.length,r=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),r>n)return!1;if(r===n)return e===t;e:for(var i=0,o=0;r>i;i++){for(var a=e.charCodeAt(i);n>o;)if(t.charCodeAt(o++)===a)continue e;return!1}return!0},filterActive:function(){S.useLabels&&W.filter("."+k.active).addClass(k.filtered)},focusSearch:function(){_.is.search()&&!_.is.focusedOnSearch()&&L[0].focus()},forceSelection:function(){var e=W.not(k.filtered).filter("."+k.selected).eq(0),t=W.not(k.filtered).filter("."+k.active).eq(0),n=e.length>0?e:t,r=n.size()>0;if(_.has.query()){if(r)return _.debug("Forcing partial selection to selected item",n),void _.event.item.click.call(n);_.remove.searchTerm()}_.hide()},event:{change:function(){$||(_.debug("Input changed, updating selection"),_.set.selected())},focus:function(){S.showOnFocus&&!V&&_.is.hidden()&&!v&&_.show()},click:function(t){var n=e(t.target);n.is(I)&&!_.is.focusedOnSearch()&&_.focusSearch()},blur:function(){v=n.activeElement===this,V||v||(_.remove.activeLabel(),_.hide())},mousedown:function(){V=!0},mouseup:function(){V=!1},search:{focus:function(){V=!0,_.is.multiple()&&_.remove.activeLabel(),S.showOnFocus&&(_.search(),_.show())},blur:function(){v=n.activeElement===this,Y||v?v&&S.forceSelection&&_.forceSelection():_.is.multiple()?(_.remove.activeLabel(),_.hide()):S.forceSelection?_.forceSelection():_.hide()}},icon:{click:function(e){_.toggle(),e.stopPropagation()}},text:{focus:function(){V=!0,_.focusSearch()}},input:function(){(_.is.multiple()||_.is.searchSelection())&&_.set.filtered(),clearTimeout(_.timer),_.timer=setTimeout(_.search,S.delay.search)},label:{click:function(t){var n=e(this),r=I.find(N.label),i=r.filter("."+k.active),o=n.nextAll("."+k.active),a=n.prevAll("."+k.active),s=o.length>0?n.nextUntil(o).add(i).add(n):n.prevUntil(a).add(i).add(n);t.shiftKey?(i.removeClass(k.active),s.addClass(k.active)):t.ctrlKey?n.toggleClass(k.active):(i.removeClass(k.active),n.addClass(k.active)),S.onLabelSelect.apply(this,r.filter("."+k.active))}},remove:{click:function(){var t=e(this).parent();t.hasClass(k.active)?_.remove.activeLabels():_.remove.activeLabels(t)}},test:{toggle:function(e){var t=_.is.multiple()?_.show:_.toggle;_.determine.eventOnElement(e,t)&&e.preventDefault()},touch:function(e){_.determine.eventOnElement(e,function(){"touchstart"==e.type?_.timer=setTimeout(function(){_.hide()},S.delay.touch):"touchmove"==e.type&&clearTimeout(_.timer)}),e.stopPropagation()},hide:function(e){_.determine.eventInModule(e,_.hide)}},menu:{mousedown:function(){Y=!0},mouseup:function(){Y=!1}},item:{mouseenter:function(t){var n=e(this).children(N.menu),r=e(this).siblings(N.item).children(N.menu);n.length>0&&(clearTimeout(_.itemTimer),_.itemTimer=setTimeout(function(){_.verbose("Showing sub-menu",n),e.each(r,function(){_.animate.hide(!1,e(this))}),_.animate.show(!1,n)},S.delay.show),t.preventDefault())},mouseleave:function(){var t=e(this).children(N.menu);t.length>0&&(clearTimeout(_.itemTimer),_.itemTimer=setTimeout(function(){_.verbose("Hiding sub-menu",t),_.animate.hide(!1,t)},S.delay.hide))},touchend:function(){},click:function(t){var n=e(this),r=e(t?t.target:""),i=n.find(N.menu),o=_.get.choiceText(n),a=_.get.choiceValue(n,o),s=i.length>0,u=i.find(r).length>0;u||s&&!S.allowCategorySelection||(S.useLabels||(_.remove.filteredItem(),_.remove.searchTerm(),_.set.scrollPosition(n)),_.determine.selectAction.call(this,o,a))}},document:{keydown:function(e){var t=e.which,n=_.is.inObject(t,D);if(n){var r=I.find(N.label),i=r.filter("."+k.active),o=(i.data(E.value),r.index(i)),a=r.length,s=i.length>0,u=i.length>1,l=0===o,c=o+1==a,d=_.is.searchSelection(),f=_.is.focusedOnSearch(),p=_.is.focused(),h=f&&0===_.get.caretPosition();if(d&&!s&&!f)return;t==D.leftArrow?!p&&!h||s?s&&(e.shiftKey?_.verbose("Adding previous label to selection"):(_.verbose("Selecting previous label"),r.removeClass(k.active)),l&&!u?i.addClass(k.active):i.prev(N.siblingLabel).addClass(k.active).end(),e.preventDefault()):(_.verbose("Selecting previous label"),r.last().addClass(k.active)):t==D.rightArrow?(p&&!s&&r.first().addClass(k.active),s&&(e.shiftKey?_.verbose("Adding next label to selection"):(_.verbose("Selecting next label"),r.removeClass(k.active)),c?d?f?r.removeClass(k.active):_.focusSearch():u?i.next(N.siblingLabel).addClass(k.active):i.addClass(k.active):i.next(N.siblingLabel).addClass(k.active),e.preventDefault())):t==D.deleteKey||t==D.backspace?s?(_.verbose("Removing active labels"),c&&d&&!f&&_.focusSearch(),i.last().next(N.siblingLabel).addClass(k.active),_.remove.activeLabels(i),e.preventDefault()):h&&!s&&t==D.backspace&&(_.verbose("Removing last label on input backspace"),i=r.last().addClass(k.active),_.remove.activeLabels(i)):i.removeClass(k.active)}}},keydown:function(e){var t=e.which,n=_.is.inObject(t,D);if(n){var r,i,o=W.not(N.unselectable).filter("."+k.selected).eq(0),a=U.children("."+k.active).eq(0),s=o.length>0?o:a,u=s.length>0?s.siblings(":not(."+k.filtered+")").andSelf():U.children(":not(."+k.filtered+")"),l=s.children(N.menu),c=s.closest(N.menu),d=c.hasClass(k.visible)||c.hasClass(k.animating)||c.parent(N.menu).length>0,f=l.length>0,p=s.length>0,h=s.not(N.unselectable).length>0,m=t==D.delimiter&&S.allowAdditions&&_.is.multiple();
if(_.is.visible()){if((t==D.enter||m)&&(t==D.enter&&p&&f&&!S.allowCategorySelection?(_.verbose("Pressed enter on unselectable category, opening sub menu"),t=D.rightArrow):h&&(_.verbose("Selecting item from keyboard shortcut",s),_.event.item.click.call(s,e),_.is.searchSelection()&&_.remove.searchTerm()),e.preventDefault()),t==D.leftArrow&&(i=c[0]!==U[0],i&&(_.verbose("Left key pressed, closing sub-menu"),_.animate.hide(!1,c),s.removeClass(k.selected),c.closest(N.item).addClass(k.selected),e.preventDefault())),t==D.rightArrow&&f&&(_.verbose("Right key pressed, opening sub-menu"),_.animate.show(!1,l),s.removeClass(k.selected),l.find(N.item).eq(0).addClass(k.selected),e.preventDefault()),t==D.upArrow){if(r=p&&d?s.prevAll(N.item+":not("+N.unselectable+")").eq(0):W.eq(0),u.index(r)<0)return _.verbose("Up key pressed but reached top of current menu"),void e.preventDefault();_.verbose("Up key pressed, changing active item"),s.removeClass(k.selected),r.addClass(k.selected),_.set.scrollPosition(r),e.preventDefault()}if(t==D.downArrow){if(r=p&&d?r=s.nextAll(N.item+":not("+N.unselectable+")").eq(0):W.eq(0),0===r.length)return _.verbose("Down key pressed but reached bottom of current menu"),void e.preventDefault();_.verbose("Down key pressed, changing active item"),W.removeClass(k.selected),r.addClass(k.selected),_.set.scrollPosition(r),e.preventDefault()}t==D.pageUp&&(_.scrollPage("up"),e.preventDefault()),t==D.pageDown&&(_.scrollPage("down"),e.preventDefault()),t==D.escape&&(_.verbose("Escape key pressed, closing dropdown"),_.hide())}else m&&e.preventDefault(),t==D.downArrow&&(_.verbose("Down key pressed, showing dropdown"),_.show(),e.preventDefault())}else _.is.selection()&&!_.is.search()&&_.set.selectedLetter(String.fromCharCode(t))}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=H[0];t&&(_.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},determine:{selectAction:function(t,n){_.verbose("Determining action",S.action),e.isFunction(_.action[S.action])?(_.verbose("Triggering preset action",S.action,t,n),_.action[S.action].call(this,t,n)):e.isFunction(S.action)?(_.verbose("Triggering user action",S.action,t,n),S.action.call(this,t,n)):_.error(j.action,S.action)},eventInModule:function(t,r){var i=e(t.target),o=i.closest(n.documentElement).length>0,a=i.closest(I).length>0;return r=e.isFunction(r)?r:function(){},o&&!a?(_.verbose("Triggering event",r),r(),!0):(_.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(t,n){var r=e(t.target),i=r.closest(N.siblingLabel),o=0===I.find(i).length,a=0===r.closest(U).length;return n=e.isFunction(n)?n:function(){},o&&a?(_.verbose("Triggering event",n),n(),!0):(_.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(t,n){if(n=n!==r?n:t,_.can.activate(e(this))){if(_.set.selected(n,e(this)),_.is.multiple()&&!_.is.allFiltered())return;_.hideAndClear()}},select:function(){_.action.activate.call(this)},combo:function(t,n){n=n!==r?n:t,_.set.selected(n,e(this)),_.hideAndClear()},hide:function(e,t){_.set.value(t),_.hideAndClear()}},get:{id:function(){return b},defaultText:function(){return I.data(E.defaultText)},defaultValue:function(){return I.data(E.defaultValue)},placeholderText:function(){return I.data(E.placeholderText)||""},text:function(){return F.text()},query:function(){return e.trim(L.val())},searchWidth:function(e){return e*S.glyphWidth+"em"},selectionCount:function(){var t,n=_.get.values();return t=_.is.multiple()?e.isArray(n)?n.length:0:""!==_.get.value()?1:0},transition:function(e){return"auto"==S.transition?_.is.upward(e)?"slide up":"slide down":S.transition},userValues:function(){var t=_.get.values();return t?(t=e.isArray(t)?t:[t],e.grep(t,function(e){return _.get.item(e)===!1})):!1},uniqueArray:function(t){return e.grep(t,function(n,r){return e.inArray(n,t)===r})},caretPosition:function(){var e,t,r=L.get(0);return"selectionStart"in r?r.selectionStart:n.selection?(r.focus(),e=n.selection.createRange(),t=e.text.length,e.moveStart("character",-r.value.length),e.text.length-t):void 0},value:function(){var t=H.length>0?H.val():I.data(E.value);return e.isArray(t)&&1===t.length&&""===t[0]?"":t},values:function(){var e=_.get.value();return""===e?"":!_.has.selectInput()&&_.is.multiple()?"string"==typeof e?e.split(S.delimiter):"":e},remoteValues:function(){var t=_.get.values(),n=!1;return t&&("string"==typeof t&&(t=[t]),n={},e.each(t,function(e,t){var r=_.read.remoteData(t);_.verbose("Restoring value from session data",r,t),n[t]=r?r:t})),n},choiceText:function(t,n){return n=n!==r?n:S.preserveHTML,t?(t.find(N.menu).length>0&&(_.verbose("Retreiving text of element with sub-menu"),t=t.clone(),t.find(N.menu).remove(),t.find(N.menuIcon).remove()),t.data(E.text)!==r?t.data(E.text):e.trim(n?t.html():t.text())):void 0},choiceValue:function(t,n){return n=n||_.get.choiceText(t),t?t.data(E.value)!==r?String(t.data(E.value)):"string"==typeof n?e.trim(n.toLowerCase()):String(n):!1},inputEvent:function(){var e=L[0];return e?e.oninput!==r?"input":e.onpropertychange!==r?"propertychange":"keyup":!1},selectValues:function(){var t={};return t.values=[],I.find("option").each(function(){var n=e(this),i=n.html(),o=n.attr("disabled"),a=n.attr("value")!==r?n.attr("value"):i;"auto"===S.placeholder&&""===a?t.placeholder=i:t.values.push({name:i,value:a,disabled:o})}),S.placeholder&&"auto"!==S.placeholder&&(_.debug("Setting placeholder value to",S.placeholder),t.placeholder=S.placeholder),S.sortSelect?(t.values.sort(function(e,t){return e.name>t.name?1:-1}),_.debug("Retrieved and sorted values from select",t)):_.debug("Retreived values from select",t),t},activeItem:function(){return W.filter("."+k.active)},selectedItem:function(){var e=W.not(N.unselectable).filter("."+k.selected);return e.length>0?e:W.eq(0)},itemWithAdditions:function(e){var t=_.get.item(e),n=_.create.userChoice(e),r=n&&n.length>0;return r&&(t=t.length>0?t.add(n):n),t},item:function(t,n){var i,o,a=!1;return t=t!==r?t:_.get.values()!==r?_.get.values():_.get.text(),i=o?t.length>0:t!==r&&null!==t,o=_.is.multiple()&&e.isArray(t),n=""===t||0===t?!0:n||!1,i&&W.each(function(){var i=e(this),s=_.get.choiceText(i),u=_.get.choiceValue(i,s);if(null!==u&&u!==r)if(o)(-1!==e.inArray(String(u),t)||-1!==e.inArray(s,t))&&(a=a?a.add(i):i);else if(n){if(_.verbose("Ambiguous dropdown value using strict type check",i,t),u===t||s===t)return a=i,!0}else if(String(u)==String(t)||s==t)return _.verbose("Found select item by value",u,t),a=i,!0}),a}},check:{maxSelections:function(e){return S.maxSelections?(e=e!==r?e:_.get.selectionCount(),e>=S.maxSelections?(_.debug("Maximum selection count reached"),S.useLabels&&(W.addClass(k.filtered),_.add.message(C.maxSelections)),!0):(_.verbose("No longer at maximum selection count"),_.remove.message(),_.remove.filteredItem(),_.is.searchSelection()&&_.filterItems(),!1)):!0}},restore:{defaults:function(){_.clear(),_.restore.defaultText(),_.restore.defaultValue()},defaultText:function(){var e=_.get.defaultText(),t=_.get.placeholderText;e===t?(_.debug("Restoring default placeholder text",e),_.set.placeholderText(e)):(_.debug("Restoring default text",e),_.set.text(e))},defaultValue:function(){var e=_.get.defaultValue();e!==r&&(_.debug("Restoring default value",e),""!==e?(_.set.value(e),_.set.selected()):(_.remove.activeItem(),_.remove.selectedItem()))},labels:function(){S.allowAdditions&&(S.useLabels||(_.error(j.labels),S.useLabels=!0),_.debug("Restoring selected values"),_.create.userLabels()),_.check.maxSelections()},selected:function(){_.restore.values(),_.is.multiple()?(_.debug("Restoring previously selected values and labels"),_.restore.labels()):_.debug("Restoring previously selected values")},values:function(){_.set.initialLoad(),S.apiSettings?S.saveRemoteData?_.restore.remoteValues():_.clearValue():_.set.selected(),_.remove.initialLoad()},remoteValues:function(){var t=_.get.remoteValues();_.debug("Recreating selected from session data",t),t&&(_.is.single()?e.each(t,function(e,t){_.set.text(t)}):e.each(t,function(e,t){_.add.label(e,t)}))}},read:{remoteData:function(e){var n;return t.Storage===r?void _.error(j.noStorage):(n=sessionStorage.getItem(e),n!==r?n:!1)}},save:{defaults:function(){_.save.defaultText(),_.save.placeholderText(),_.save.defaultValue()},defaultValue:function(){var e=_.get.value();_.verbose("Saving default value as",e),I.data(E.defaultValue,e)},defaultText:function(){var e=_.get.text();_.verbose("Saving default text as",e),I.data(E.defaultText,e)},placeholderText:function(){var e;S.placeholder!==!1&&F.hasClass(k.placeholder)&&(e=_.get.text(),_.verbose("Saving placeholder text as",e),I.data(E.placeholderText,e))},remoteData:function(e,n){return t.Storage===r?void _.error(j.noStorage):(_.verbose("Saving remote data to session storage",n,e),void sessionStorage.setItem(n,e))}},clear:function(){_.is.multiple()?_.remove.labels():(_.remove.activeItem(),_.remove.selectedItem()),_.set.placeholderText(),_.clearValue()},clearValue:function(){_.set.value("")},scrollPage:function(e,t){var n,r,i,o=t||_.get.selectedItem(),a=o.closest(N.menu),s=a.outerHeight(),u=a.scrollTop(),l=W.eq(0).outerHeight(),c=Math.floor(s/l),d=(a.prop("scrollHeight"),"up"==e?u-l*c:u+l*c),f=W.not(N.unselectable);i="up"==e?f.index(o)-c:f.index(o)+c,n="up"==e?i>=0:i<f.length,r=n?f.eq(i):"up"==e?f.first():f.last(),r.length>0&&(_.debug("Scrolling page",e,r),o.removeClass(k.selected),r.addClass(k.selected),a.scrollTop(d))},set:{filtered:function(){var e=_.is.multiple(),t=_.is.searchSelection(),n=e&&t,r=t?_.get.query():"",i="string"==typeof r&&r.length>0,o=_.get.searchWidth(r.length),a=""!==r;e&&i&&(_.verbose("Adjusting input width",o,S.glyphWidth),L.css("width",o)),i||n&&a?(_.verbose("Hiding placeholder text"),F.addClass(k.filtered)):(!e||n&&!a)&&(_.verbose("Showing placeholder text"),F.removeClass(k.filtered))},loading:function(){I.addClass(k.loading)},placeholderText:function(e){e=e||_.get.placeholderText(),_.debug("Setting placeholder text",e),_.set.text(e),F.addClass(k.placeholder)},tabbable:function(){_.has.search()?(_.debug("Added tabindex to searchable dropdown"),L.val("").attr("tabindex",0),U.attr("tabindex",-1)):(_.debug("Added tabindex to dropdown"),I.attr("tabindex")===r&&(I.attr("tabindex",0),U.attr("tabindex",-1)))},initialLoad:function(){_.verbose("Setting initial load"),g=!0},activeItem:function(e){e.addClass(S.allowAdditions&&e.filter(N.addition).length>0?k.filtered:k.active)},scrollPosition:function(e,t){var n,i,o,a,s,u,l,c,d,f=5;e=e||_.get.selectedItem(),n=e.closest(N.menu),i=e&&e.length>0,t=t!==r?t:!1,e&&n.length>0&&i&&(a=e.position().top,n.addClass(k.loading),u=n.scrollTop(),s=n.offset().top,a=e.offset().top,o=u-s+a,t||(l=n.height(),d=o+f>u+l,c=u>o-f),_.debug("Scrolling to active item",o),(t||c||d)&&n.scrollTop(o),n.removeClass(k.loading))},text:function(e){"select"!==S.action&&("combo"==S.action?(_.debug("Changing combo button text",e,B),S.preserveHTML?B.html(e):B.text(e)):(e!==_.get.placeholderText()&&F.removeClass(k.placeholder),_.debug("Changing text",e,F),F.removeClass(k.filtered),S.preserveHTML?F.html(e):F.text(e)))},selectedLetter:function(t){var n,r=W.filter("."+k.selected),i=r.length>0&&_.has.firstLetter(r,t),o=!1;i&&(n=r.nextAll(W).eq(0),_.has.firstLetter(n,t)&&(o=n)),o||W.each(function(){return _.has.firstLetter(e(this),t)?(o=e(this),!1):void 0}),o&&(_.verbose("Scrolling to next value with letter",t),_.set.scrollPosition(o),r.removeClass(k.selected),o.addClass(k.selected))},direction:function(e){"auto"==S.direction?_.is.onScreen(e)?_.remove.upward(e):_.set.upward(e):"upward"==S.direction&&_.set.upward(e)},upward:function(e){var t=e||I;t.addClass(k.upward)},value:function(e,t,n){var i=H.length>0,o=(!_.has.value(e),_.get.values()),a=e!==r?String(e):e;if(i){if(a==o&&(_.verbose("Skipping value update already same value",e,o),!_.is.initialLoad()))return;_.is.single()&&_.has.selectInput()&&_.can.extendSelect()&&(_.debug("Adding user option",e),_.add.optionValue(e)),_.debug("Updating input value",e,o),$=!0,H.val(e),S.fireOnInit===!1&&_.is.initialLoad()?_.debug("Input native change event ignored on initial load"):_.trigger.change(),$=!1}else _.verbose("Storing value in metadata",e,H),e!==o&&I.data(E.value,a);S.fireOnInit===!1&&_.is.initialLoad()?_.verbose("No callback on initial load",S.onChange):S.onChange.call(Q,e,t,n)},active:function(){I.addClass(k.active)},multiple:function(){I.addClass(k.multiple)},visible:function(){I.addClass(k.visible)},exactly:function(e,t){_.debug("Setting selected to exact values"),_.clear(),_.set.selected(e,t)},selected:function(t,n){var r=_.is.multiple();n=S.allowAdditions?n||_.get.itemWithAdditions(t):n||_.get.item(t),n&&(_.debug("Setting selected menu item to",n),_.is.single()?(_.remove.activeItem(),_.remove.selectedItem()):S.useLabels&&_.remove.selectedItem(),n.each(function(){var t=e(this),i=_.get.choiceText(t),o=_.get.choiceValue(t,i),a=t.hasClass(k.filtered),s=t.hasClass(k.active),u=t.hasClass(k.addition),l=r&&1==n.length;r?!s||u?(S.apiSettings&&S.saveRemoteData&&_.save.remoteData(i,o),S.useLabels?(_.add.value(o,i,t),_.add.label(o,i,l),_.set.activeItem(t),_.filterActive(),_.select.nextAvailable(n)):(_.add.value(o,i,t),_.set.text(_.add.variables(C.count)),_.set.activeItem(t))):a||(_.debug("Selected active value, removing label"),_.remove.selected(o)):(S.apiSettings&&S.saveRemoteData&&_.save.remoteData(i,o),_.set.text(i),_.set.value(o,i,t),t.addClass(k.active).addClass(k.selected))}))}},add:{label:function(t,n,r){var i,o=_.is.searchSelection()?L:F;return i=e("<a />").addClass(k.label).attr("data-value",t).html(M.label(t,n)),i=S.onLabelCreate.call(i,t,n),_.has.label(t)?void _.debug("Label already exists, skipping",t):(S.label.variation&&i.addClass(S.label.variation),void(r===!0?(_.debug("Animating in label",i),i.addClass(k.hidden).insertBefore(o).transition(S.label.transition,S.label.duration)):(_.debug("Adding selection label",i),i.insertBefore(o))))},message:function(t){var n=U.children(N.message),r=S.templates.message(_.add.variables(t));n.length>0?n.html(r):n=e("<div/>").html(r).addClass(k.message).appendTo(U)},optionValue:function(t){var n=H.find('option[value="'+t+'"]'),r=n.length>0;r||(w&&(w.disconnect(),_.verbose("Temporarily disconnecting mutation observer",t)),_.is.single()&&(_.verbose("Removing previous user addition"),H.find("option."+k.addition).remove()),e("<option/>").prop("value",t).addClass(k.addition).html(t).appendTo(H),_.verbose("Adding user addition as an <option>",t),w&&w.observe(H[0],{childList:!0,subtree:!0}))},userSuggestion:function(e){var t,n=U.children(N.addition),r=_.get.item(e),i=r&&r.not(N.addition).length,o=n.length>0;if(!S.useLabels||!_.has.maxSelections()){if(""===e||i)return void n.remove();W.removeClass(k.selected),o?(t=S.templates.addition(_.add.variables(C.addResult,e)),n.html(t).attr("data-"+E.value,e).attr("data-"+E.text,e).removeClass(k.filtered).addClass(k.selected),_.verbose("Replacing user suggestion with new value",n)):(n=_.create.userChoice(e),n.prependTo(U).addClass(k.selected),_.verbose("Adding item choice to menu corresponding with user choice addition",n))}},variables:function(e,t){var n,r,i=-1!==e.search("{count}"),o=-1!==e.search("{maxCount}"),a=-1!==e.search("{term}");return _.verbose("Adding templated variables to message",e),i&&(n=_.get.selectionCount(),e=e.replace("{count}",n)),o&&(n=_.get.selectionCount(),e=e.replace("{maxCount}",S.maxSelections)),a&&(r=t||_.get.query(),e=e.replace("{term}",r)),e},value:function(t,n,r){var i,o=_.get.values();return""===t?void _.debug("Cannot select blank values from multiselect"):(e.isArray(o)?(i=o.concat([t]),i=_.get.uniqueArray(i)):i=[t],_.has.selectInput()?_.can.extendSelect()&&(_.debug("Adding value to select",t,i,H),_.add.optionValue(t)):(i=i.join(S.delimiter),_.debug("Setting hidden input to delimited value",i,H)),S.fireOnInit===!1&&_.is.initialLoad()?_.verbose("Skipping onadd callback on initial load",S.onAdd):S.onAdd.call(Q,t,n,r),_.set.value(i,t,n,r),void _.check.maxSelections())}},remove:{active:function(){I.removeClass(k.active)},activeLabel:function(){I.find(N.label).removeClass(k.active)},loading:function(){I.removeClass(k.loading)},initialLoad:function(){g=!1},upward:function(e){var t=e||I;t.removeClass(k.upward)},visible:function(){I.removeClass(k.visible)},activeItem:function(){W.removeClass(k.active)},filteredItem:function(){S.useLabels&&_.has.maxSelections()||(S.useLabels&&_.is.multiple()?W.not("."+k.active).removeClass(k.filtered):W.removeClass(k.filtered))},optionValue:function(e){var t=H.find('option[value="'+e+'"]'),n=t.length>0;n&&t.hasClass(k.addition)&&(w&&(w.disconnect(),_.verbose("Temporarily disconnecting mutation observer",e)),t.remove(),_.verbose("Removing user addition as an <option>",e),w&&w.observe(H[0],{childList:!0,subtree:!0}))},message:function(){U.children(N.message).remove()},searchTerm:function(){_.verbose("Cleared search term"),L.val(""),_.set.filtered()},selected:function(t,n){return(n=S.allowAdditions?n||_.get.itemWithAdditions(t):n||_.get.item(t))?void n.each(function(){var t=e(this),n=_.get.choiceText(t),r=_.get.choiceValue(t,n);_.is.multiple()?S.useLabels?(_.remove.value(r,n,t),_.remove.label(r)):(_.remove.value(r,n,t),0===_.get.selectionCount()?_.set.placeholderText():_.set.text(_.add.variables(C.count))):_.remove.value(r,n,t),t.removeClass(k.filtered).removeClass(k.active),S.useLabels&&t.removeClass(k.selected)}):!1},selectedItem:function(){W.removeClass(k.selected)},value:function(e,t,n){var r,i=_.get.values();_.has.selectInput()?(_.verbose("Input is <select> removing selected option",e),r=_.remove.arrayValue(e,i),_.remove.optionValue(e)):(_.verbose("Removing from delimited values",e),r=_.remove.arrayValue(e,i),r=r.join(S.delimiter)),S.fireOnInit===!1&&_.is.initialLoad()?_.verbose("No callback on initial load",S.onRemove):S.onRemove.call(Q,e,t,n),_.set.value(r,t,n),_.check.maxSelections()},arrayValue:function(t,n){return e.isArray(n)||(n=[n]),n=e.grep(n,function(e){return t!=e}),_.verbose("Removed value from delimited string",t,n),n},label:function(e){var t=I.find(N.label),n=t.filter('[data-value="'+e+'"]');_.verbose("Removing label",n),n.remove()},activeLabels:function(e){e=e||I.find(N.label).filter("."+k.active),_.verbose("Removing active label selections",e),_.remove.labels(e)},labels:function(t){t=t||I.find(N.label),_.verbose("Removing labels",t),t.each(function(){var t=e(this),n=t.data(E.value),i=n!==r?String(n):n,o=_.is.userValue(i);return S.onLabelRemove.call(t,n)===!1?void _.debug("Label remove callback cancelled removal"):void(o?(_.remove.value(i),_.remove.label(i)):_.remove.selected(i))})},tabbable:function(){_.has.search()?(_.debug("Searchable dropdown initialized"),L.removeAttr("tabindex"),U.removeAttr("tabindex")):(_.debug("Simple selection dropdown initialized"),I.removeAttr("tabindex"),U.removeAttr("tabindex"))}},has:{search:function(){return L.length>0},selectInput:function(){return H.is("select")},firstLetter:function(e,t){var n,r;return e&&0!==e.length&&"string"==typeof t?(n=_.get.choiceText(e,!1),t=t.toLowerCase(),r=String(n).charAt(0).toLowerCase(),t==r):!1},input:function(){return H.length>0},items:function(){return W.length>0},menu:function(){return U.length>0},message:function(){return 0!==U.children(N.message).length},label:function(e){var t=I.find(N.label);return t.filter('[data-value="'+e+'"]').length>0},maxSelections:function(){return S.maxSelections&&_.get.selectionCount()>=S.maxSelections},allResultsFiltered:function(){return W.filter(N.unselectable).length===W.length},query:function(){return""!==_.get.query()},value:function(t){var n=_.get.values(),r=e.isArray(n)?n&&-1!==e.inArray(t,n):n==t;return r?!0:!1}},is:{active:function(){return I.hasClass(k.active)},alreadySetup:function(){return I.is("select")&&I.parent(N.dropdown).length>0&&0===I.prev().length},animating:function(e){return e?e.transition&&e.transition("is animating"):U.transition&&U.transition("is animating")},disabled:function(){return I.hasClass(k.disabled)},focused:function(){return n.activeElement===I[0]},focusedOnSearch:function(){return n.activeElement===L[0]},allFiltered:function(){return(_.is.multiple()||_.has.search())&&!_.has.message()&&_.has.allResultsFiltered()},hidden:function(e){return!_.is.visible(e)},initialLoad:function(){return g},onScreen:function(e){var t,n=e||U,r=!0,i={};return n.addClass(k.loading),t={context:{scrollTop:q.scrollTop(),height:q.outerHeight()},menu:{offset:n.offset(),height:n.outerHeight()}},i={above:t.context.scrollTop<=t.menu.offset.top-t.menu.height,below:t.context.scrollTop+t.context.height>=t.menu.offset.top+t.menu.height},i.below?(_.verbose("Dropdown can fit in context downward",i),r=!0):i.below||i.above?(_.verbose("Dropdown cannot fit below, opening upward",i),r=!1):(_.verbose("Dropdown cannot fit in either direction, favoring downward",i),r=!0),n.removeClass(k.loading),r},inObject:function(t,n){var r=!1;return e.each(n,function(e,n){return n==t?(r=!0,!0):void 0}),r},multiple:function(){return I.hasClass(k.multiple)},single:function(){return!_.is.multiple()},selectMutation:function(t){var n=!1;return e.each(t,function(t,r){return r.target&&e(r.target).is("select")?(n=!0,!0):void 0}),n},search:function(){return I.hasClass(k.search)},searchSelection:function(){return _.has.search()&&1===L.parent(N.dropdown).length},selection:function(){return I.hasClass(k.selection)},userValue:function(t){return-1!==e.inArray(t,_.get.userValues())},upward:function(e){var t=e||I;return t.hasClass(k.upward)},visible:function(e){return e?e.hasClass(k.visible):U.hasClass(k.visible)}},can:{activate:function(e){return S.useLabels?!0:_.has.maxSelections()?_.has.maxSelections()&&e.hasClass(k.active)?!0:!1:!0},click:function(){return l||"click"==S.on},extendSelect:function(){return S.allowAdditions||S.apiSettings},show:function(){return!_.is.disabled()&&(_.has.items()||_.has.message())},useAPI:function(){return e.fn.api!==r}},animate:{show:function(t,n){var i,o=n||U,a=n?function(){}:function(){_.hideSubMenus(),_.hideOthers(),_.set.active()};t=e.isFunction(t)?t:function(){},_.verbose("Doing menu show animation",o),_.set.direction(n),i=_.get.transition(n),_.is.selection()&&_.set.scrollPosition(_.get.selectedItem(),!0),(_.is.hidden(o)||_.is.animating(o))&&("none"==i?(a(),o.transition("show"),t.call(Q)):e.fn.transition!==r&&I.transition("is supported")?o.transition({animation:i+" in",debug:S.debug,verbose:S.verbose,duration:S.duration,queue:!0,onStart:a,onComplete:function(){t.call(Q)}}):_.error(j.noTransition,i))},hide:function(t,n){var i=n||U,o=(n?.9*S.duration:S.duration,n?function(){}:function(){_.can.click()&&_.unbind.intent(),_.remove.active()}),a=_.get.transition(n);t=e.isFunction(t)?t:function(){},(_.is.visible(i)||_.is.animating(i))&&(_.verbose("Doing menu hide animation",i),"none"==a?(o(),i.transition("hide"),t.call(Q)):e.fn.transition!==r&&I.transition("is supported")?i.transition({animation:a+" out",duration:S.duration,debug:S.debug,verbose:S.verbose,queue:!0,onStart:o,onComplete:function(){"auto"==S.direction&&_.remove.upward(n),t.call(Q)}}):_.error(j.transition))}},hideAndClear:function(){_.remove.searchTerm(),_.has.maxSelections()||(_.has.search()?_.hide(function(){_.remove.filteredItem()}):_.hide())},delay:{show:function(){_.verbose("Delaying show event to ensure user intent"),clearTimeout(_.timer),_.timer=setTimeout(_.show,S.delay.show)},hide:function(){_.verbose("Delaying hide event to ensure user intent"),clearTimeout(_.timer),_.timer=setTimeout(_.hide,S.delay.hide)}},escape:{regExp:function(e){return e=String(e),e.replace(O.escape,"\\$&")}},setting:function(t,n){if(_.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,S,t);else{if(n===r)return S[t];S[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,_,t);else{if(n===r)return _[t];_[t]=n}},debug:function(){S.debug&&(S.performance?_.performance.log(arguments):(_.debug=Function.prototype.bind.call(console.info,console,S.name+":"),_.debug.apply(console,arguments)))},verbose:function(){S.verbose&&S.debug&&(S.performance?_.performance.log(arguments):(_.verbose=Function.prototype.bind.call(console.info,console,S.name+":"),_.verbose.apply(console,arguments)))},error:function(){_.error=Function.prototype.bind.call(console.error,console,S.name+":"),_.error.apply(console,arguments)},performance:{log:function(e){var t,n,r;S.performance&&(t=(new Date).getTime(),r=c||t,n=t-r,c=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:Q,"Execution Time":n})),clearTimeout(_.performance.timer),_.performance.timer=setTimeout(_.performance.display,500)},display:function(){var t=S.name+":",n=0;c=!1,clearTimeout(_.performance.timer),e.each(d,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",u&&(t+=" '"+u+"'"),(console.group!==r||console.table!==r)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,n,i){var a,s,u,l=G;return n=n||h,i=Q||i,"string"==typeof t&&l!==r&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var o=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=a)l=l[o];else{if(l[o]!==r)return s=l[o],!1;if(!e.isPlainObject(l[i])||n==a)return l[i]!==r?(s=l[i],!1):(_.error(j.method,t),!1);l=l[i]}})),e.isFunction(s)?u=s.apply(i,n):s!==r&&(u=s),e.isArray(o)?o.push(u):o!==r?o=[o,u]:u!==r&&(o=u),s}},p?(G===r&&_.initialize(),_.invoke(f)):(G!==r&&G.invoke("destroy"),_.initialize())}),o!==r?o:a},e.fn.dropdown.settings={debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,saveRemoteData:!0,throttle:200,context:t,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.0714,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(){},onAdd:function(){},onRemove:function(){},onLabelSelect:function(){},onLabelCreate:function(){return e(this)},onLabelRemove:function(){return!0},onNoResults:function(){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",name:"name",value:"value"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},e.fn.dropdown.settings.templates={dropdown:function(t){var n=t.placeholder||!1,r=(t.values||{},"");return r+='<i class="dropdown icon"></i>',r+=t.placeholder?'<div class="default text">'+n+"</div>":'<div class="text"></div>',r+='<div class="menu">',e.each(t.values,function(e,t){r+=t.disabled?'<div class="disabled item" data-value="'+t.value+'">'+t.name+"</div>":'<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),r+="</div>"},menu:function(t,n){var r=t[n.values]||{},i="";return e.each(r,function(e,t){i+='<div class="item" data-value="'+t[n.value]+'">'+t[n.name]+"</div>"}),i},label:function(e,t){return t+'<i class="delete icon"></i>'},message:function(e){return e},addition:function(e){return e}}}(jQuery,window,document),define("semantic2-dropdown",function(){}),function(e,t,n,r){e.fn.transition=function(){{var i,o=e(this),a=o.selector||"",s=(new Date).getTime(),u=[],l=arguments,c=l[0],d=[].slice.call(arguments,1),f="string"==typeof c;t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)}}return o.each(function(t){var p,h,m,g,v,y,b,w,x,_=e(this),S=this;x={initialize:function(){p=x.get.settings.apply(S,l),g=p.className,m=p.error,v=p.metadata,w="."+p.namespace,b="module-"+p.namespace,h=_.data(b)||x,y=x.get.animationEndEvent(),f&&(f=x.invoke(c)),f===!1&&(x.verbose("Converted arguments into settings object",p),p.interval?x.delay(p.animate):x.animate(),x.instantiate())},instantiate:function(){x.verbose("Storing instance of module",x),h=x,_.data(b,h)},destroy:function(){x.verbose("Destroying previous module for",S),_.removeData(b)},refresh:function(){x.verbose("Refreshing display type on next animation"),delete x.displayType},forceRepaint:function(){x.verbose("Forcing element repaint");var e=_.parent(),t=_.next();0===t.length?_.detach().appendTo(e):_.detach().insertBefore(t)},repaint:function(){x.verbose("Repainting element");S.offsetWidth},delay:function(e){var n,i,a=x.get.animationDirection();a||(a=x.can.transition()?x.get.direction():"static"),e=e!==r?e:p.interval,n="auto"==p.reverse&&a==g.outward,i=n||1==p.reverse?(o.length-t)*p.interval:t*p.interval,x.debug("Delaying animation by",i),setTimeout(x.animate,i)},animate:function(e){if(p=e||p,!x.is.supported())return x.error(m.support),!1;if(x.debug("Preparing animation",p.animation),x.is.animating()){if(p.queue)return!p.allowRepeats&&x.has.direction()&&x.is.occurring()&&x.queuing!==!0?x.debug("Animation is currently occurring, preventing queueing same animation",p.animation):x.queue(p.animation),!1;if(!p.allowRepeats&&x.is.occurring())return x.debug("Animation is already occurring, will not execute repeated animation",p.animation),!1;x.debug("New animation started, completing previous early",p.animation),h.complete()}x.can.animate()?x.set.animating(p.animation):x.error(m.noAnimation,p.animation,S)},reset:function(){x.debug("Resetting animation to beginning conditions"),x.remove.animationCallbacks(),x.restore.conditions(),x.remove.animating()},queue:function(e){x.debug("Queueing animation of",e),x.queuing=!0,_.one(y+".queue"+w,function(){x.queuing=!1,x.repaint(),x.animate.apply(this,p)})},complete:function(){x.debug("Animation complete",p.animation),x.remove.completeCallback(),x.remove.failSafe(),x.is.looping()||(x.is.outward()?(x.verbose("Animation is outward, hiding element"),x.restore.conditions(),x.hide()):x.is.inward()?(x.verbose("Animation is outward, showing element"),x.restore.conditions(),x.show()):(x.verbose("Static animation completed"),x.restore.conditions(),p.onComplete.call(S)))},force:{visible:function(){var e=_.attr("style"),t=x.get.userStyle(),n=x.get.displayType(),i=t+"display: "+n+" !important;",o=_.css("display"),a=e===r||""===e;
o!==n?(x.verbose("Overriding default display to show element",n),_.attr("style",i)):a&&_.removeAttr("style")},hidden:function(){var e=_.attr("style"),t=_.css("display"),n=e===r||""===e;"none"===t||x.is.hidden()?n&&_.removeAttr("style"):(x.verbose("Overriding default display to hide element"),_.css("display","none"))}},has:{direction:function(t){var n=!1;return t=t||p.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){(t===g.inward||t===g.outward)&&(n=!0)})),n},inlineDisplay:function(){var t=_.attr("style")||"";return e.isArray(t.match(/display.*?;/,""))}},set:{animating:function(e){var t;x.remove.completeCallback(),e=e||p.animation,t=x.get.animationClass(e),x.save.animation(t),x.force.visible(),x.remove.hidden(),x.remove.direction(),x.start.animation(t)},duration:function(e,t){t=t||p.duration,t="number"==typeof t?t+"ms":t,(t||0===t)&&(x.verbose("Setting animation duration",t),_.css({"animation-duration":t}))},direction:function(e){e=e||x.get.direction(),e==g.inward?x.set.inward():x.set.outward()},looping:function(){x.debug("Transition set to loop"),_.addClass(g.looping)},hidden:function(){_.addClass(g.transition).addClass(g.hidden)},inward:function(){x.debug("Setting direction to inward"),_.removeClass(g.outward).addClass(g.inward)},outward:function(){x.debug("Setting direction to outward"),_.removeClass(g.inward).addClass(g.outward)},visible:function(){_.addClass(g.transition).addClass(g.visible)}},start:{animation:function(e){e=e||x.get.animationClass(),x.debug("Starting tween",e),_.addClass(e).one(y+".complete"+w,x.complete),p.useFailSafe&&x.add.failSafe(),x.set.duration(p.duration),p.onStart.call(S)}},save:{animation:function(e){x.cache||(x.cache={}),x.cache.animation=e},displayType:function(e){"none"!==e&&_.data(v.displayType,e)},transitionExists:function(t,n){e.fn.transition.exists[t]=n,x.verbose("Saving existence of transition",t,n)}},restore:{conditions:function(){var e=x.get.currentAnimation();e&&(_.removeClass(e),x.verbose("Removing animation class",x.cache)),x.remove.duration()}},add:{failSafe:function(){var e=x.get.duration();x.timer=setTimeout(function(){_.triggerHandler(y)},e+p.failSafeDelay),x.verbose("Adding fail safe timer",x.timer)}},remove:{animating:function(){_.removeClass(g.animating)},animationCallbacks:function(){x.remove.queueCallback(),x.remove.completeCallback()},queueCallback:function(){_.off(".queue"+w)},completeCallback:function(){_.off(".complete"+w)},display:function(){_.css("display","")},direction:function(){_.removeClass(g.inward).removeClass(g.outward)},duration:function(){_.css("animation-duration","")},failSafe:function(){x.verbose("Removing fail safe timer",x.timer),x.timer&&clearTimeout(x.timer)},hidden:function(){_.removeClass(g.hidden)},visible:function(){_.removeClass(g.visible)},looping:function(){x.debug("Transitions are no longer looping"),x.is.looping()&&(x.reset(),_.removeClass(g.looping))},transition:function(){_.removeClass(g.visible).removeClass(g.hidden)}},get:{settings:function(t,n,r){return"object"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof r?e.extend({},e.fn.transition.settings,{animation:t,onComplete:r,duration:n}):"string"==typeof n||"number"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,duration:n}):"object"==typeof n?e.extend({},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n}):e.extend({},e.fn.transition.settings,{animation:t})},animationClass:function(e){var t=e||p.animation,n=x.can.transition()&&!x.has.direction()?x.get.direction()+" ":"";return g.animating+" "+g.transition+" "+n+t},currentAnimation:function(){return x.cache&&x.cache.animation!==r?x.cache.animation:!1},currentDirection:function(){return x.is.inward()?g.inward:g.outward},direction:function(){return x.is.hidden()||!x.is.visible()?g.inward:g.outward},animationDirection:function(t){var n;return t=t||p.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){t===g.inward?n=g.inward:t===g.outward&&(n=g.outward)})),n?n:!1},duration:function(e){return e=e||p.duration,e===!1&&(e=_.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(){return p.displayType?p.displayType:(_.data(v.displayType)===r&&x.can.transition(!0),_.data(v.displayType))},userStyle:function(e){return e=e||_.attr("style")||"",e.replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationStartEvent:function(){var e,t=n.createElement("div"),i={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in i)if(t.style[e]!==r)return i[e];return!1},animationEndEvent:function(){var e,t=n.createElement("div"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(t.style[e]!==r)return i[e];return!1}},can:{transition:function(t){var n,i,o,a,s,u,l,c=p.animation,d=x.get.transitionExists(c);if(d===r||t){if(x.verbose("Determining whether animation exists"),n=_.attr("class"),i=_.prop("tagName"),o=e("<"+i+" />").addClass(n).insertAfter(_),a=o.addClass(c).removeClass(g.inward).removeClass(g.outward).addClass(g.animating).addClass(g.transition).css("animationName"),s=o.addClass(g.inward).css("animationName"),l=o.attr("class",n).removeAttr("style").removeClass(g.hidden).removeClass(g.visible).show().css("display"),x.verbose("Determining final display state",l),x.save.displayType(l),o.remove(),a!=s)x.debug("Direction exists for animation",c),u=!0;else{if("none"==a||!a)return void x.debug("No animation defined in css",c);x.debug("Static animation found",c,l),u=!1}x.save.transitionExists(c,u)}return d!==r?d:u},animate:function(){return x.can.transition()!==r}},is:{animating:function(){return _.hasClass(g.animating)},inward:function(){return _.hasClass(g.inward)},outward:function(){return _.hasClass(g.outward)},looping:function(){return _.hasClass(g.looping)},occurring:function(e){return e=e||p.animation,e="."+e.replace(" ","."),_.filter(e).length>0},visible:function(){return _.is(":visible")},hidden:function(){return"hidden"===_.css("visibility")},supported:function(){return y!==!1}},hide:function(){x.verbose("Hiding element"),x.is.animating()&&x.reset(),S.blur(),x.remove.display(),x.remove.visible(),x.set.hidden(),x.force.hidden(),p.onHide.call(S),p.onComplete.call(S)},show:function(e){x.verbose("Showing element",e),x.remove.hidden(),x.set.visible(),x.force.visible(),p.onShow.call(S),p.onComplete.call(S)},toggle:function(){x.is.visible()?x.hide():x.show()},stop:function(){x.debug("Stopping current animation"),_.triggerHandler(y)},stopAll:function(){x.debug("Stopping all animation"),x.remove.queueCallback(),_.triggerHandler(y)},clear:{queue:function(){x.debug("Clearing animation queue"),x.remove.queueCallback()}},enable:function(){x.verbose("Starting animation"),_.removeClass(g.disabled)},disable:function(){x.debug("Stopping animation"),_.addClass(g.disabled)},setting:function(t,n){if(x.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,p,t);else{if(n===r)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(n===r)return x[t];x[t]=n}},debug:function(){p.debug&&(p.performance?x.performance.log(arguments):(x.debug=Function.prototype.bind.call(console.info,console,p.name+":"),x.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?x.performance.log(arguments):(x.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),x.verbose.apply(console,arguments)))},error:function(){x.error=Function.prototype.bind.call(console.error,console,p.name+":"),x.error.apply(console,arguments)},performance:{log:function(e){var t,n,r;p.performance&&(t=(new Date).getTime(),r=s||t,n=t-r,s=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":n})),clearTimeout(x.performance.timer),x.performance.timer=setTimeout(x.performance.display,500)},display:function(){var t=p.name+":",n=0;s=!1,clearTimeout(x.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==r||console.table!==r)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,o){var a,s,u,l=h;return n=n||d,o=S||o,"string"==typeof t&&l!==r&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var o=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=a)l=l[o];else{if(l[o]!==r)return s=l[o],!1;if(!e.isPlainObject(l[i])||n==a)return l[i]!==r?(s=l[i],!1):!1;l=l[i]}})),e.isFunction(s)?u=s.apply(o,n):s!==r&&(u=s),e.isArray(i)?i.push(u):i!==r?i=[i,u]:u!==r&&(i=u),s!==r?s:!1}},x.initialize()}),i!==r?i:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),define("semantic2-transition",function(){}),define("app/ko-extensions/global-bindings",["require","knockout","jquery","semantic-popup","semantic2-dropdown","semantic2-transition"],function(e){function t(e,t){this.trigger=e,this.observable=t}var n=e("knockout");e("jquery"),e("semantic-popup"),e("semantic2-dropdown"),e("semantic2-transition"),n.bindingHandlers.toggle={init:function(e,r,i,o,a){var s=n.observable(!1),u=r(),l=new t(e,s);return $(e).addClass(n.bindingHandlers.toggle.triggerClass),a.$data[u]=s,n.bindingHandlers.toggle.toggles.push(l),n.utils.domNodeDisposal.addDisposeCallback(e,function(){n.utils.arrayRemoveItem(n.bindingHandlers.toggle.toggles,l)}),{controlsDescendantBindings:!1}}},n.bindingHandlers.toggle.toggles=[],n.bindingHandlers.toggle.targetClass="target",n.bindingHandlers.toggle.targetSelector=".target",n.bindingHandlers.toggle.triggerClass="trigger",n.bindingHandlers.toggle.triggerSelector=".trigger",$(window).on("click",function(e){var t,r,i=n.bindingHandlers.toggle.toggles;if(i&&i.length&&(t=$(e.target).closest(n.bindingHandlers.toggle.targetSelector),!t||!t.length)){if(r=$(e.target).closest(n.bindingHandlers.toggle.triggerSelector),r&&r.length){var o,a;for(a=0;a<i.length;a++)if(i[a].trigger===r[0]){o=i[a];break}return void(o&&o.observable(!o.observable()))}i.forEach(function(e){e.observable(!1)})}}),n.bindingHandlers.popup={init:function(e,t){$(e).popup(n.unwrap(t())),n.utils.domNodeDisposal.addDisposeCallback(e,function(){$(e).popup("destroy")})}},n.bindingHandlers.dropdown={init:function(e,t){$(e).dropdown(n.unwrap(t())),n.utils.domNodeDisposal.addDisposeCallback(e,function(){$(e).dropdown("destroy")})}}}),define("app/startup",["require","knockout","jquery","ajaxWrapper","logger","app/ko-extensions/global-bindings"],function(e){var t=e("knockout");e("jquery"),e("ajaxWrapper"),e("logger"),e("app/ko-extensions/global-bindings"),t.components.register("out-of-service",{require:"components/out-of-service/out-of-service"}),t.components.register("metrics-by-project-layout",{require:"components/metrics-by-project-layout/metrics-by-project-layout"}),t.components.register("wikimetrics",{require:"components/visualizers/wikimetrics/wikimetrics"}),t.components.register("project-selector",{require:"components/project-selector/project-selector"}),t.components.register("metric-selector",{require:"components/metric-selector/metric-selector"}),t.components.register("breakdown-toggle",{require:"components/breakdown-toggle/breakdown-toggle"}),t.components.register("vega-timeseries",{require:"components/visualizers/vega-timeseries/vega-timeseries"}),t.components.register("annotation-list",{require:"components/annotation-list/annotation-list"}),t.components.register("compare-layout",{require:"components/compare-layout/compare-layout"}),t.components.register("dropdown",{require:"components/dropdown/dropdown"}),t.components.register("button-group",{require:"components/button-group/button-group"}),t.components.register("sunburst",{require:"components/visualizers/sunburst/sunburst"}),t.components.register("hierarchy",{require:"components/visualizers/hierarchy/hierarchy"}),t.components.register("rickshaw-timeseries",{require:"components/visualizers/rickshaw-timeseries/rickshaw-timeseries"}),t.components.register("nvd3-timeseries",{require:"components/visualizers/nvd3-timeseries/nvd3-timeseries"}),t.components.register("dygraphs-timeseries",{require:"components/visualizers/dygraphs-timeseries/dygraphs-timeseries"}),t.components.register("filter-timeseries",{require:"components/visualizers/filter-timeseries/filter-timeseries"}),t.components.register("stacked-bars",{require:"components/visualizers/stacked-bars/stacked-bars"}),t.components.register("a-b-compare",{require:"components/a-b-compare/a-b-compare"}),t.components.register("compare-sunburst",{require:"components/a-b-compare/compare-sunburst"}),t.components.register("compare-timeseries",{require:"components/a-b-compare/compare-timeseries"}),t.components.register("compare-stacked-bars",{require:"components/a-b-compare/compare-stacked-bars"}),t.components.register("tabs-layout",{require:"components/tabs-layout/tabs-layout"}),t.components.register("visualizer",{require:"components/visualizers/visualizer/visualizer"}),t.components.register("table-timeseries",{require:"components/visualizers/table-timeseries/table-timeseries"}),t.options.deferUpdates=!0,t.applyBindings()}),function(){function e(e,t){if(e!==t){var n=null===e,r=e===x,i=e===e,o=null===t,a=t===x,s=t===t;if(e>t&&!o||!i||n&&!a&&s||r&&s)return 1;if(t>e&&!n||!s||o&&!r&&i||a&&i)return-1}return 0}function t(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function n(e,t,n){if(t!==t)return f(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function r(e){return"function"==typeof e||!1}function i(e){return"string"==typeof e?e:null==e?"":e+""}function o(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function a(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function s(t,n){return e(t.criteria,n.criteria)||t.index-n.index}function u(t,n,r){for(var i=-1,o=t.criteria,a=n.criteria,s=o.length,u=r.length;++i<s;){var l=e(o[i],a[i]);if(l)return i>=u?l:l*(r[i]?1:-1)}return t.index-n.index}function l(e){return zt[e]}function c(e){return Bt[e]}function d(e){return"\\"+Vt[e]}function f(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function p(e){return!!e&&"object"==typeof e}function h(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function m(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)e[n]===t&&(e[n]=H,o[++i]=n);return o}function g(e,t){for(var n,r=-1,i=e.length,o=-1,a=[];++r<i;){var s=e[r],u=t?t(s,r,e):s;r&&n===u||(n=u,a[++o]=s)}return a}function v(e){for(var t=-1,n=e.length;++t<n&&h(e.charCodeAt(t)););return t}function y(e){for(var t=e.length;t--&&h(e.charCodeAt(t)););return t}function b(e){return Ut[e]}function w(h){function $(e){if(p(e)&&!ku(e)&&!(e instanceof zt)){if(e instanceof K)return e;if(Qa.call(e,"__chain__")&&Qa.call(e,"__wrapped__"))return ui(e)}return new K(e)}function X(){}function K(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function zt(e){this.__wrapped__=e,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=_s,this.__views__=null}function Bt(){var e=this.__actions__,t=this.__iteratees__,n=this.__views__,r=new zt(this.__wrapped__);return r.__actions__=e?tn(e):null,r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=t?tn(t):null,r.__takeCount__=this.__takeCount__,r.__views__=n?tn(n):null,r}function Ut(){if(this.__filtered__){var e=new zt(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Wt(){var e=this.__wrapped__.value();if(!ku(e))return tr(e,this.__actions__);var t=this.__dir__,n=0>t,r=zr(0,e.length,this.__views__),i=r.start,o=r.end,a=o-i,s=n?o:i-1,u=vs(a,this.__takeCount__),l=this.__iteratees__,c=l?l.length:0,d=0,f=[];e:for(;a--&&u>d;){s+=t;for(var p=-1,h=e[s];++p<c;){var m=l[p],g=m.iteratee,v=m.type;if(v==I){if(m.done&&(n?s>m.index:s<m.index)&&(m.count=0,m.done=!1),m.index=s,!m.done){var y=m.limit;if(!(m.done=y>-1?m.count++>=y:!g(h)))continue e}}else{var b=g(h);if(v==F)h=b;else if(!b){if(v==q)continue e;break e}}}f[d++]=h}return f}function Vt(){this.__data__={}}function Yt(e){return this.has(e)&&delete this.__data__[e]}function $t(e){return"__proto__"==e?x:this.__data__[e]}function Qt(e){return"__proto__"!=e&&Qa.call(this.__data__,e)}function Gt(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Jt(e){var t=e?e.length:0;for(this.data={hash:fs(null),set:new as};t--;)this.push(e[t])}function Kt(e,t){var n=e.data,r="string"==typeof t||Eo(t)?n.set.has(t):n.hash[t];return r?0:-1}function en(e){var t=this.data;"string"==typeof e||Eo(e)?t.set.add(e):t.hash[e]=!0}function tn(e,t){var n=-1,r=e.length;for(t||(t=Ma(r));++n<r;)t[n]=e[n];return t}function nn(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function rn(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function on(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function an(e,t,n,r){for(var i=-1,o=e.length,a=r,s=a;++i<o;){var u=e[i],l=+t(u);n(l,a)&&(a=l,s=u)}return s}function sn(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[++i]=a)}return o}function un(e,t){for(var n=-1,r=e.length,i=Ma(r);++n<r;)i[n]=t(e[n],n,e);return i}function ln(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function cn(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function dn(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function fn(e){for(var t=e.length,n=0;t--;)n+=+e[t]||0;return n}function pn(e,t){return e===x?t:e}function hn(e,t,n,r){return e!==x&&Qa.call(r,n)?e:t}function mn(e,t,n){for(var r=-1,i=Iu(t),o=i.length;++r<o;){var a=i[r],s=e[a],u=n(s,t[a],a,e,t);(u===u?u===s:s!==s)&&(s!==x||a in e)||(e[a]=u)}return e}function gn(e,t){return null==t?e:yn(t,Iu(t),e)}function vn(e,t){for(var n=-1,r=null==e,i=!r&&Yr(e),o=i?e.length:0,a=t.length,s=Ma(a);++n<a;){var u=t[n];s[n]=i?$r(u,o)?e[u]:x:r?x:e[u]}return s}function yn(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}function bn(e,t,n){var r=typeof e;return"function"==r?t===x?e:ir(e,t,n):null==e?wa:"object"==r?Fn(e):t===x?Ta(e):Ln(e,t)}function wn(e,t,n,r,i,o,a){var s;if(n&&(s=i?n(e,r,i):n(e)),s!==x)return s;if(!Eo(e))return e;var u=ku(e);if(u){if(s=Br(e),!t)return tn(e,s)}else{var l=Ja.call(e),c=l==Y;if(l!=G&&l!=z&&(!c||i))return Lt[l]?Wr(e,l,t):i?e:{};if(s=Ur(c?{}:e),!t)return gn(s,e)}o||(o=[]),a||(a=[]);for(var d=o.length;d--;)if(o[d]==e)return a[d];return o.push(e),a.push(s),(u?nn:On)(e,function(r,i){s[i]=wn(r,t,n,i,e,o,a)}),s}function xn(e,t,n){if("function"!=typeof e)throw new Ba(L);return ss(function(){e.apply(x,n)},t)}function _n(e,t){var r=e?e.length:0,i=[];if(!r)return i;var o=-1,a=Fr(),s=a==n,u=s&&t.length>=200?qs(t):null,l=t.length;u&&(a=Kt,s=!1,t=u);e:for(;++o<r;){var c=e[o];if(s&&c===c){for(var d=l;d--;)if(t[d]===c)continue e;i.push(c)}else a(t,c,0)<0&&i.push(c)}return i}function Sn(e,t){var n=!0;return js(e,function(e,r,i){return n=!!t(e,r,i)}),n}function kn(e,t,n,r){var i=r,o=i;return js(e,function(e,a,s){var u=+t(e,a,s);(n(u,i)||u===r&&u===o)&&(i=u,o=e)}),o}function Cn(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===x||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e}function Tn(e,t){var n=[];return js(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Dn(e,t,n,r){var i;return n(e,function(e,n,o){return t(e,n,o)?(i=r?n:e,!1):void 0}),i}function En(e,t,n){for(var r=-1,i=e.length,o=-1,a=[];++r<i;){var s=e[r];if(p(s)&&Yr(s)&&(n||ku(s)||xo(s))){t&&(s=En(s,t,n));for(var u=-1,l=s.length;++u<l;)a[++o]=s[u]}else n||(a[++o]=s)}return a}function An(e,t){return Rs(e,t,$o)}function On(e,t){return Rs(e,t,Iu)}function Nn(e,t){return Ps(e,t,Iu)}function jn(e,t){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];Tu(e[a])&&(o[++i]=a)}return o}function Mn(e,t,n){if(null!=e){n!==x&&n in ai(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&i>r;)e=e[t[r++]];return r&&r==i?e:x}}function Rn(e,t,n,r,i,o){return e===t?!0:null==e||null==t||!Eo(e)&&!Eo(t)?e!==e&&t!==t:Pn(e,t,Rn,n,r,i,o)}function Pn(e,t,n,r,i,o,a){var s=ku(e),u=ku(t),l=B,c=B;s||(l=Ja.call(e),l==z?l=G:l!=G&&(s=Io(e))),u||(c=Ja.call(t),c==z?c=G:c!=G&&(u=Io(t)));var d=l==G,f=c==G,p=l==c;if(p&&!s&&!d)return Rr(e,t,l);if(!i){var h=d&&Qa.call(e,"__wrapped__"),m=f&&Qa.call(t,"__wrapped__");if(h||m)return n(h?e.value():e,m?t.value():t,r,i,o,a)}if(!p)return!1;o||(o=[]),a||(a=[]);for(var g=o.length;g--;)if(o[g]==e)return a[g]==t;o.push(e),a.push(t);var v=(s?Mr:Pr)(e,t,n,r,i,o,a);return o.pop(),a.pop(),v}function In(e,t,n){var r=t.length,i=r,o=!n;if(null==e)return!i;for(e=ai(e);r--;){var a=t[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<i;){a=t[r];var s=a[0],u=e[s],l=a[1];if(o&&a[2]){if(u===x&&!(s in e))return!1}else{var c=n?n(u,l,s):x;if(!(c===x?Rn(l,u,n,!0):c))return!1}}return!0}function qn(e,t){var n=-1,r=Yr(e)?Ma(e.length):[];return js(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Fn(e){var t=Lr(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==x||n in ai(e))}}return function(e){return In(e,t)}}function Ln(e,t){var n=ku(e),r=Gr(e)&&Zr(t),i=e+"";return e=si(e),function(o){if(null==o)return!1;var a=i;if(o=ai(o),!(!n&&r||a in o)){if(o=1==e.length?o:Mn(o,$n(e,0,-1)),null==o)return!1;a=xi(e),o=ai(o)}return o[a]===t?t!==x||a in o:Rn(t,o[a],x,!0)}}function Hn(e,t,n,r,i){if(!Eo(e))return e;var o=Yr(t)&&(ku(t)||Io(t)),a=o?null:Iu(t);return nn(a||t,function(s,u){if(a&&(u=s,s=t[u]),p(s))r||(r=[]),i||(i=[]),zn(e,t,u,Hn,n,r,i);else{var l=e[u],c=n?n(l,s,u,e,t):x,d=c===x;d&&(c=s),c===x&&(!o||u in e)||!d&&(c===c?c===l:l!==l)||(e[u]=c)}}),e}function zn(e,t,n,r,i,o,a){for(var s=o.length,u=t[n];s--;)if(o[s]==u)return void(e[n]=a[s]);var l=e[n],c=i?i(l,u,n,e,t):x,d=c===x;d&&(c=u,Yr(u)&&(ku(u)||Io(u))?c=ku(l)?l:Yr(l)?tn(l):[]:Du(u)||xo(u)?c=xo(l)?zo(l):Du(l)?l:{}:d=!1),o.push(u),a.push(c),d?e[n]=r(c,u,i,o,a):(c===c?c!==l:l===l)&&(e[n]=c)}function Bn(e){return function(t){return null==t?x:t[e]}}function Un(e){var t=e+"";return e=si(e),function(n){return Mn(n,e,t)}}function Wn(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&$r(r)){var i=r;us.call(e,r,1)}}return e}function Vn(e,t){return e+rs(xs()*(t-e+1))}function Yn(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function $n(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=n===x||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Ma(i);++r<i;)o[r]=e[r+t];return o}function Qn(e,t){var n;return js(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Gn(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Jn(e,t,n){var r=Ir(),i=-1;t=un(t,function(e){return r(e)});var o=qn(e,function(e){var n=un(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return Gn(o,function(e,t){return u(e,t,n)})}function Xn(e,t){var n=0;return js(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function Zn(e,t){var r=-1,i=Fr(),o=e.length,a=i==n,s=a&&o>=200,u=s?qs():null,l=[];u?(i=Kt,a=!1):(s=!1,u=t?[]:l);e:for(;++r<o;){var c=e[r],d=t?t(c,r,e):c;if(a&&c===c){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),l.push(c)}else i(u,d,0)<0&&((t||s)&&u.push(d),l.push(c))}return l}function Kn(e,t){for(var n=-1,r=t.length,i=Ma(r);++n<r;)i[n]=e[t[n]];return i}function er(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?$n(e,r?0:o,r?o+1:i):$n(e,r?o+1:0,r?i:o)}function tr(e,t){var n=e;n instanceof zt&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var o=[n],a=t[r];os.apply(o,a.args),n=a.func.apply(a.thisArg,o)}return n}function nr(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&Cs>=i){for(;i>r;){var o=r+i>>>1,a=e[o];(n?t>=a:t>a)&&null!==a?r=o+1:i=o}return i}return rr(e,t,wa,n)}function rr(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,s=null===t,u=t===x;o>i;){var l=rs((i+o)/2),c=n(e[l]),d=c!==x,f=c===c;if(a)var p=f||r;else p=s?f&&d&&(r||null!=c):u?f&&(r||d):null==c?!1:r?t>=c:t>c;p?i=l+1:o=l}return vs(o,ks)}function ir(e,t,n){if("function"!=typeof e)return wa;if(t===x)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}function or(e){return es.call(e,0)}function ar(e,t,n){for(var r=n.length,i=-1,o=gs(e.length-r,0),a=-1,s=t.length,u=Ma(o+s);++a<s;)u[a]=t[a];for(;++i<r;)u[n[i]]=e[i];for(;o--;)u[a++]=e[i++];return u}function sr(e,t,n){for(var r=-1,i=n.length,o=-1,a=gs(e.length-i,0),s=-1,u=t.length,l=Ma(a+u);++o<a;)l[o]=e[o];for(var c=o;++s<u;)l[c+s]=t[s];for(;++r<i;)l[c+n[r]]=e[o++];return l}function ur(e,t){return function(n,r,i){var o=t?t():{};if(r=Ir(r,i,3),ku(n))for(var a=-1,s=n.length;++a<s;){var u=n[a];e(o,u,r(u,a,n),n)}else js(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function lr(e){return po(function(t,n){var r=-1,i=null==t?0:n.length,o=i>2?n[i-2]:x,a=i>2?n[2]:x,s=i>1?n[i-1]:x;for("function"==typeof o?(o=ir(o,s,5),i-=2):(o="function"==typeof s?s:x,i-=o?1:0),a&&Qr(n[0],n[1],a)&&(o=3>i?x:o,i=1);++r<i;){var u=n[r];u&&e(t,u,o)}return t})}function cr(e,t){return function(n,r){var i=n?Ls(n):0;if(!Xr(i))return e(n,r);for(var o=t?i:-1,a=ai(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function dr(e){return function(t,n,r){for(var i=ai(t),o=r(t),a=o.length,s=e?a:-1;e?s--:++s<a;){var u=o[s];if(n(i[u],u,i)===!1)break}return t}}function fr(e,t){function n(){var i=this&&this!==Xt&&this instanceof n?r:e;return i.apply(t,arguments)}var r=hr(e);return n}function pr(e){return function(t){for(var n=-1,r=va(ra(t)),i=r.length,o="";++n<i;)o=e(o,r[n],n);return o}}function hr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4])}var n=Ns(e.prototype),r=e.apply(n,t);return Eo(r)?r:n}}function mr(e){function t(n,r,i){i&&Qr(n,r,i)&&(r=null);var o=jr(n,e,null,null,null,null,null,r);return o.placeholder=t.placeholder,o}return t}function gr(e,t){return function(n,r,i){if(i&&Qr(n,r,i)&&(r=null),r=Ir(r,i,3),1==r.length){n=oi(n);var o=an(n,r,e,t);if(!n.length||o!==t)return o}return kn(n,r,e,t)}}function vr(e,n){return function(r,i,o){if(i=Ir(i,o,3),ku(r)){var a=t(r,i,n);return a>-1?r[a]:x}return Dn(r,i,e)}}function yr(e){return function(n,r,i){return n&&n.length?(r=Ir(r,i,3),t(n,r,e)):-1}}function br(e){return function(t,n,r){return n=Ir(n,r,3),Dn(t,n,e,!0)}}function wr(e){return function(){for(var t,n=arguments.length,r=e?n:-1,i=0,o=Ma(n);e?r--:++r<n;){var a=o[i++]=arguments[r];if("function"!=typeof a)throw new Ba(L);!t&&K.prototype.thru&&"wrapper"==qr(a)&&(t=new K([]))}for(r=t?-1:n;++r<n;){a=o[r];var s=qr(a),u="wrapper"==s?Fs(a):null;t=u&&Jr(u[0])&&u[1]==(O|T|E|N)&&!u[4].length&&1==u[9]?t[qr(u[0])].apply(t,u[3]):1==a.length&&Jr(a)?t[s]():t.thru(a)}return function(){var e=arguments;if(t&&1==e.length&&ku(e[0]))return t.plant(e[0]).value();for(var r=0,i=n?o[r].apply(this,e):e[0];++r<n;)i=o[r].call(this,i);return i}}}function xr(e,t){return function(n,r,i){return"function"==typeof r&&i===x&&ku(n)?e(n,r):t(n,ir(r,i,3))}}function _r(e){return function(t,n,r){return("function"!=typeof n||r!==x)&&(n=ir(n,r,3)),e(t,n,$o)}}function Sr(e){return function(t,n,r){return("function"!=typeof n||r!==x)&&(n=ir(n,r,3)),e(t,n)}}function kr(e){return function(t,n,r){var i={};return n=Ir(n,r,3),On(t,function(t,r,o){var a=n(t,r,o);r=e?a:r,t=e?t:a,i[r]=t}),i}}function Cr(e){return function(t,n,r){return t=i(t),(e?t:"")+Ar(t,n,r)+(e?"":t)}}function Tr(e){var t=po(function(n,r){var i=m(r,t.placeholder);return jr(n,e,null,r,i)});return t}function Dr(e,t){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===x&&ku(n)?e(n,r,i,a):Yn(n,Ir(r,o,4),i,a,t)}}function Er(e,t,n,r,i,o,a,s,u,l){function c(){for(var b=arguments.length,w=b,_=Ma(b);w--;)_[w]=arguments[w];if(r&&(_=ar(_,r,i)),o&&(_=sr(_,o,a)),h||v){var C=c.placeholder,T=m(_,C);if(b-=T.length,l>b){var D=s?tn(s):null,O=gs(l-b,0),N=h?T:null,j=h?null:T,M=h?_:null,R=h?null:_;t|=h?E:A,t&=~(h?A:E),g||(t&=~(S|k));var P=[e,t,n,M,N,R,j,D,u,O],I=Er.apply(x,P);return Jr(e)&&Hs(I,P),I.placeholder=C,I}}var q=f?n:this,F=p?q[e]:e;return s&&(_=ni(_,s)),d&&u<_.length&&(_.length=u),this&&this!==Xt&&this instanceof c&&(F=y||hr(e)),F.apply(q,_)}var d=t&O,f=t&S,p=t&k,h=t&T,g=t&C,v=t&D,y=p?null:hr(e);return c}function Ar(e,t,n){var r=e.length;if(t=+t,r>=t||!hs(t))return"";var i=t-r;return n=null==n?" ":n+"",la(n,ts(i/n.length)).slice(0,i)}function Or(e,t,n,r){function i(){for(var t=-1,s=arguments.length,u=-1,l=r.length,c=Ma(s+l);++u<l;)c[u]=r[u];for(;s--;)c[u++]=arguments[++t];var d=this&&this!==Xt&&this instanceof i?a:e;return d.apply(o?n:this,c)}var o=t&S,a=hr(e);return i}function Nr(e){return function(t,n,r,i){var o=Ir(r);return null==r&&o===bn?nr(t,n,e):rr(t,n,o(r,i,1),e)}}function jr(e,t,n,r,i,o,a,s){var u=t&k;if(!u&&"function"!=typeof e)throw new Ba(L);var l=r?r.length:0;if(l||(t&=~(E|A),r=i=null),l-=i?i.length:0,t&A){var c=r,d=i;r=i=null}var f=u?null:Fs(e),p=[e,t,n,r,i,c,d,o,a,s];if(f&&(Kr(p,f),t=p[1],s=p[9]),p[9]=null==s?u?0:e.length:gs(s-l,0)||0,t==S)var h=fr(p[0],p[2]);else h=t!=E&&t!=(S|E)||p[4].length?Er.apply(x,p):Or.apply(x,p);var m=f?Is:Hs;return m(h,p)}function Mr(e,t,n,r,i,o,a){var s=-1,u=e.length,l=t.length;if(u!=l&&!(i&&l>u))return!1;for(;++s<u;){var c=e[s],d=t[s],f=r?r(i?d:c,i?c:d,s):x;if(f!==x){if(f)continue;return!1}if(i){if(!dn(t,function(e){return c===e||n(c,e,r,i,o,a)}))return!1}else if(c!==d&&!n(c,d,r,i,o,a))return!1}return!0}function Rr(e,t,n){switch(n){case U:case W:return+e==+t;case V:return e.name==t.name&&e.message==t.message;case Q:return e!=+e?t!=+t:e==+t;case J:case Z:return e==t+""}return!1}function Pr(e,t,n,r,i,o,a){var s=Iu(e),u=s.length,l=Iu(t),c=l.length;if(u!=c&&!i)return!1;for(var d=u;d--;){var f=s[d];if(!(i?f in t:Qa.call(t,f)))return!1}for(var p=i;++d<u;){f=s[d];var h=e[f],m=t[f],g=r?r(i?m:h,i?h:m,f):x;if(!(g===x?n(h,m,r,i,o,a):g))return!1;p||(p="constructor"==f)}if(!p){var v=e.constructor,y=t.constructor;if(v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function Ir(e,t,n){var r=$.callback||ya;return r=r===ya?bn:r,n?r(e,t,n):r}function qr(e){for(var t=e.name,n=As[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Fr(e,t,r){var i=$.indexOf||bi;return i=i===bi?n:i,e?i(e,t,r):i}function Lr(e){for(var t=Qo(e),n=t.length;n--;)t[n][2]=Zr(t[n][1]);return t}function Hr(e,t){var n=null==e?x:e[t];return No(n)?n:x}function zr(e,t,n){for(var r=-1,i=n?n.length:0;++r<i;){var o=n[r],a=o.size;
switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=vs(t,e+a);break;case"takeRight":e=gs(e,t-a)}}return{start:e,end:t}}function Br(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Qa.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Ur(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=La),new t}function Wr(e,t,n){var r=e.constructor;switch(t){case et:return or(e);case U:case W:return new r(+e);case tt:case nt:case rt:case it:case ot:case at:case st:case ut:case lt:var i=e.buffer;return new r(n?or(i):i,e.byteOffset,e.length);case Q:case Z:return new r(e);case J:var o=new r(e.source,Et.exec(e));o.lastIndex=e.lastIndex}return o}function Vr(e,t,n){null==e||Gr(t,e)||(t=si(t),e=1==t.length?e:Mn(e,$n(t,0,-1)),t=xi(t));var r=null==e?e:e[t];return null==r?x:r.apply(e,n)}function Yr(e){return null!=e&&Xr(Ls(e))}function $r(e,t){return e="number"==typeof e?e:parseFloat(e),t=null==t?Ds:t,e>-1&&e%1==0&&t>e}function Qr(e,t,n){if(!Eo(n))return!1;var r=typeof t;if("number"==r?Yr(n)&&$r(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function Gr(e,t){var n=typeof e;if("string"==n&&xt.test(e)||"number"==n)return!0;if(ku(e))return!1;var r=!wt.test(e);return r||null!=t&&e in ai(t)}function Jr(e){var t=qr(e);return!!t&&e===$[t]&&t in zt.prototype}function Xr(e){return"number"==typeof e&&e>-1&&e%1==0&&Ds>=e}function Zr(e){return e===e&&!Eo(e)}function Kr(e,t){var n=e[1],r=t[1],i=n|r,o=O>i,a=r==O&&n==T||r==O&&n==N&&e[7].length<=t[8]||r==(O|N)&&n==T;if(!o&&!a)return e;r&S&&(e[2]=t[2],i|=n&S?0:C);var s=t[3];if(s){var u=e[3];e[3]=u?ar(u,s,t[4]):tn(s),e[4]=u?m(e[3],H):tn(t[4])}return s=t[5],s&&(u=e[5],e[5]=u?sr(u,s,t[6]):tn(s),e[6]=u?m(e[5],H):tn(t[6])),s=t[7],s&&(e[7]=tn(s)),r&O&&(e[8]=null==e[8]?t[8]:vs(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function ei(e,t){e=ai(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}function ti(e,t){var n={};return An(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function ni(e,t){for(var n=e.length,r=vs(t.length,n),i=tn(e);r--;){var o=t[r];e[r]=$r(o,n)?i[o]:x}return e}function ri(e){{var t;$.support}if(!p(e)||Ja.call(e)!=G||!Qa.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return An(e,function(e,t){n=t}),n===x||Qa.call(e,n)}function ii(e){for(var t=$o(e),n=t.length,r=n&&e.length,i=!!r&&Xr(r)&&(ku(e)||xo(e)),o=-1,a=[];++o<n;){var s=t[o];(i&&$r(s,r)||Qa.call(e,s))&&a.push(s)}return a}function oi(e){return null==e?[]:Yr(e)?Eo(e)?e:La(e):Zo(e)}function ai(e){return Eo(e)?e:La(e)}function si(e){if(ku(e))return e;var t=[];return i(e).replace(_t,function(e,n,r,i){t.push(r?i.replace(Tt,"$1"):n||e)}),t}function ui(e){return e instanceof zt?e.clone():new K(e.__wrapped__,e.__chain__,tn(e.__actions__))}function li(e,t,n){t=(n?Qr(e,t,n):null==t)?1:gs(+t||1,1);for(var r=0,i=e?e.length:0,o=-1,a=Ma(ts(i/t));i>r;)a[++o]=$n(e,r,r+=t);return a}function ci(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i}function di(e,t,n){var r=e?e.length:0;return r?((n?Qr(e,t,n):null==t)&&(t=1),$n(e,0>t?0:t)):[]}function fi(e,t,n){var r=e?e.length:0;return r?((n?Qr(e,t,n):null==t)&&(t=1),t=r-(+t||0),$n(e,0,0>t?0:t)):[]}function pi(e,t,n){return e&&e.length?er(e,Ir(t,n,3),!0,!0):[]}function hi(e,t,n){return e&&e.length?er(e,Ir(t,n,3),!0):[]}function mi(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Qr(e,t,n)&&(n=0,r=i),Cn(e,t,n,r)):[]}function gi(e){return e?e[0]:x}function vi(e,t,n){var r=e?e.length:0;return n&&Qr(e,t,n)&&(t=!1),r?En(e,t):[]}function yi(e){var t=e?e.length:0;return t?En(e,!0):[]}function bi(e,t,r){var i=e?e.length:0;if(!i)return-1;if("number"==typeof r)r=0>r?gs(i+r,0):r;else if(r){var o=nr(e,t),a=e[o];return(t===t?t===a:a!==a)?o:-1}return n(e,t,r||0)}function wi(e){return fi(e,1)}function xi(e){var t=e?e.length:0;return t?e[t-1]:x}function _i(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?gs(r+n,0):vs(n||0,r-1))+1;else if(n){i=nr(e,t,!0)-1;var o=e[i];return(t===t?t===o:o!==o)?i:-1}if(t!==t)return f(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function Si(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=Fr(),i=e.length;++n<i;)for(var o=0,a=e[n];(o=r(t,a,o))>-1;)us.call(t,o,1);return t}function ki(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,o=[],a=e.length;for(t=Ir(t,n,3);++i<a;){var s=e[i];t(s,i,e)&&(r.push(s),o.push(i))}return Wn(e,o),r}function Ci(e){return di(e,1)}function Ti(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Qr(e,t,n)&&(t=0,n=r),$n(e,t,n)):[]}function Di(e,t,n){var r=e?e.length:0;return r?((n?Qr(e,t,n):null==t)&&(t=1),$n(e,0,0>t?0:t)):[]}function Ei(e,t,n){var r=e?e.length:0;return r?((n?Qr(e,t,n):null==t)&&(t=1),t=r-(+t||0),$n(e,0>t?0:t)):[]}function Ai(e,t,n){return e&&e.length?er(e,Ir(t,n,3),!1,!0):[]}function Oi(e,t,n){return e&&e.length?er(e,Ir(t,n,3)):[]}function Ni(e,t,r,i){var o=e?e.length:0;if(!o)return[];null!=t&&"boolean"!=typeof t&&(i=r,r=Qr(e,t,i)?null:t,t=!1);var a=Ir();return(null!=r||a!==bn)&&(r=a(r,i,3)),t&&Fr()==n?g(e,r):Zn(e,r)}function ji(e){if(!e||!e.length)return[];var t=-1,n=0;e=sn(e,function(e){return Yr(e)?(n=gs(e.length,n),!0):void 0});for(var r=Ma(n);++t<n;)r[t]=un(e,Bn(t));return r}function Mi(e,t,n){var r=e?e.length:0;if(!r)return[];var i=ji(e);return null==t?i:(t=ir(t,n,4),un(i,function(e){return ln(e,t,x,!0)}))}function Ri(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Yr(n))var r=r?_n(r,n).concat(_n(n,r)):n}return r?Zn(r):[]}function Pi(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||ku(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function Ii(e){var t=$(e);return t.__chain__=!0,t}function qi(e,t,n){return t.call(n,e),e}function Fi(e,t,n){return t.call(n,e)}function Li(){return Ii(this)}function Hi(){return new K(this.value(),this.__chain__)}function zi(e){for(var t,n=this;n instanceof X;){var r=ui(n);t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function Bi(){var e=this.__wrapped__;return e instanceof zt?(this.__actions__.length&&(e=new zt(this)),new K(e.reverse(),this.__chain__)):this.thru(function(e){return e.reverse()})}function Ui(){return this.value()+""}function Wi(){return tr(this.__wrapped__,this.__actions__)}function Vi(e,t,n){var r=ku(e)?on:Sn;return n&&Qr(e,t,n)&&(t=null),("function"!=typeof t||n!==x)&&(t=Ir(t,n,3)),r(e,t)}function Yi(e,t,n){var r=ku(e)?sn:Tn;return t=Ir(t,n,3),r(e,t)}function $i(e,t){return eu(e,Fn(t))}function Qi(e,t,n,r){var i=e?Ls(e):0;return Xr(i)||(e=Zo(e),i=e.length),i?(n="number"!=typeof n||r&&Qr(t,n,r)?0:0>n?gs(i+n,0):n||0,"string"==typeof e||!ku(e)&&Po(e)?i>n&&e.indexOf(t,n)>-1:Fr(e,t,n)>-1):!1}function Gi(e,t,n){var r=ku(e)?un:qn;return t=Ir(t,n,3),r(e,t)}function Ji(e,t){return Gi(e,Ta(t))}function Xi(e,t,n){var r=ku(e)?sn:Tn;return t=Ir(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function Zi(e,t,n){if(n?Qr(e,t,n):null==t){e=oi(e);var r=e.length;return r>0?e[Vn(0,r-1)]:x}var i=Ki(e);return i.length=vs(0>t?0:+t||0,i.length),i}function Ki(e){e=oi(e);for(var t=-1,n=e.length,r=Ma(n);++t<n;){var i=Vn(0,t);t!=i&&(r[t]=r[i]),r[i]=e[t]}return r}function eo(e){var t=e?Ls(e):0;return Xr(t)?t:Iu(e).length}function to(e,t,n){var r=ku(e)?dn:Qn;return n&&Qr(e,t,n)&&(t=null),("function"!=typeof t||n!==x)&&(t=Ir(t,n,3)),r(e,t)}function no(e,t,n){if(null==e)return[];n&&Qr(e,t,n)&&(t=null);var r=-1;t=Ir(t,n,3);var i=qn(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return Gn(i,s)}function ro(e,t,n,r){return null==e?[]:(r&&Qr(t,n,r)&&(n=null),ku(t)||(t=null==t?[]:[t]),ku(n)||(n=null==n?[]:[n]),Jn(e,t,n))}function io(e,t){return Yi(e,Fn(t))}function oo(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Ba(L);var n=e;e=t,t=n}return e=hs(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function ao(e,t,n){return n&&Qr(e,t,n)&&(t=null),t=e&&null==t?e.length:gs(+t||0,0),jr(e,O,null,null,null,null,t)}function so(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Ba(L);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}}function uo(e,t,n){function r(){f&&ns(f),u&&ns(u),u=f=p=x}function i(){var n=t-(du()-c);if(0>=n||n>t){u&&ns(u);var r=p;u=f=p=x,r&&(h=du(),l=e.apply(d,s),f||u||(s=d=null))}else f=ss(i,n)}function o(){f&&ns(f),u=f=p=x,(g||m!==t)&&(h=du(),l=e.apply(d,s),f||u||(s=d=null))}function a(){if(s=arguments,c=du(),d=this,p=g&&(f||!v),m===!1)var n=v&&!f;else{u||v||(h=c);var r=m-(c-h),a=0>=r||r>m;a?(u&&(u=ns(u)),h=c,l=e.apply(d,s)):u||(u=ss(o,r))}return a&&f?f=ns(f):f||t===m||(f=ss(i,t)),n&&(a=!0,l=e.apply(d,s)),!a||f||u||(s=d=null),l}var s,u,l,c,d,f,p,h=0,m=!1,g=!0;if("function"!=typeof e)throw new Ba(L);if(t=0>t?0:+t||0,n===!0){var v=!0;g=!1}else Eo(n)&&(v=n.leading,m="maxWait"in n&&gs(+n.maxWait||0,t),g="trailing"in n?n.trailing:g);return a.cancel=r,a}function lo(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Ba(L);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new lo.Cache,n}function co(e){if("function"!=typeof e)throw new Ba(L);return function(){return!e.apply(this,arguments)}}function fo(e){return so(2,e)}function po(e,t){if("function"!=typeof e)throw new Ba(L);return t=gs(t===x?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=gs(n.length-t,0),o=Ma(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=Ma(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=o,e.apply(this,a)}}function ho(e){if("function"!=typeof e)throw new Ba(L);return function(t){return e.apply(this,t)}}function mo(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ba(L);return n===!1?r=!1:Eo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ht.leading=r,Ht.maxWait=+t,Ht.trailing=i,uo(e,t,Ht)}function go(e,t){return t=null==t?wa:t,jr(t,E,null,[e],[])}function vo(e,t,n,r){return t&&"boolean"!=typeof t&&Qr(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?wn(e,t,ir(n,r,1)):wn(e,t)}function yo(e,t,n){return"function"==typeof t?wn(e,!0,ir(t,n,1)):wn(e,!0)}function bo(e,t){return e>t}function wo(e,t){return e>=t}function xo(e){return p(e)&&Yr(e)&&Ja.call(e)==z}function _o(e){return e===!0||e===!1||p(e)&&Ja.call(e)==U}function So(e){return p(e)&&Ja.call(e)==W}function ko(e){return!!e&&1===e.nodeType&&p(e)&&Ja.call(e).indexOf("Element")>-1}function Co(e){return null==e?!0:Yr(e)&&(ku(e)||Po(e)||xo(e)||p(e)&&Tu(e.splice))?!e.length:!Iu(e).length}function To(e,t,n,r){n="function"==typeof n?ir(n,r,3):x;var i=n?n(e,t):x;return i===x?Rn(e,t,n):!!i}function Do(e){return p(e)&&"string"==typeof e.message&&Ja.call(e)==V}function Eo(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ao(e,t,n,r){return n="function"==typeof n?ir(n,r,3):x,In(e,Lr(t),n)}function Oo(e){return Mo(e)&&e!=+e}function No(e){return null==e?!1:Ja.call(e)==Y?Za.test($a.call(e)):p(e)&&Ot.test(e)}function jo(e){return null===e}function Mo(e){return"number"==typeof e||p(e)&&Ja.call(e)==Q}function Ro(e){return p(e)&&Ja.call(e)==J}function Po(e){return"string"==typeof e||p(e)&&Ja.call(e)==Z}function Io(e){return p(e)&&Xr(e.length)&&!!Ft[Ja.call(e)]}function qo(e){return e===x}function Fo(e,t){return t>e}function Lo(e,t){return t>=e}function Ho(e){var t=e?Ls(e):0;return Xr(t)?t?tn(e):[]:Zo(e)}function zo(e){return yn(e,$o(e))}function Bo(e,t,n){var r=Ns(e);return n&&Qr(e,t,n)&&(t=null),t?gn(r,t):r}function Uo(e){return jn(e,$o(e))}function Wo(e,t,n){var r=null==e?x:Mn(e,si(t),t+"");return r===x?n:r}function Vo(e,t){if(null==e)return!1;var n=Qa.call(e,t);if(!n&&!Gr(t)){if(t=si(t),e=1==t.length?e:Mn(e,$n(t,0,-1)),null==e)return!1;t=xi(t),n=Qa.call(e,t)}return n||Xr(e.length)&&$r(t,e.length)&&(ku(e)||xo(e))}function Yo(e,t,n){n&&Qr(e,t,n)&&(t=null);for(var r=-1,i=Iu(e),o=i.length,a={};++r<o;){var s=i[r],u=e[s];t?Qa.call(a,u)?a[u].push(s):a[u]=[s]:a[u]=s}return a}function $o(e){if(null==e)return[];Eo(e)||(e=La(e));var t=e.length;t=t&&Xr(t)&&(ku(e)||xo(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,o=Ma(t),a=t>0;++r<t;)o[r]=r+"";for(var s in e)a&&$r(s,t)||"constructor"==s&&(i||!Qa.call(e,s))||o.push(s);return o}function Qo(e){e=ai(e);for(var t=-1,n=Iu(e),r=n.length,i=Ma(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function Go(e,t,n){var r=null==e?x:e[t];return r===x&&(null==e||Gr(t,e)||(t=si(t),e=1==t.length?e:Mn(e,$n(t,0,-1)),r=null==e?x:e[xi(t)]),r=r===x?n:r),Tu(r)?r.call(e):r}function Jo(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||Gr(t,e)?[r]:si(t);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var u=t[i];Eo(s)&&(i==a?s[u]=n:null==s[u]&&(s[u]=$r(t[i+1])?[]:{})),s=s[u]}return e}function Xo(e,t,n,r){var i=ku(e)||Io(e);if(t=Ir(t,r,4),null==n)if(i||Eo(e)){var o=e.constructor;n=i?ku(e)?new o:[]:Ns(Tu(o)?o.prototype:null)}else n={};return(i?nn:On)(e,function(e,r,i){return t(n,e,r,i)}),n}function Zo(e){return Kn(e,Iu(e))}function Ko(e){return Kn(e,$o(e))}function ea(e,t,n){return t=+t||0,"undefined"==typeof n?(n=t,t=0):n=+n||0,e>=vs(t,n)&&e<gs(t,n)}function ta(e,t,n){n&&Qr(e,t,n)&&(t=n=null);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=xs();return vs(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t)}return Vn(e,t)}function na(e){return e=i(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function ra(e){return e=i(e),e&&e.replace(Nt,l).replace(Ct,"")}function ia(e,t,n){e=i(e),t+="";var r=e.length;return n=n===x?r:vs(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function oa(e){return e=i(e),e&&gt.test(e)?e.replace(ht,c):e}function aa(e){return e=i(e),e&&kt.test(e)?e.replace(St,"\\$&"):e}function sa(e,t,n){e=i(e),t=+t;var r=e.length;if(r>=t||!hs(t))return e;var o=(t-r)/2,a=rs(o),s=ts(o);return n=Ar("",s,n),n.slice(0,a)+e+n}function ua(e,t,n){return n&&Qr(e,t,n)&&(t=0),ws(e,t)}function la(e,t){var n="";if(e=i(e),t=+t,1>t||!e||!hs(t))return n;do t%2&&(n+=e),t=rs(t/2),e+=e;while(t);return n}function ca(e,t,n){return e=i(e),n=null==n?0:vs(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function da(e,t,n){var r=$.templateSettings;n&&Qr(e,t,n)&&(t=n=null),e=i(e),t=mn(gn({},n||t),r,hn);var o,a,s=mn(gn({},t.imports),r.imports,hn),u=Iu(s),l=Kn(s,u),c=0,f=t.interpolate||jt,p="__p += '",h=Ha((t.escape||jt).source+"|"+f.source+"|"+(f===bt?Dt:jt).source+"|"+(t.evaluate||jt).source+"|$","g"),m="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++qt+"]")+"\n";e.replace(h,function(t,n,r,i,s,u){return r||(r=i),p+=e.slice(c,u).replace(Mt,d),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t}),p+="';\n";var g=t.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(ct,""):p).replace(dt,"$1").replace(ft,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=Qu(function(){return Ia(u,m+"return "+p).apply(x,l)});if(v.source=p,Do(v))throw v;return v}function fa(e,t,n){var r=e;return(e=i(e))?(n?Qr(r,t,n):null==t)?e.slice(v(e),y(e)+1):(t+="",e.slice(o(e,t),a(e,t)+1)):e}function pa(e,t,n){var r=e;return e=i(e),e?e.slice((n?Qr(r,t,n):null==t)?v(e):o(e,t+"")):e}function ha(e,t,n){var r=e;return e=i(e),e?(n?Qr(r,t,n):null==t)?e.slice(0,y(e)+1):e.slice(0,a(e,t+"")+1):e}function ma(e,t,n){n&&Qr(e,t,n)&&(t=null);var r=j,o=M;if(null!=t)if(Eo(t)){var a="separator"in t?t.separator:a;r="length"in t?+t.length||0:r,o="omission"in t?i(t.omission):o}else r=+t||0;if(e=i(e),r>=e.length)return e;var s=r-o.length;if(1>s)return o;var u=e.slice(0,s);if(null==a)return u+o;if(Ro(a)){if(e.slice(s).search(a)){var l,c,d=e.slice(0,s);for(a.global||(a=Ha(a.source,(Et.exec(a)||"")+"g")),a.lastIndex=0;l=a.exec(d);)c=l.index;u=u.slice(0,null==c?s:c)}}else if(e.indexOf(a,s)!=s){var f=u.lastIndexOf(a);f>-1&&(u=u.slice(0,f))}return u+o}function ga(e){return e=i(e),e&&mt.test(e)?e.replace(pt,b):e}function va(e,t,n){return n&&Qr(e,t,n)&&(t=null),e=i(e),e.match(t||Rt)||[]}function ya(e,t,n){return n&&Qr(e,t,n)&&(t=null),p(e)?xa(e):bn(e,t)}function ba(e){return function(){return e}}function wa(e){return e}function xa(e){return Fn(wn(e,!0))}function _a(e,t){return Ln(e,wn(t,!0))}function Sa(e,t,n){if(null==n){var r=Eo(t),i=r?Iu(t):null,o=i&&i.length?jn(t,i):null;(o?o.length:r)||(o=!1,n=t,t=e,e=this)}o||(o=jn(t,Iu(t)));var a=!0,s=-1,u=Tu(e),l=o.length;n===!1?a=!1:Eo(n)&&"chain"in n&&(a=n.chain);for(;++s<l;){var c=o[s],d=t[c];e[c]=d,u&&(e.prototype[c]=function(t){return function(){var n=this.__chain__;if(a||n){var r=e(this.__wrapped__),i=r.__actions__=tn(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}var o=[this.value()];return os.apply(o,arguments),t.apply(e,o)}}(d))}return e}function ka(){return h._=Xa,this}function Ca(){}function Ta(e){return Gr(e)?Bn(e):Un(e)}function Da(e){return function(t){return Mn(e,si(t),t+"")}}function Ea(e,t,n){n&&Qr(e,t,n)&&(t=n=null),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=gs(ts((t-e)/(n||1)),0),o=Ma(i);++r<i;)o[r]=e,e+=n;return o}function Aa(e,t,n){if(e=rs(e),1>e||!hs(e))return[];var r=-1,i=Ma(vs(e,Ss));for(t=ir(t,n,1);++r<e;)Ss>r?i[r]=t(r):t(r);return i}function Oa(e){var t=++Ga;return i(e)+t}function Na(e,t){return(+e||0)+(+t||0)}function ja(e,t,n){n&&Qr(e,t,n)&&(t=null);var r=Ir(),i=null==t;return i&&r===bn||(i=!1,t=r(t,n,3)),i?fn(ku(e)?e:oi(e)):Xn(e,t)}h=h?Zt.defaults(Xt.Object(),h,Zt.pick(Xt,It)):Xt;var Ma=h.Array,Ra=h.Date,Pa=h.Error,Ia=h.Function,qa=h.Math,Fa=h.Number,La=h.Object,Ha=h.RegExp,za=h.String,Ba=h.TypeError,Ua=Ma.prototype,Wa=La.prototype,Va=za.prototype,Ya=(Ya=h.window)?Ya.document:null,$a=Ia.prototype.toString,Qa=Wa.hasOwnProperty,Ga=0,Ja=Wa.toString,Xa=h._,Za=Ha("^"+aa($a.call(Qa)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ka=Hr(h,"ArrayBuffer"),es=Hr(Ka&&new Ka(0),"slice"),ts=qa.ceil,ns=h.clearTimeout,rs=qa.floor,is=Hr(La,"getPrototypeOf"),os=Ua.push,as=Hr(h,"Set"),ss=h.setTimeout,us=Ua.splice,ls=Hr(h,"Uint8Array"),cs=Hr(h,"WeakMap"),ds=function(){try{var e=Hr(h,"Float64Array"),t=new e(new Ka(10),0,1)&&e}catch(n){}return t||null}(),fs=Hr(La,"create"),ps=Hr(Ma,"isArray"),hs=h.isFinite,ms=Hr(La,"keys"),gs=qa.max,vs=qa.min,ys=Hr(Ra,"now"),bs=Hr(Fa,"isFinite"),ws=h.parseInt,xs=qa.random,_s=Fa.POSITIVE_INFINITY,Ss=4294967295,ks=Ss-1,Cs=Ss>>>1,Ts=ds?ds.BYTES_PER_ELEMENT:0,Ds=9007199254740991,Es=cs&&new cs,As={},Os=$.support={};!function(e){var t=function(){this.x=e},n=[];t.prototype={valueOf:e,y:e};for(var r in new t)n.push(r);try{Os.dom=11===Ya.createDocumentFragment().nodeType}catch(i){Os.dom=!1}}(1,0),$.templateSettings={escape:vt,evaluate:yt,interpolate:bt,variable:"",imports:{_:$}};var Ns=function(){function e(){}return function(t){if(Eo(t)){e.prototype=t;var n=new e;e.prototype=null}return n||{}}}(),js=cr(On),Ms=cr(Nn,!0),Rs=dr(),Ps=dr(!0),Is=Es?function(e,t){return Es.set(e,t),e}:wa;es||(or=Ka&&ls?function(e){var t=e.byteLength,n=ds?rs(t/Ts):0,r=n*Ts,i=new Ka(t);if(n){var o=new ds(i,0,n);o.set(new ds(e,0,n))}return t!=r&&(o=new ls(i,r),o.set(new ls(e,r))),i}:ba(null));var qs=fs&&as?function(e){return new Jt(e)}:ba(null),Fs=Es?function(e){return Es.get(e)}:Ca,Ls=Bn("length"),Hs=function(){var e=0,t=0;return function(n,r){var i=du(),o=P-(i-t);if(t=i,o>0){if(++e>=R)return n}else e=0;return Is(n,r)}}(),zs=po(function(e,t){return Yr(e)?_n(e,En(t,!1,!0)):[]}),Bs=yr(),Us=yr(!0),Ws=po(function(e){for(var t=e.length,r=t,i=Ma(d),o=Fr(),a=o==n,s=[];r--;){var u=e[r]=Yr(u=e[r])?u:[];i[r]=a&&u.length>=120?qs(r&&u):null}var l=e[0],c=-1,d=l?l.length:0,f=i[0];e:for(;++c<d;)if(u=l[c],(f?Kt(f,u):o(s,u,0))<0){for(var r=t;--r;){var p=i[r];if((p?Kt(p,u):o(e[r],u,0))<0)continue e}f&&f.push(u),s.push(u)}return s}),Vs=po(function(t,n){n=En(n);var r=vn(t,n);return Wn(t,n.sort(e)),r}),Ys=Nr(),$s=Nr(!0),Qs=po(function(e){return Zn(En(e,!1,!0))}),Gs=po(function(e,t){return Yr(e)?_n(e,t):[]}),Js=po(ji),Xs=po(function(e){var t=e.length,n=t>2?e[t-2]:x,r=t>1?e[t-1]:x;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):x,r=x),e.length=t,Mi(e,n,r)}),Zs=po(function(e,t){return vn(e,En(t))}),Ks=ur(function(e,t,n){Qa.call(e,n)?++e[n]:e[n]=1}),eu=vr(js),tu=vr(Ms,!0),nu=xr(nn,js),ru=xr(rn,Ms),iu=ur(function(e,t,n){Qa.call(e,n)?e[n].push(t):e[n]=[t]}),ou=ur(function(e,t,n){e[n]=t}),au=po(function(e,t,n){var r=-1,i="function"==typeof t,o=Gr(t),a=Yr(e)?Ma(e.length):[];return js(e,function(e){var s=i?t:o&&null!=e?e[t]:null;a[++r]=s?s.apply(e,n):Vr(e,t,n)}),a}),su=ur(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),uu=Dr(ln,js),lu=Dr(cn,Ms),cu=po(function(e,t){if(null==e)return[];var n=t[2];return n&&Qr(t[0],t[1],n)&&(t.length=1),Jn(e,En(t),[])}),du=ys||function(){return(new Ra).getTime()},fu=po(function(e,t,n){var r=S;if(n.length){var i=m(n,fu.placeholder);r|=E}return jr(e,r,t,n,i)}),pu=po(function(e,t){t=t.length?En(t):Uo(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=jr(e[i],S,e)}return e}),hu=po(function(e,t,n){var r=S|k;if(n.length){var i=m(n,hu.placeholder);r|=E}return jr(t,r,e,n,i)}),mu=mr(T),gu=mr(D),vu=po(function(e,t){return xn(e,1,t)}),yu=po(function(e,t,n){return xn(e,t,n)}),bu=wr(),wu=wr(!0),xu=Tr(E),_u=Tr(A),Su=po(function(e,t){return jr(e,N,null,null,null,En(t))}),ku=ps||function(e){return p(e)&&Xr(e.length)&&Ja.call(e)==B};Os.dom||(ko=function(e){return!!e&&1===e.nodeType&&p(e)&&!Du(e)});var Cu=bs||function(e){return"number"==typeof e&&hs(e)},Tu=r(/x/)||ls&&!r(ls)?function(e){return Ja.call(e)==Y}:r,Du=is?function(e){if(!e||Ja.call(e)!=G)return!1;var t=Hr(e,"valueOf"),n=t&&(n=is(t))&&is(n);return n?e==n||is(e)==n:ri(e)}:ri,Eu=lr(function(e,t,n){return n?mn(e,t,n):gn(e,t)}),Au=po(function(e){var t=e[0];return null==t?t:(e.push(pn),Eu.apply(x,e))}),Ou=br(On),Nu=br(Nn),ju=_r(Rs),Mu=_r(Ps),Ru=Sr(On),Pu=Sr(Nn),Iu=ms?function(e){var t=null==e?null:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Yr(e)?ii(e):Eo(e)?ms(e):[]}:ii,qu=kr(!0),Fu=kr(),Lu=lr(Hn),Hu=po(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=un(En(t),za);return ei(e,_n($o(e),t))}var n=ir(t[0],t[1],3);return ti(e,function(e,t,r){return!n(e,t,r)})}),zu=po(function(e,t){return null==e?{}:"function"==typeof t[0]?ti(e,ir(t[0],t[1],3)):ei(e,En(t))}),Bu=pr(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Uu=pr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Wu=Cr(),Vu=Cr(!0);8!=ws(Pt+"08")&&(ua=function(e,t,n){return(n?Qr(e,t,n):null==t)?t=0:t&&(t=+t),e=fa(e),ws(e,t||(At.test(e)?16:10))});var Yu=pr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),$u=pr(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Qu=po(function(e,t){try{return e.apply(x,t)}catch(n){return Do(n)?n:new Pa(n)}}),Gu=po(function(e,t){return function(n){return Vr(n,e,t)}}),Ju=po(function(e,t){return function(n){return Vr(e,n,t)}}),Xu=gr(bo,-1/0),Zu=gr(Fo,1/0);return $.prototype=X.prototype,K.prototype=Ns(X.prototype),K.prototype.constructor=K,zt.prototype=Ns(X.prototype),zt.prototype.constructor=zt,Vt.prototype["delete"]=Yt,Vt.prototype.get=$t,Vt.prototype.has=Qt,Vt.prototype.set=Gt,Jt.prototype.push=en,lo.Cache=Vt,$.after=oo,$.ary=ao,$.assign=Eu,$.at=Zs,$.before=so,$.bind=fu,$.bindAll=pu,$.bindKey=hu,$.callback=ya,$.chain=Ii,$.chunk=li,$.compact=ci,$.constant=ba,$.countBy=Ks,$.create=Bo,$.curry=mu,$.curryRight=gu,$.debounce=uo,$.defaults=Au,$.defer=vu,$.delay=yu,$.difference=zs,$.drop=di,$.dropRight=fi,$.dropRightWhile=pi,$.dropWhile=hi,$.fill=mi,$.filter=Yi,$.flatten=vi,$.flattenDeep=yi,$.flow=bu,$.flowRight=wu,$.forEach=nu,$.forEachRight=ru,$.forIn=ju,$.forInRight=Mu,$.forOwn=Ru,$.forOwnRight=Pu,$.functions=Uo,$.groupBy=iu,$.indexBy=ou,$.initial=wi,$.intersection=Ws,$.invert=Yo,$.invoke=au,$.keys=Iu,$.keysIn=$o,$.map=Gi,$.mapKeys=qu,$.mapValues=Fu,$.matches=xa,$.matchesProperty=_a,$.memoize=lo,$.merge=Lu,$.method=Gu,$.methodOf=Ju,$.mixin=Sa,$.negate=co,$.omit=Hu,$.once=fo,$.pairs=Qo,$.partial=xu,$.partialRight=_u,$.partition=su,$.pick=zu,$.pluck=Ji,$.property=Ta,$.propertyOf=Da,$.pull=Si,$.pullAt=Vs,$.range=Ea,$.rearg=Su,$.reject=Xi,$.remove=ki,$.rest=Ci,$.restParam=po,$.set=Jo,$.shuffle=Ki,$.slice=Ti,$.sortBy=no,$.sortByAll=cu,$.sortByOrder=ro,$.spread=ho,$.take=Di,$.takeRight=Ei,$.takeRightWhile=Ai,$.takeWhile=Oi,$.tap=qi,$.throttle=mo,$.thru=Fi,$.times=Aa,$.toArray=Ho,$.toPlainObject=zo,$.transform=Xo,$.union=Qs,$.uniq=Ni,$.unzip=ji,$.unzipWith=Mi,$.values=Zo,$.valuesIn=Ko,$.where=io,$.without=Gs,$.wrap=go,$.xor=Ri,$.zip=Js,$.zipObject=Pi,$.zipWith=Xs,$.backflow=wu,$.collect=Gi,$.compose=wu,$.each=nu,$.eachRight=ru,$.extend=Eu,$.iteratee=ya,$.methods=Uo,$.object=Pi,$.select=Yi,$.tail=Ci,$.unique=Ni,Sa($,$),$.add=Na,$.attempt=Qu,$.camelCase=Bu,$.capitalize=na,$.clone=vo,$.cloneDeep=yo,$.deburr=ra,$.endsWith=ia,$.escape=oa,$.escapeRegExp=aa,$.every=Vi,$.find=eu,$.findIndex=Bs,$.findKey=Ou,$.findLast=tu,$.findLastIndex=Us,$.findLastKey=Nu,$.findWhere=$i,$.first=gi,$.get=Wo,$.gt=bo,$.gte=wo,$.has=Vo,$.identity=wa,$.includes=Qi,$.indexOf=bi,$.inRange=ea,$.isArguments=xo,$.isArray=ku,$.isBoolean=_o,$.isDate=So,$.isElement=ko,$.isEmpty=Co,$.isEqual=To,$.isError=Do,$.isFinite=Cu,$.isFunction=Tu,$.isMatch=Ao,$.isNaN=Oo,$.isNative=No,$.isNull=jo,$.isNumber=Mo,$.isObject=Eo,$.isPlainObject=Du,$.isRegExp=Ro,$.isString=Po,$.isTypedArray=Io,$.isUndefined=qo,$.kebabCase=Uu,$.last=xi,$.lastIndexOf=_i,$.lt=Fo,$.lte=Lo,$.max=Xu,$.min=Zu,$.noConflict=ka,$.noop=Ca,$.now=du,$.pad=sa,$.padLeft=Wu,$.padRight=Vu,$.parseInt=ua,$.random=ta,$.reduce=uu,$.reduceRight=lu,$.repeat=la,$.result=Go,$.runInContext=w,$.size=eo,$.snakeCase=Yu,$.some=to,$.sortedIndex=Ys,$.sortedLastIndex=$s,$.startCase=$u,$.startsWith=ca,$.sum=ja,$.template=da,$.trim=fa,$.trimLeft=pa,$.trimRight=ha,$.trunc=ma,$.unescape=ga,$.uniqueId=Oa,$.words=va,$.all=Vi,$.any=to,$.contains=Qi,$.eq=To,$.detect=eu,$.foldl=uu,$.foldr=lu,$.head=gi,$.include=Qi,$.inject=uu,Sa($,function(){var e={};return On($,function(t,n){$.prototype[n]||(e[n]=t)}),e}(),!1),$.sample=Zi,$.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return Zi(t,e)}):Zi(this.value())},$.VERSION=_,nn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){$[e].placeholder=$}),nn(["dropWhile","filter","map","takeWhile"],function(e,t){var n=t!=F,r=t==I;zt.prototype[e]=function(e,i){var o=this.__filtered__,a=o&&r?new zt(this):this.clone(),s=a.__iteratees__||(a.__iteratees__=[]);return s.push({done:!1,count:0,index:0,iteratee:Ir(e,i,1),limit:-1,type:t}),a.__filtered__=o||n,a}}),nn(["drop","take"],function(e,t){var n=e+"While";zt.prototype[e]=function(n){var r=this.__filtered__,i=r&&!t?this.dropWhile():this.clone();if(n=null==n?1:gs(rs(n)||0,0),r)t?i.__takeCount__=vs(i.__takeCount__,n):xi(i.__iteratees__).limit=n;else{var o=i.__views__||(i.__views__=[]);o.push({size:n,type:e+(i.__dir__<0?"Right":"")})}return i},zt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()},zt.prototype[e+"RightWhile"]=function(e,t){return this.reverse()[n](e,t).reverse()}}),nn(["first","last"],function(e,t){var n="take"+(t?"Right":"");zt.prototype[e]=function(){return this[n](1).value()[0]}}),nn(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");zt.prototype[e]=function(){return this[n](1)}}),nn(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Fn:Ta;zt.prototype[e]=function(e){return this[n](r(e))}}),zt.prototype.compact=function(){return this.filter(wa)},zt.prototype.reject=function(e,t){return e=Ir(e,t,1),this.filter(function(t){return!e(t)})},zt.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return 0>e?n=this.takeRight(-e):e&&(n=this.drop(e)),t!==x&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n},zt.prototype.toArray=function(){return this.drop(0)},On(zt.prototype,function(e,t){var n=$[t];if(n){var r=/^(?:filter|map|reject)|While$/.test(t),i=/^(?:first|last)$/.test(t);$.prototype[t]=function(){var t=arguments,o=this.__chain__,a=this.__wrapped__,s=!!this.__actions__.length,u=a instanceof zt,l=t[0],c=u||ku(a);c&&r&&"function"==typeof l&&1!=l.length&&(u=c=!1);var d=u&&!s;if(i&&!o)return d?e.call(a):n.call($,this.value());var f=function(e){var r=[e];return os.apply(r,t),n.apply($,r)};if(c){var p=d?a:new zt(this),h=e.apply(p,t);if(!i&&(s||h.__actions__)){var m=h.__actions__||(h.__actions__=[]);m.push({func:Fi,args:[f],thisArg:$})}return new K(h,o)}return this.thru(f)}}}),nn(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?Va:Ua)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(e);$.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),On(zt.prototype,function(e,t){var n=$[t];if(n){var r=n.name,i=As[r]||(As[r]=[]);i.push({name:t,func:n})}}),As[Er(null,k).name]=[{name:"wrapper",func:null}],zt.prototype.clone=Bt,zt.prototype.reverse=Ut,zt.prototype.value=Wt,$.prototype.chain=Li,$.prototype.commit=Hi,$.prototype.plant=zi,$.prototype.reverse=Bi,$.prototype.toString=Ui,$.prototype.run=$.prototype.toJSON=$.prototype.valueOf=$.prototype.value=Wi,$.prototype.collect=$.prototype.map,$.prototype.head=$.prototype.first,$.prototype.select=$.prototype.filter,$.prototype.tail=$.prototype.rest,$}var x,_="3.9.0",S=1,k=2,C=4,T=8,D=16,E=32,A=64,O=128,N=256,j=30,M="...",R=150,P=16,I=0,q=1,F=2,L="Expected a function",H="__lodash_placeholder__",z="[object Arguments]",B="[object Array]",U="[object Boolean]",W="[object Date]",V="[object Error]",Y="[object Function]",$="[object Map]",Q="[object Number]",G="[object Object]",J="[object RegExp]",X="[object Set]",Z="[object String]",K="[object WeakMap]",et="[object ArrayBuffer]",tt="[object Float32Array]",nt="[object Float64Array]",rt="[object Int8Array]",it="[object Int16Array]",ot="[object Int32Array]",at="[object Uint8Array]",st="[object Uint8ClampedArray]",ut="[object Uint16Array]",lt="[object Uint32Array]",ct=/\b__p \+= '';/g,dt=/\b(__p \+=) '' \+/g,ft=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pt=/&(?:amp|lt|gt|quot|#39|#96);/g,ht=/[&<>"'`]/g,mt=RegExp(pt.source),gt=RegExp(ht.source),vt=/<%-([\s\S]+?)%>/g,yt=/<%([\s\S]+?)%>/g,bt=/<%=([\s\S]+?)%>/g,wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,xt=/^\w*$/,_t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,St=/[.*+?^${}()|[\]\/\\]/g,kt=RegExp(St.source),Ct=/[\u0300-\u036f\ufe20-\ufe23]/g,Tt=/\\(\\)?/g,Dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Et=/\w*$/,At=/^0[xX]/,Ot=/^\[object .+?Constructor\]$/,Nt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,jt=/($^)/,Mt=/['\n\r\u2028\u2029\\]/g,Rt=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Pt=" 	\f\n\r\u2028\u2029",It=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],qt=-1,Ft={};Ft[tt]=Ft[nt]=Ft[rt]=Ft[it]=Ft[ot]=Ft[at]=Ft[st]=Ft[ut]=Ft[lt]=!0,Ft[z]=Ft[B]=Ft[et]=Ft[U]=Ft[W]=Ft[V]=Ft[Y]=Ft[$]=Ft[Q]=Ft[G]=Ft[J]=Ft[X]=Ft[Z]=Ft[K]=!1;var Lt={};Lt[z]=Lt[B]=Lt[et]=Lt[U]=Lt[W]=Lt[tt]=Lt[nt]=Lt[rt]=Lt[it]=Lt[ot]=Lt[Q]=Lt[G]=Lt[J]=Lt[Z]=Lt[at]=Lt[st]=Lt[ut]=Lt[lt]=!0,Lt[V]=Lt[Y]=Lt[$]=Lt[X]=Lt[K]=!1;var Ht={leading:!1,maxWait:0,trailing:!1},zt={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Bt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ut={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Wt={"function":!0,object:!0},Vt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yt=Wt[typeof exports]&&exports&&!exports.nodeType&&exports,$t=Wt[typeof module]&&module&&!module.nodeType&&module,Qt=Yt&&$t&&"object"==typeof global&&global&&global.Object&&global,Gt=Wt[typeof self]&&self&&self.Object&&self,Jt=Wt[typeof window]&&window&&window.Object&&window,Xt=Qt||Jt!==(this&&this.window)&&Jt||Gt||this,Zt=w();
"function"==typeof define&&"object"==typeof define.amd&&define.amd&&define("lodash",[],function(){return Zt})}.call(this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("moment",t):e.moment=t()}(this,function(){function e(){return Zr.apply(null,arguments)}function t(e){Zr=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function i(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function s(e,t,n,r){return Rt(e,t,n,r,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(e){return null==e._pf&&(e._pf=u()),e._pf}function c(e){if(null==e._isValid){var t=l(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=s(0/0);return null!=e?a(l(t),e):l(t).userInvalidated=!0,t}function f(e){return void 0===e}function p(e,t){var n,r,i;if(f(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),f(t._i)||(e._i=t._i),f(t._f)||(e._f=t._f),f(t._l)||(e._l=t._l),f(t._strict)||(e._strict=t._strict),f(t._tzm)||(e._tzm=t._tzm),f(t._isUTC)||(e._isUTC=t._isUTC),f(t._offset)||(e._offset=t._offset),f(t._pf)||(e._pf=l(t)),f(t._locale)||(e._locale=t._locale),Kr.length>0)for(n in Kr)r=Kr[n],i=t[r],f(i)||(e[r]=i);return e}function h(t){p(this,t),this._d=new Date(null!=t._d?t._d.getTime():0/0),ei===!1&&(ei=!0,e.updateOffset(this),ei=!1)}function m(e){return e instanceof h||null!=e&&null!=e._isAMomentObject}function g(e){return 0>e?Math.ceil(e):Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=g(t)),n}function y(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&v(e[r])!==v(t[r]))&&a++;return a+o}function b(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function w(e,t){var n=!0;return a(function(){return n&&(b(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function x(e,t){ti[e]||(b(t),ti[e]=!0)}function _(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function S(e){return"[object Object]"===Object.prototype.toString.call(e)}function k(e){var t,n;for(n in e)t=e[n],_(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function C(e,t){var n,r=a({},e);for(n in t)o(t,n)&&(S(e[n])&&S(t[n])?(r[n]={},a(r[n],e[n]),a(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);return r}function T(e){null!=e&&this.set(e)}function D(e){return e?e.toLowerCase().replace("_","-"):e}function E(e){for(var t,n,r,i,o=0;o<e.length;){for(i=D(e[o]).split("-"),t=i.length,n=D(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=A(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&y(i,n,!0)>=t-1)break;t--}o++}return null}function A(e){var t=null;if(!ri[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=ni._abbr,require("./locale/"+e),O(t)}catch(n){}return ri[e]}function O(e,t){var n;return e&&(n=f(t)?M(e):N(e,t),n&&(ni=n)),ni._abbr}function N(e,t){return null!==t?(t.abbr=e,null!=ri[e]?(x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),t=C(ri[e]._config,t)):null!=t.parentLocale&&(null!=ri[t.parentLocale]?t=C(ri[t.parentLocale]._config,t):x("parentLocaleUndefined","specified parentLocale is not defined yet")),ri[e]=new T(t),O(e),ri[e]):(delete ri[e],null)}function j(e,t){if(null!=t){var n;null!=ri[e]&&(t=C(ri[e]._config,t)),n=new T(t),n.parentLocale=ri[e],ri[e]=n,O(e)}else null!=ri[e]&&(null!=ri[e].parentLocale?ri[e]=ri[e].parentLocale:null!=ri[e]&&delete ri[e]);return ri[e]}function M(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ni;if(!n(e)){if(t=A(e))return t;e=[e]}return E(e)}function R(){return Object.keys(ri)}function P(e,t){var n=e.toLowerCase();ii[n]=ii[n+"s"]=ii[t]=e}function I(e){return"string"==typeof e?ii[e]||ii[e.toLowerCase()]:void 0}function q(e){var t,n,r={};for(n in e)o(e,n)&&(t=I(n),t&&(r[t]=e[n]));return r}function F(t,n){return function(r){return null!=r?(H(this,t,r),e.updateOffset(this,n),this):L(this,t)}}function L(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():0/0}function H(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function z(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=I(e),_(this[e]))return this[e](t);return this}function B(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function U(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(ui[e]=i),t&&(ui[t[0]]=function(){return B(i.apply(this,arguments),t[1],t[2])}),n&&(ui[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function W(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function V(e){var t,n,r=e.match(oi);for(t=0,n=r.length;n>t;t++)r[t]=ui[r[t]]?ui[r[t]]:W(r[t]);return function(i){var o="";for(t=0;n>t;t++)o+=r[t]instanceof Function?r[t].call(i,e):r[t];return o}}function Y(e,t){return e.isValid()?(t=$(t,e.localeData()),si[t]=si[t]||V(t),si[t](e)):e.localeData().invalidDate()}function $(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(ai.lastIndex=0;r>=0&&ai.test(e);)e=e.replace(ai,n),ai.lastIndex=0,r-=1;return e}function Q(e,t,n){Ti[e]=_(t)?t:function(e){return e&&n?n:t}}function G(e,t){return o(Ti,e)?Ti[e](t._strict,t._locale):new RegExp(J(e))}function J(e){return X(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function X(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)Di[e[n]]=r}function K(e,t){Z(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function et(e,t,n){null!=t&&o(Di,e)&&Di[e](t,n._a,n,e)}function tt(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function nt(e,t){return n(this._months)?this._months[e.month()]:this._months[qi.test(t)?"format":"standalone"][e.month()]}function rt(e,t){return n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[qi.test(t)?"format":"standalone"][e.month()]}function it(e,t,n){var r,i,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=s([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ot(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=v(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return n=Math.min(e.date(),tt(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function at(t){return null!=t?(ot(this,t),e.updateOffset(this,!0),this):L(this,"Month")}function st(){return tt(this.year(),this.month())}function ut(e){return this._monthsParseExact?(o(this,"_monthsRegex")||ct.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}function lt(e){return this._monthsParseExact?(o(this,"_monthsRegex")||ct.call(this),e?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}function ct(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;12>t;t++)n=s([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;12>t;t++)r[t]=X(r[t]),i[t]=X(i[t]),o[t]=X(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")$","i")}function dt(e){var t,n=e._a;return n&&-2===l(e).overflow&&(t=n[Ai]<0||n[Ai]>11?Ai:n[Oi]<1||n[Oi]>tt(n[Ei],n[Ai])?Oi:n[Ni]<0||n[Ni]>24||24===n[Ni]&&(0!==n[ji]||0!==n[Mi]||0!==n[Ri])?Ni:n[ji]<0||n[ji]>59?ji:n[Mi]<0||n[Mi]>59?Mi:n[Ri]<0||n[Ri]>999?Ri:-1,l(e)._overflowDayOfYear&&(Ei>t||t>Oi)&&(t=Oi),l(e)._overflowWeeks&&-1===t&&(t=Pi),l(e)._overflowWeekday&&-1===t&&(t=Ii),l(e).overflow=t),e}function ft(e){var t,n,r,i,o,a,s=e._i,u=Bi.exec(s)||Ui.exec(s);if(u){for(l(e).iso=!0,t=0,n=Vi.length;n>t;t++)if(Vi[t][1].exec(u[1])){i=Vi[t][0],r=Vi[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=Yi.length;n>t;t++)if(Yi[t][1].exec(u[3])){o=(u[2]||" ")+Yi[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!Wi.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),Dt(e)}else e._isValid=!1}function pt(t){var n=$i.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(ft(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function ht(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return 100>e&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function mt(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function gt(e){return vt(e)?366:365}function vt(e){return e%4===0&&e%100!==0||e%400===0}function yt(){return vt(this.year())}function bt(e,t,n){var r=7+t-n,i=(7+mt(e,0,r).getUTCDay()-t)%7;return-i+r-1}function wt(e,t,n,r,i){var o,a,s=(7+n-r)%7,u=bt(e,r,i),l=1+7*(t-1)+s+u;return 0>=l?(o=e-1,a=gt(o)+l):l>gt(e)?(o=e+1,a=l-gt(e)):(o=e,a=l),{year:o,dayOfYear:a}}function xt(e,t,n){var r,i,o=bt(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return 1>a?(i=e.year()-1,r=a+_t(i,t,n)):a>_t(e.year(),t,n)?(r=a-_t(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function _t(e,t,n){var r=bt(e,t,n),i=bt(e+1,t,n);return(gt(e)-r+i)/7}function St(e,t,n){return null!=e?e:null!=t?t:n}function kt(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function Ct(e){var t,n,r,i,o=[];if(!e._d){for(r=kt(e),e._w&&null==e._a[Oi]&&null==e._a[Ai]&&Tt(e),e._dayOfYear&&(i=St(e._a[Ei],r[Ei]),e._dayOfYear>gt(i)&&(l(e)._overflowDayOfYear=!0),n=mt(i,0,e._dayOfYear),e._a[Ai]=n.getUTCMonth(),e._a[Oi]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ni]&&0===e._a[ji]&&0===e._a[Mi]&&0===e._a[Ri]&&(e._nextDay=!0,e._a[Ni]=0),e._d=(e._useUTC?mt:ht).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ni]=24)}}function Tt(e){var t,n,r,i,o,a,s,u;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=St(t.GG,e._a[Ei],xt(Pt(),1,4).year),r=St(t.W,1),i=St(t.E,1),(1>i||i>7)&&(u=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,n=St(t.gg,e._a[Ei],xt(Pt(),o,a).year),r=St(t.w,1),null!=t.d?(i=t.d,(0>i||i>6)&&(u=!0)):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o),1>r||r>_t(n,o,a)?l(e)._overflowWeeks=!0:null!=u?l(e)._overflowWeekday=!0:(s=wt(n,r,i,o,a),e._a[Ei]=s.year,e._dayOfYear=s.dayOfYear)}function Dt(t){if(t._f===e.ISO_8601)return void ft(t);t._a=[],l(t).empty=!0;var n,r,i,o,a,s=""+t._i,u=s.length,c=0;for(i=$(t._f,t._locale).match(oi)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(G(o,t))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&l(t).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),c+=r.length),ui[o]?(r?l(t).empty=!1:l(t).unusedTokens.push(o),et(o,r,t)):t._strict&&!r&&l(t).unusedTokens.push(o);l(t).charsLeftOver=u-c,s.length>0&&l(t).unusedInput.push(s),l(t).bigHour===!0&&t._a[Ni]<=12&&t._a[Ni]>0&&(l(t).bigHour=void 0),t._a[Ni]=Et(t._locale,t._a[Ni],t._meridiem),Ct(t),dt(t)}function Et(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function At(e){var t,n,r,i,o;if(0===e._f.length)return l(e).invalidFormat=!0,void(e._d=new Date(0/0));for(i=0;i<e._f.length;i++)o=0,t=p({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Dt(t),c(t)&&(o+=l(t).charsLeftOver,o+=10*l(t).unusedTokens.length,l(t).score=o,(null==r||r>o)&&(r=o,n=t));a(e,n||t)}function Ot(e){if(!e._d){var t=q(e._i);e._a=i([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Ct(e)}}function Nt(e){var t=new h(dt(jt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function jt(e){var t=e._i,i=e._f;return e._locale=e._locale||M(e._l),null===t||void 0===i&&""===t?d({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),m(t)?new h(dt(t)):(n(i)?At(e):i?Dt(e):r(t)?e._d=t:Mt(e),c(e)||(e._d=null),e))}function Mt(t){var o=t._i;void 0===o?t._d=new Date(e.now()):r(o)?t._d=new Date(+o):"string"==typeof o?pt(t):n(o)?(t._a=i(o.slice(0),function(e){return parseInt(e,10)}),Ct(t)):"object"==typeof o?Ot(t):"number"==typeof o?t._d=new Date(o):e.createFromInputFallback(t)}function Rt(e,t,n,r,i){var o={};return"boolean"==typeof n&&(r=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,Nt(o)}function Pt(e,t,n,r){return Rt(e,t,n,r,!1)}function It(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Pt();for(r=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](r))&&(r=t[i]);return r}function qt(){var e=[].slice.call(arguments,0);return It("isBefore",e)}function Ft(){var e=[].slice.call(arguments,0);return It("isAfter",e)}function Lt(e){var t=q(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*l+6e4*u+36e5*s,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=M(),this._bubble()}function Ht(e){return e instanceof Lt}function zt(e,t){U(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+B(~~(e/60),2)+t+B(~~e%60,2)})}function Bt(e,t){var n=(t||"").match(e)||[],r=n[n.length-1]||[],i=(r+"").match(Zi)||["-",0,0],o=+(60*i[1])+v(i[2]);return"+"===i[0]?o:-o}function Ut(t,n){var i,o;return n._isUTC?(i=n.clone(),o=(m(t)||r(t)?+t:+Pt(t))-+i,i._d.setTime(+i._d+o),e.updateOffset(i,!1),i):Pt(t).local()}function Wt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Vt(t,n){var r,i=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Bt(Si,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(r=Wt(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!n||this._changeInProgress?ln(this,nn(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Wt(this):null!=t?this:0/0}function Yt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function $t(e){return this.utcOffset(0,e)}function Qt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Wt(this),"m")),this}function Gt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Bt(_i,this._i)),this}function Jt(e){return this.isValid()?(e=e?Pt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Xt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Zt(){if(!f(this._isDSTShifted))return this._isDSTShifted;var e={};if(p(e,this),e=jt(e),e._a){var t=e._isUTC?s(e._a):Pt(e._a);this._isDSTShifted=this.isValid()&&y(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Kt(){return this.isValid()?!this._isUTC:!1}function en(){return this.isValid()?this._isUTC:!1}function tn(){return this.isValid()?this._isUTC&&0===this._offset:!1}function nn(e,t){var n,r,i,a=e,s=null;return Ht(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(s=Ki.exec(e))?(n="-"===s[1]?-1:1,a={y:0,d:v(s[Oi])*n,h:v(s[Ni])*n,m:v(s[ji])*n,s:v(s[Mi])*n,ms:v(s[Ri])*n}):(s=eo.exec(e))?(n="-"===s[1]?-1:1,a={y:rn(s[2],n),M:rn(s[3],n),w:rn(s[4],n),d:rn(s[5],n),h:rn(s[6],n),m:rn(s[7],n),s:rn(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=an(Pt(a.from),Pt(a.to)),a={},a.ms=i.milliseconds,a.M=i.months),r=new Lt(a),Ht(e)&&o(e,"_locale")&&(r._locale=e._locale),r}function rn(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function on(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function an(e,t){var n;return e.isValid()&&t.isValid()?(t=Ut(t,e),e.isBefore(t)?n=on(e,t):(n=on(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function sn(e){return 0>e?-1*Math.round(-1*e):Math.round(e)}function un(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(x(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=nn(n,r),ln(this,i,e),this}}function ln(t,n,r,i){var o=n._milliseconds,a=sn(n._days),s=sn(n._months);t.isValid()&&(i=null==i?!0:i,o&&t._d.setTime(+t._d+o*r),a&&H(t,"Date",L(t,"Date")+a*r),s&&ot(t,L(t,"Month")+s*r),i&&e.updateOffset(t,a||s))}function cn(e,t){var n=e||Pt(),r=Ut(n,this).startOf("day"),i=this.diff(r,"days",!0),o=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse",a=t&&(_(t[o])?t[o]():t[o]);return this.format(a||this.localeData().calendar(o,this,Pt(n)))}function dn(){return new h(this)}function fn(e,t){var n=m(e)?e:Pt(e);return this.isValid()&&n.isValid()?(t=I(f(t)?"millisecond":t),"millisecond"===t?+this>+n:+n<+this.clone().startOf(t)):!1}function pn(e,t){var n=m(e)?e:Pt(e);return this.isValid()&&n.isValid()?(t=I(f(t)?"millisecond":t),"millisecond"===t?+n>+this:+this.clone().endOf(t)<+n):!1}function hn(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function mn(e,t){var n,r=m(e)?e:Pt(e);return this.isValid()&&r.isValid()?(t=I(t||"millisecond"),"millisecond"===t?+this===+r:(n=+r,+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))):!1}function gn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function vn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function yn(e,t,n){var r,i,o,a;return this.isValid()?(r=Ut(e,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),t=I(t),"year"===t||"month"===t||"quarter"===t?(a=bn(this,r),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-r,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-i)/864e5:"week"===t?(o-i)/6048e5:o),n?a:g(a)):0/0):0/0}function bn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return 0>t-o?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)}function wn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function xn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?_(Date.prototype.toISOString)?this.toDate().toISOString():Y(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Y(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function _n(t){var n=Y(this,t||e.defaultFormat);return this.localeData().postformat(n)}function Sn(e,t){return this.isValid()&&(m(e)&&e.isValid()||Pt(e).isValid())?nn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function kn(e){return this.from(Pt(),e)}function Cn(e,t){return this.isValid()&&(m(e)&&e.isValid()||Pt(e).isValid())?nn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Tn(e){return this.to(Pt(),e)}function Dn(e){var t;return void 0===e?this._locale._abbr:(t=M(e),null!=t&&(this._locale=t),this)}function En(){return this._locale}function An(e){switch(e=I(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function On(e){return e=I(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function Nn(){return+this._d-6e4*(this._offset||0)}function jn(){return Math.floor(+this/1e3)}function Mn(){return this._offset?new Date(+this):this._d}function Rn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Pn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function In(){return this.isValid()?this.toISOString():null}function qn(){return c(this)}function Fn(){return a({},l(this))}function Ln(){return l(this).overflow}function Hn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function zn(e,t){U(0,[e,e.length],0,t)}function Bn(e){return Yn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Un(e){return Yn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Wn(){return _t(this.year(),1,4)}function Vn(){var e=this.localeData()._week;return _t(this.year(),e.dow,e.doy)}function Yn(e,t,n,r,i){var o;return null==e?xt(this,r,i).year:(o=_t(e,r,i),t>o&&(t=o),$n.call(this,e,t,n,r,i))}function $n(e,t,n,r,i){var o=wt(e,t,n,r,i),a=mt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Qn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Gn(e){return xt(e,this._week.dow,this._week.doy).week}function Jn(){return this._week.dow}function Xn(){return this._week.doy}function Zn(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Kn(e){var t=xt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function er(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function tr(e,t){return n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function nr(e){return this._weekdaysShort[e.day()]}function rr(e){return this._weekdaysMin[e.day()]}function ir(e,t,n){var r,i,o;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;7>r;r++){if(i=Pt([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function or(e){if(!this.isValid())return null!=e?this:0/0;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=er(e,this.localeData()),this.add(e-t,"d")):t}function ar(e){if(!this.isValid())return null!=e?this:0/0;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function sr(e){return this.isValid()?null==e?this.day()||7:this.day(this.day()%7?e:e-7):null!=e?this:0/0}function ur(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function lr(){return this.hours()%12||12}function cr(e,t){U(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function dr(e,t){return t._meridiemParse}function fr(e){return"p"===(e+"").toLowerCase().charAt(0)}function pr(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function hr(e,t){t[Ri]=v(1e3*("0."+e))}function mr(){return this._isUTC?"UTC":""}function gr(){return this._isUTC?"Coordinated Universal Time":""}function vr(e){return Pt(1e3*e)}function yr(){return Pt.apply(null,arguments).parseZone()}function br(e,t,n){var r=this._calendar[e];return _(r)?r.call(t,n):r}function wr(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function xr(){return this._invalidDate}function _r(e){return this._ordinal.replace("%d",e)}function Sr(e){return e}function kr(e,t,n,r){var i=this._relativeTime[n];return _(i)?i(e,t,n,r):i.replace(/%d/i,e)}function Cr(e,t){var n=this._relativeTime[e>0?"future":"past"];return _(n)?n(t):n.replace(/%s/i,t)}function Tr(e,t,n,r){var i=M(),o=s().set(r,t);return i[n](o,e)}function Dr(e,t,n,r,i){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return Tr(e,t,n,i);var o,a=[];for(o=0;r>o;o++)a[o]=Tr(e,o,n,i);return a}function Er(e,t){return Dr(e,t,"months",12,"month")}function Ar(e,t){return Dr(e,t,"monthsShort",12,"month")}function Or(e,t){return Dr(e,t,"weekdays",7,"day")}function Nr(e,t){return Dr(e,t,"weekdaysShort",7,"day")}function jr(e,t){return Dr(e,t,"weekdaysMin",7,"day")}function Mr(){var e=this._data;return this._milliseconds=Co(this._milliseconds),this._days=Co(this._days),this._months=Co(this._months),e.milliseconds=Co(e.milliseconds),e.seconds=Co(e.seconds),e.minutes=Co(e.minutes),e.hours=Co(e.hours),e.months=Co(e.months),e.years=Co(e.years),this}function Rr(e,t,n,r){var i=nn(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Pr(e,t){return Rr(this,e,t,1)}function Ir(e,t){return Rr(this,e,t,-1)}function qr(e){return 0>e?Math.floor(e):Math.ceil(e)}function Fr(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||0>=o&&0>=a&&0>=s||(o+=864e5*qr(Hr(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=g(o/1e3),u.seconds=e%60,t=g(e/60),u.minutes=t%60,n=g(t/60),u.hours=n%24,a+=g(n/24),i=g(Lr(a)),s+=i,a-=qr(Hr(i)),r=g(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function Lr(e){return 4800*e/146097}function Hr(e){return 146097*e/4800}function zr(e){var t,n,r=this._milliseconds;if(e=I(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+Lr(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Hr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Br(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Ur(e){return function(){return this.as(e)}}function Wr(e){return e=I(e),this[e+"s"]()}function Vr(e){return function(){return this._data[e]}}function Yr(){return g(this.days()/7)}function $r(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Qr(e,t,n){var r=nn(e).abs(),i=zo(r.as("s")),o=zo(r.as("m")),a=zo(r.as("h")),s=zo(r.as("d")),u=zo(r.as("M")),l=zo(r.as("y")),c=i<Bo.s&&["s",i]||1>=o&&["m"]||o<Bo.m&&["mm",o]||1>=a&&["h"]||a<Bo.h&&["hh",a]||1>=s&&["d"]||s<Bo.d&&["dd",s]||1>=u&&["M"]||u<Bo.M&&["MM",u]||1>=l&&["y"]||["yy",l];return c[2]=t,c[3]=+e>0,c[4]=n,$r.apply(null,c)}function Gr(e,t){return void 0===Bo[e]?!1:void 0===t?Bo[e]:(Bo[e]=t,!0)}function Jr(e){var t=this.localeData(),n=Qr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Xr(){var e,t,n,r=Uo(this._milliseconds)/1e3,i=Uo(this._days),o=Uo(this._months);e=g(r/60),t=g(e/60),r%=60,e%=60,n=g(o/12),o%=12;var a=n,s=o,u=i,l=t,c=e,d=r,f=this.asSeconds();return f?(0>f?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(u?u+"D":"")+(l||c||d?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var Zr,Kr=e.momentProperties=[],ei=!1,ti={};e.suppressDeprecationWarnings=!1;var ni,ri={},ii={},oi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ai=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,si={},ui={},li=/\d/,ci=/\d\d/,di=/\d{3}/,fi=/\d{4}/,pi=/[+-]?\d{6}/,hi=/\d\d?/,mi=/\d\d\d\d?/,gi=/\d\d\d\d\d\d?/,vi=/\d{1,3}/,yi=/\d{1,4}/,bi=/[+-]?\d{1,6}/,wi=/\d+/,xi=/[+-]?\d+/,_i=/Z|[+-]\d\d:?\d\d/gi,Si=/Z|[+-]\d\d(?::?\d\d)?/gi,ki=/[+-]?\d+(\.\d{1,3})?/,Ci=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ti={},Di={},Ei=0,Ai=1,Oi=2,Ni=3,ji=4,Mi=5,Ri=6,Pi=7,Ii=8;U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),U("MMMM",0,0,function(e){return this.localeData().months(this,e)}),P("month","M"),Q("M",hi),Q("MM",hi,ci),Q("MMM",function(e,t){return t.monthsShortRegex(e)}),Q("MMMM",function(e,t){return t.monthsRegex(e)}),Z(["M","MM"],function(e,t){t[Ai]=v(e)-1}),Z(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Ai]=i:l(n).invalidMonth=e});var qi=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Fi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Li="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Hi=Ci,zi=Ci,Bi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ui=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Wi=/Z|[+-]\d\d(?::?\d\d)?/,Vi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Yi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],$i=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=w("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),U("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),P("year","y"),Q("Y",xi),Q("YY",hi,ci),Q("YYYY",yi,fi),Q("YYYYY",bi,pi),Q("YYYYYY",bi,pi),Z(["YYYYY","YYYYYY"],Ei),Z("YYYY",function(t,n){n[Ei]=2===t.length?e.parseTwoDigitYear(t):v(t)
}),Z("YY",function(t,n){n[Ei]=e.parseTwoDigitYear(t)}),Z("Y",function(e,t){t[Ei]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var Qi=F("FullYear",!1);e.ISO_8601=function(){};var Gi=w("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:d()}),Ji=w("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:d()}),Xi=function(){return Date.now?Date.now():+new Date};zt("Z",":"),zt("ZZ",""),Q("Z",Si),Q("ZZ",Si),Z(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Bt(Si,e)});var Zi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Ki=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,eo=/^(-)?P(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)W)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?$/;nn.fn=Lt.prototype;var to=un(1,"add"),no=un(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var ro=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),zn("gggg","weekYear"),zn("ggggg","weekYear"),zn("GGGG","isoWeekYear"),zn("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),Q("G",xi),Q("g",xi),Q("GG",hi,ci),Q("gg",hi,ci),Q("GGGG",yi,fi),Q("gggg",yi,fi),Q("GGGGG",bi,pi),Q("ggggg",bi,pi),K(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=v(e)}),K(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),U("Q",0,"Qo","quarter"),P("quarter","Q"),Q("Q",li),Z("Q",function(e,t){t[Ai]=3*(v(e)-1)}),U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),Q("w",hi),Q("ww",hi,ci),Q("W",hi),Q("WW",hi,ci),K(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=v(e)});var io={dow:0,doy:6};U("D",["DD",2],"Do","date"),P("date","D"),Q("D",hi),Q("DD",hi,ci),Q("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),Z(["D","DD"],Oi),Z("Do",function(e,t){t[Oi]=v(e.match(hi)[0],10)});var oo=F("Date",!0);U("d",0,"do","day"),U("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),U("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),U("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),Q("d",hi),Q("e",hi),Q("E",hi),Q("dd",Ci),Q("ddd",Ci),Q("dddd",Ci),K(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:l(n).invalidWeekday=e}),K(["d","e","E"],function(e,t,n,r){t[r]=v(e)});var ao="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),so="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),uo="Su_Mo_Tu_We_Th_Fr_Sa".split("_");U("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),Q("DDD",vi),Q("DDDD",di),Z(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),U("H",["HH",2],0,"hour"),U("h",["hh",2],0,lr),U("hmm",0,0,function(){return""+lr.apply(this)+B(this.minutes(),2)}),U("hmmss",0,0,function(){return""+lr.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),cr("a",!0),cr("A",!1),P("hour","h"),Q("a",dr),Q("A",dr),Q("H",hi),Q("h",hi),Q("HH",hi,ci),Q("hh",hi,ci),Q("hmm",mi),Q("hmmss",gi),Q("Hmm",mi),Q("Hmmss",gi),Z(["H","HH"],Ni),Z(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),Z(["h","hh"],function(e,t,n){t[Ni]=v(e),l(n).bigHour=!0}),Z("hmm",function(e,t,n){var r=e.length-2;t[Ni]=v(e.substr(0,r)),t[ji]=v(e.substr(r)),l(n).bigHour=!0}),Z("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Ni]=v(e.substr(0,r)),t[ji]=v(e.substr(r,2)),t[Mi]=v(e.substr(i)),l(n).bigHour=!0}),Z("Hmm",function(e,t){var n=e.length-2;t[Ni]=v(e.substr(0,n)),t[ji]=v(e.substr(n))}),Z("Hmmss",function(e,t){var n=e.length-4,r=e.length-2;t[Ni]=v(e.substr(0,n)),t[ji]=v(e.substr(n,2)),t[Mi]=v(e.substr(r))});var lo=/[ap]\.?m?\.?/i,co=F("Hours",!0);U("m",["mm",2],0,"minute"),P("minute","m"),Q("m",hi),Q("mm",hi,ci),Z(["m","mm"],ji);var fo=F("Minutes",!1);U("s",["ss",2],0,"second"),P("second","s"),Q("s",hi),Q("ss",hi,ci),Z(["s","ss"],Mi);var po=F("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),Q("S",vi,li),Q("SS",vi,ci),Q("SSS",vi,di);var ho;for(ho="SSSS";ho.length<=9;ho+="S")Q(ho,wi);for(ho="S";ho.length<=9;ho+="S")Z(ho,hr);var mo=F("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var go=h.prototype;go.add=to,go.calendar=cn,go.clone=dn,go.diff=yn,go.endOf=On,go.format=_n,go.from=Sn,go.fromNow=kn,go.to=Cn,go.toNow=Tn,go.get=z,go.invalidAt=Ln,go.isAfter=fn,go.isBefore=pn,go.isBetween=hn,go.isSame=mn,go.isSameOrAfter=gn,go.isSameOrBefore=vn,go.isValid=qn,go.lang=ro,go.locale=Dn,go.localeData=En,go.max=Ji,go.min=Gi,go.parsingFlags=Fn,go.set=z,go.startOf=An,go.subtract=no,go.toArray=Rn,go.toObject=Pn,go.toDate=Mn,go.toISOString=xn,go.toJSON=In,go.toString=wn,go.unix=jn,go.valueOf=Nn,go.creationData=Hn,go.year=Qi,go.isLeapYear=yt,go.weekYear=Bn,go.isoWeekYear=Un,go.quarter=go.quarters=Qn,go.month=at,go.daysInMonth=st,go.week=go.weeks=Zn,go.isoWeek=go.isoWeeks=Kn,go.weeksInYear=Vn,go.isoWeeksInYear=Wn,go.date=oo,go.day=go.days=or,go.weekday=ar,go.isoWeekday=sr,go.dayOfYear=ur,go.hour=go.hours=co,go.minute=go.minutes=fo,go.second=go.seconds=po,go.millisecond=go.milliseconds=mo,go.utcOffset=Vt,go.utc=$t,go.local=Qt,go.parseZone=Gt,go.hasAlignedHourOffset=Jt,go.isDST=Xt,go.isDSTShifted=Zt,go.isLocal=Kt,go.isUtcOffset=en,go.isUtc=tn,go.isUTC=tn,go.zoneAbbr=mr,go.zoneName=gr,go.dates=w("dates accessor is deprecated. Use date instead.",oo),go.months=w("months accessor is deprecated. Use month instead",at),go.years=w("years accessor is deprecated. Use year instead",Qi),go.zone=w("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Yt);var vo=go,yo={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},bo={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},wo="Invalid date",xo="%d",_o=/\d{1,2}/,So={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ko=T.prototype;ko._calendar=yo,ko.calendar=br,ko._longDateFormat=bo,ko.longDateFormat=wr,ko._invalidDate=wo,ko.invalidDate=xr,ko._ordinal=xo,ko.ordinal=_r,ko._ordinalParse=_o,ko.preparse=Sr,ko.postformat=Sr,ko._relativeTime=So,ko.relativeTime=kr,ko.pastFuture=Cr,ko.set=k,ko.months=nt,ko._months=Fi,ko.monthsShort=rt,ko._monthsShort=Li,ko.monthsParse=it,ko._monthsRegex=zi,ko.monthsRegex=lt,ko._monthsShortRegex=Hi,ko.monthsShortRegex=ut,ko.week=Gn,ko._week=io,ko.firstDayOfYear=Xn,ko.firstDayOfWeek=Jn,ko.weekdays=tr,ko._weekdays=ao,ko.weekdaysMin=rr,ko._weekdaysMin=uo,ko.weekdaysShort=nr,ko._weekdaysShort=so,ko.weekdaysParse=ir,ko.isPM=fr,ko._meridiemParse=lo,ko.meridiem=pr,O("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=w("moment.lang is deprecated. Use moment.locale instead.",O),e.langData=w("moment.langData is deprecated. Use moment.localeData instead.",M);var Co=Math.abs,To=Ur("ms"),Do=Ur("s"),Eo=Ur("m"),Ao=Ur("h"),Oo=Ur("d"),No=Ur("w"),jo=Ur("M"),Mo=Ur("y"),Ro=Vr("milliseconds"),Po=Vr("seconds"),Io=Vr("minutes"),qo=Vr("hours"),Fo=Vr("days"),Lo=Vr("months"),Ho=Vr("years"),zo=Math.round,Bo={s:45,m:45,h:22,d:26,M:11},Uo=Math.abs,Wo=Lt.prototype;Wo.abs=Mr,Wo.add=Pr,Wo.subtract=Ir,Wo.as=zr,Wo.asMilliseconds=To,Wo.asSeconds=Do,Wo.asMinutes=Eo,Wo.asHours=Ao,Wo.asDays=Oo,Wo.asWeeks=No,Wo.asMonths=jo,Wo.asYears=Mo,Wo.valueOf=Br,Wo._bubble=Fr,Wo.get=Wr,Wo.milliseconds=Ro,Wo.seconds=Po,Wo.minutes=Io,Wo.hours=qo,Wo.days=Fo,Wo.weeks=Yr,Wo.months=Lo,Wo.years=Ho,Wo.humanize=Jr,Wo.toISOString=Xr,Wo.toString=Xr,Wo.toJSON=Xr,Wo.locale=Dn,Wo.localeData=En,Wo.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Xr),Wo.lang=ro,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Q("x",xi),Q("X",ki),Z("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),Z("x",function(e,t,n){n._d=new Date(v(e))}),e.version="2.12.0",t(Pt),e.fn=vo,e.min=qt,e.max=Ft,e.now=Xi,e.utc=s,e.unix=vr,e.months=Er,e.isDate=r,e.locale=O,e.invalid=d,e.duration=nn,e.isMoment=m,e.weekdays=Or,e.parseZone=yr,e.localeData=M,e.isDuration=Ht,e.monthsShort=Ar,e.weekdaysMin=jr,e.defineLocale=N,e.updateLocale=j,e.locales=R,e.weekdaysShort=Nr,e.normalizeUnits=I,e.relativeTimeThreshold=Gr,e.prototype=vo;var Vo=e;return Vo}),define("converters.timeseries",["require","lodash","moment"],function(e){function t(){this.init.apply(this,arguments)}var n=e("lodash"),r=e("moment");return t.prototype.init=function(e,t,n,r,i){if(e=e||[],n=n||e,r=r||e,t=t||{},e.length!==n.length)throw"ArgError: colorLabels must be aligned in size with the header";if(e.length!==r.length)throw"ArgError: patternLabels must be aligned in size with the header";this.header=e,this.colorLabels=n,this.patternLabels=r,this.rowsByDate=t,this.duplicateDates=i},t.prototype.merge=function(e){return n.isUndefined(e)?this:(n.isArray(e)||(e=[e]),e.splice(0,0,this),t.mergeAll(e))},t.mergeAll=function(e){n.forEach(e,function(e){if(e.duplicateDates)throw"Can not be merged: has multiple rows per date."});var r=e.splice(1),i=e[0],o={header:n.clone(i.header),rowsByDate:n.cloneDeep(i.rowsByDate),colorLabels:n.clone(i.colorLabels),patternLabels:n.clone(i.patternLabels),fromDate:i.fromDate,toDate:i.toDate};n.reduce(r,function(e,t){return n.map(t.rowsByDate,function(t,r){n.has(e.rowsByDate,r)||(e.rowsByDate[r]=[n.fill(Array(e.header.length),null)]),e.rowsByDate[r][0]=e.rowsByDate[r][0].concat(t[0])}),n.map(["header","colorLabels","patternLabels"],function(n){e[n]=e[n].concat(t[n])}),n.each(e.rowsByDate,function(t){var r=t[0].length;t[0].length=e.header.length,n.fill(t[0],null,r)}),e.fromDate=isNaN(e.fromDate)||t.fromDate>e.fromDate?t.fromDate:e.fromDate,e.toDate=isNaN(e.toDate)||t.toDate<e.toDate?t.toDate:e.toDate,e},o);var a=new t(o.header,o.rowsByDate,o.colorLabels,o.patternLabels);return a.filter(o.fromDate,o.toDate)},t.prototype.filter=function(e,t){return this.fromDate=+e,this.toDate=+t,this},t.prototype.size=function(){return n(this.rowsByDate).transform(function(e,t){e.size=e.size+t.length},{size:0}).value().size},t.prototype.pickColumns=function(e,r){var i=this,o={header:[],colorLabels:[],patternLabels:[],rowsByDate:{}};n.forEach(i.rowsByDate,function(e,t){o.rowsByDate[t]=[],n.forEach(i.rowsByDate[t],function(){o.rowsByDate[t].push([])})}),n.forEach(e,function(e,t){for(var a=i.header.indexOf(e);i.patternLabels[a]!==r[t];)a=i.header.indexOf(e,a+1);o.header.push(i.header[a]),o.colorLabels.push(i.colorLabels[a]),o.patternLabels.push(i.patternLabels[a]),n.forEach(o.rowsByDate,function(e,t){n.forEach(o.rowsByDate[t],function(e,n){o.rowsByDate[t][n].push(i.rowsByDate[t][n][a])})})});var a=new t(o.header,o.rowsByDate,o.colorLabels,o.patternLabels,this.duplicateDates);return a.filter(i.fromDate,i.toDate)},t.prototype.rowData=function(e){e=e||{};var t=n(this.rowsByDate).transform(function(t,i,o){var a=n.attempt(function(){return r.utc(o).toDate().getTime()});n.isError(a)||isNaN(a)||this.fromDate&&a<this.fromDate||this.toDate&&a>this.toDate||t.push.apply(t,n.map(i,function(t){var n=a;return e.convertToDate&&(n=r.utc(a).toDate()),e.convertToString&&(n=r.utc(a).format("YYYY-MM-DD")),[n].concat(t)}))},[],this).sortBy(function(e){return e[0]});return e.filter&&(t=t.filter(e.filter)),e.limit&&(t=t.slice(e.limit.start,e.limit.end)),t.value()},t}),/**
 * @license text 2.0.15 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/text/LICENSE
 */
define("text",["module"],function(e){function t(e,t){return void 0===e||""===e?t:e}function n(e,n,r,i){if(n===i)return!0;if(e===r){if("http"===e)return t(n,"80")===t(i,"80");if("https"===e)return t(n,"443")===t(i,"443")}return!1}var r,i,o,a,s,u=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],l=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,d="undefined"!=typeof location&&location.href,f=d&&location.protocol&&location.protocol.replace(/\:/,""),p=d&&location.hostname,h=d&&(location.port||void 0),m={},g=e.config&&e.config()||{};return r={version:"2.0.15",strip:function(e){if(e){e=e.replace(l,"");var t=e.match(c);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:g.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=u[t];try{e=new ActiveXObject(n)}catch(r){}if(e){u=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,o=e.lastIndexOf("."),a=0===e.indexOf("./")||0===e.indexOf("../");return-1!==o&&(!a||o>1)?(t=e.substring(0,o),n=e.substring(o+1)):t=e,r=n||t,o=r.indexOf("!"),-1!==o&&(i="strip"===r.substring(o+1),r=r.substring(0,o),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,i,o){var a,s,u,l=r.xdRegExp.exec(e);return l?(a=l[2],s=l[3],s=s.split(":"),u=s[1],s=s[0],!(a&&a!==t||s&&s.toLowerCase()!==i.toLowerCase()||(u||s)&&!n(a,u,t,o))):!0},finishLoad:function(e,t,n,i){n=t?r.strip(n):n,g.isBuild&&(m[e]=n),i(n)},load:function(e,t,n,i){if(i&&i.isBuild&&!i.inlineText)return void n();g.isBuild=i&&i.isBuild;var o=r.parseName(e),a=o.moduleName+(o.ext?"."+o.ext:""),s=t.toUrl(a),u=g.useXhr||r.useXhr;//!strip part to avoid file system issues.
return 0===s.indexOf("empty:")?void n():void(!d||u(s,f,p,h)?r.get(s,function(t){r.finishLoad(e,o.strip,t,n)},function(e){n.error&&n.error(e)}):t([a],function(e){r.finishLoad(o.moduleName+"."+o.ext,o.strip,e,n)}))},write:function(e,t,n){if(m.hasOwnProperty(t)){var i=r.jsEscape(m[t]);n.asModule(e+"!"+t,"define(function () { return '"+i+"';});\n")}},writeFile:function(e,t,n,i,o){var a=r.parseName(t),s=a.ext?"."+a.ext:"",u=a.moduleName+s,l=n.toUrl(a.moduleName+s)+".js";r.load(u,n,function(){var t=function(e){return i(l,e)};t.asModule=function(e,t){return i.asModule(e,l,t)},r.write(e,u,t,o)},o)}},"node"===g.env||!g.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(i=require.nodeRequire("fs"),r.get=function(e,t,n){try{var r=i.readFileSync(e,"utf8");""===r[0]&&(r=r.substring(1)),t(r)}catch(o){n&&n(o)}}):"xhr"===g.env||!g.env&&r.createXhr()?r.get=function(e,t,n,i){var o,a=r.createXhr();if(a.open("GET",e,!0),i)for(o in i)i.hasOwnProperty(o)&&a.setRequestHeader(o.toLowerCase(),i[o]);g.onXhr&&g.onXhr(a,e),a.onreadystatechange=function(){var r,i;4===a.readyState&&(r=a.status||0,r>399&&600>r?(i=new Error(e+" HTTP status: "+r),i.xhr=a,n&&n(i)):t(a.responseText),g.onXhrComplete&&g.onXhrComplete(a,e))},a.send(null)}:"rhino"===g.env||!g.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?r.get=function(e,t){var n,r,i="utf-8",o=new java.io.File(e),a=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),i)),u="";try{for(n=new java.lang.StringBuffer,r=s.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),null!==r&&n.append(r);null!==(r=s.readLine());)n.append(a),n.append(r);u=String(n.toString())}finally{s.close()}t(u)}:("xpconnect"===g.env||!g.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(o=Components.classes,a=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in o,r.get=function(e,t){var n,r,i,u={};s&&(e=e.replace(/\//g,"\\")),i=new FileUtils.File(e);try{n=o["@mozilla.org/network/file-input-stream;1"].createInstance(a.nsIFileInputStream),n.init(i,1,0,!1),r=o["@mozilla.org/intl/converter-input-stream;1"].createInstance(a.nsIConverterInputStream),r.init(n,"utf-8",n.available(),a.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),r.readString(n.available(),u),r.close(),n.close(),t(u.value)}catch(l){throw new Error((i&&i.path||"")+": "+l)}}),r}),define("text!components/visualizers/wikimetrics/wikimetrics.html",[],function(){return'<!-- ko if: mergedData && mergedData() && mergedData().header.length -->\n\n<!-- ko if: metric && metric() -->\n<a class="header"\n   data-bind="attr: {href: metric().definition}"\n   title="view metric definition" target="_blank">\n    <span data-bind="metricName: metric"></span>\n    <i class="external url icon"></i>\n</a>\n<!-- /ko -->\n\n<dygraphs-timeseries params="\n    data: mergedData,\n    colors: colorScale,\n    patterns: patternScale,\n    annotations: annotations,\n    format: format,\n"></dygraphs-timeseries>\n\n<!-- /ko -->\n\n\n<!-- ko ifnot: mergedData && mergedData() && mergedData().header.length -->\n\n<p>Please select a metric above <i class="up icon"/><p>\n<p><i class="left icon"/> And projects from the left</p>\n\n<!-- /ko -->\n'}),function(e){var t=function(){};t.prototype.get=function(e){if("object"!=typeof e)throw new TypeError("function must receive an object");var t=$.Deferred(),n=this._createQueryUrl(e),r=this;return $.ajax({url:n,dataType:"jsonp",contentType:"application/json",success:function(n){var i;try{i=r._getPageJson(n)}catch(o){return"function"==typeof e.error&&e.error(o),void t.reject(o)}"function"==typeof e.success&&e.success(i),t.resolve(i)},error:function(n,r,i){"function"==typeof e.error&&e.error(i),t.reject(i)}}),t.promise()},t.prototype._createQueryUrl=function(e){if("string"!=typeof e.host)throw new TypeError("host must be a string");var t;if("string"==typeof e.pageName)t="&titles="+e.pageName;else if("string"==typeof e.pageId)t="&pageids="+e.pageId;else{if("string"!=typeof e.revId)throw new TypeError("one of (pageName|pageId|revId) must be a string");t="&revids="+e.revId}return["//",e.host,"/w/api.php","?action=query","&prop=revisions","&format=json","&rvprop=content","&rawcontinue=1",t].join("")},t.prototype._getPageJson=function(e){var t,n;try{var r=e.query.pages,i=Object.keys(r)[0];t=r[i].revisions[0]["*"]}catch(o){throw new SyntaxError("unexpected query result")}try{n=JSON.parse(t)}catch(o){throw new SyntaxError("page contents are not a valid json")}return n};var n=new t;"function"==typeof define&&define.amd?define("mediawiki-storage",[],function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:e.mediawikiStorage=n}(window),define("converters.annotations",["require","lodash","converters.timeseries"],function(e){var t=e("lodash"),n=e("converters.timeseries");return function(){return function(e,r){var i=$.extend({label:"(annotations)",startRangePrefix:"Begin: ",endRangePrefix:"End: "},e),o=t.attempt(function(){var e=!1,o=t(r).transform(function(e,t){return t&&t.start?void(t.end&&t.start!==t.end?(e.push([t.start,i.startRangePrefix+t.note]),e.push([t.end,i.endRangePrefix+t.note])):e.push([t.start,t.note])):!0}).transform(function(n,r){t.has(n,r[0])?e=!0:n[r[0]]=[],n[r[0]].push(r.splice(1))},{}).value();return new n([i.label],o,[i.label],[i.label],e)});return t.isError(o)?new n:o}}}),define("apis.annotations",["require","mediawiki-storage","moment","logger","converters.annotations","converters.timeseries"],function(e){function t(){}var n=e("mediawiki-storage"),r=e("moment"),i=e("logger"),o=e("converters.annotations"),a=e("converters.timeseries");return t.prototype.getTimeseriesData=function(e){var t=e.annotations,r=new $.Deferred;return this.checkParams(t)?n.get({host:t.host,pageName:t.pageName}).done(function(e){r.resolve(o()({},e))}).fail(function(e){r.resolve(new a),i.error(e)}):r.resolve(new a),r},t.prototype.get=function(e,t,r){if("object"!=typeof e)throw new TypeError("function must receive an object");var i=e.annotations,o=this,a=new $.Deferred;return this.checkParams(i)?n.get({host:i.host,pageName:i.pageName}).fail(a.reject).done(function(e){o.checkAnnotations(e,a,i)}):a.resolve([]),a.done(t),a.fail(r),a.promise()},t.prototype.checkParams=function(e){return"object"==typeof e&&"string"==typeof e.host&&"string"==typeof e.pageName},t.prototype.checkDate=function(e){return void 0===e||"string"==typeof e&&r(e).isValid()},t.prototype.checkInterval=function(e,t){return void 0===e||void 0===t||r(e)<=r(t)},t.prototype.checkAnnotations=function(e,t,n){if(e instanceof Array){var r=this,o=e.filter(function(e){return"object"==typeof e&&r.checkDate(e.start)&&r.checkDate(e.end)&&r.checkInterval(e.start,e.end)&&"string"==typeof e.note});t.resolve(o)}else{var a='Mediawiki page with host "'+n.host+'" and page name "'+n.pageName+'" does not contain an array of annotations.';i.error(a),t.reject(new TypeError(a))}},new t}),define("config-from-build",[],function(){return{endpoint:"meta.wikimedia.org",dashboardArticle:"Config:VitalSigns"}}),define("config",["require","./config-from-build"],function(e){var t=e("./config-from-build");return{configApi:{endpoint:"meta.wikimedia.org",categorizedMetricsPage:"Dashiki:CategorizedMetrics",dashboardPage:t?t.dashboardArticle:null,defaultDashboardPageRoot:"Dashiki:DefaultDashboard",outOfService:"Dashiki:OutOfService"},wikimetricsApi:{endpoint:"metrics.wmflabs.org",urlProjectLanguageChoices:"https://metrics.wmflabs.org/static/public/datafiles/available-projects.json",format:"json"},aqsApi:{Pageviews:{endpoint:"getAggregatedPageviews",valueField:"views",dateFormat:{hourly:"YYYYMMDDHH",daily:"YYYYMMDD00",monthly:"YYYYMM0100"},breakdownOptions:{All:"all-access","Desktop site":"desktop","Mobile site":"mobile-web","Mobile App":"mobile-app"},breakdownParameter:"access",dataStart:"2015010100"},UniqueDevices:{endpoint:"getUniqueDevices",valueField:"devices",dateFormat:{daily:"YYYYMMDD",monthly:"YYYYMM01"},breakdownOptions:{All:"all-sites","Desktop site":"desktop-site","Mobile site":"mobile-site"},breakdownParameter:"access-site",dataStart:"20160101"}},datasetsApi:{endpoint:"https://datasets.wikimedia.org/limn-public-data/metrics",format:"tsv"},sitematrix:{endpoint:"https://meta.wikimedia.org/w/api.php?action=sitematrix&formatversion=2&format=json&maxage=3600&smaxage=3600"}}}),define("converters.separated-values",["require","lodash","converters.timeseries"],function(e){var t=e("lodash"),n=e("converters.timeseries");return function(e){return function(r,i){var o=$.extend({label:"",lineSeparator:"\n",valueSeparator:e,allColumns:!0,varyPatterns:!1,varyColors:!1,globalPattern:!1,doNotParse:[]},r);if(i.indexOf(o.valueSeparator)<0||i.indexOf(o.lineSeparator)<0)return new n;var a=i.split(o.lineSeparator).map(function(e){return e.split(o.valueSeparator)}),s=a.splice(0,1)[0].splice(1,o.allColumns?a[0].length:1).map(function(e){return e.trim()}),u=o.varyColors?s:t.fill(Array(s.length),o.label),l=o.varyPatterns?s:t.fill(Array(s.length),o.globalPattern?0:o.label),c={},d=!1;return t.forEach(a,function(e){var n=e.splice(1);return o.startDate&&e[0]<o.startDate?!0:(t.has(c,e[0])?d=!0:c[e[0]]=[],void c[e[0]].push(t(n).take(s.length).map(function(e,n){if(t.includes(o.doNotParse,s[n]))return e;if(e=e.trim(),0===e.length)return null;var r=parseFloat(e);return isNaN(r)?e:r}).value()))}),new n(s,c,u,l,d)}}}),define("converters.wikimetrics-timeseries",["require","lodash","converters.timeseries"],function(e){var t=e("lodash"),n=e("converters.timeseries");return function(){return function(e,r){if(!t.has(r,"parameters.Metric"))return new n([]);var i=r.parameters,o=i.Metric,a=e.defaultSubmetrics[o];return t.has(r,"result.Sum["+a+"]")?new n([i.Cohort],t.forEach(r.result.Sum[a],function(e,t,n){n[t]=[[e?parseFloat(e):null]]}),[i.Cohort],[0]):new n([i.cohort])}}}),define("converters.hierarchy-data",["lodash"],function(){var e=require("lodash");return function(t,n){var r={name:"root",children:[]};return e.forEach(t,function(t){var i=n(t),o=+t[t.length-1],a=r;isNaN(o)||e.forEach(i,function(e,t){e=e.toString();var n=t===i.length-1,r=a.children.find(function(t){return t.name===e});if(r)n?r.size=(r.size||0)+o:a=r;else{var s={name:e};a.children=a.children||[],a.children.push(s),n?s.size=o:(s.children=[],a=s)}})}),r}}),define("converters.aqs-api-response",["require","lodash","moment","converters.timeseries"],function(e){var t=e("lodash"),n=e("moment"),r=e("converters.timeseries");return function(e){return function(i,o){var a=$.extend({label:""},i);if(!t.has(o,"items"))return new r([]);var s={};return t.forEach(o.items,function(t){var r=n(t.timestamp,"YYYYMMDDHH").format("YYYY-MM-DD");s[r]=[[t[e]?parseFloat(t[e]):null]]}),new r([a.label],s,[a.label],[a.pattern],!1)}}}),define("dataConverterFactory",["require","converters.separated-values","converters.wikimetrics-timeseries","converters.hierarchy-data","converters.aqs-api-response"],function(e){function t(){}var n=e("converters.separated-values"),r=e("converters.wikimetrics-timeseries"),i=e("converters.hierarchy-data"),o=e("converters.aqs-api-response");return t.prototype.getDataConverter=function(e,t){switch(e){case"tsv":return n("	");case"csv":return n(",");case"json":return r();case"aqs-api-response":return o(t);case"hierarchy":return i}},new t}),function(e){function t(e){throw RangeError(O[e])}function n(e,t){for(var n=e.length;n--;)e[n]=t(e[n]);return e}function r(e,t){return n(e.split(A),t).join(".")}function i(e){for(var t,n,r=[],i=0,o=e.length;o>i;)t=e.charCodeAt(i++),t>=55296&&56319>=t&&o>i?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function o(e){return n(e,function(e){var t="";return e>65535&&(e-=65536,t+=M(e>>>10&1023|55296),e=56320|1023&e),t+=M(e)}).join("")}function a(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:b}function s(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function u(e,t,n){var r=0;for(e=n?j(e/S):e>>1,e+=j(e/t);e>N*x>>1;r+=b)e=j(e/N);return j(r+(N+1)*e/(e+_))}function l(e){var n,r,i,s,l,c,d,f,p,h,m=[],g=e.length,v=0,_=C,S=k;for(r=e.lastIndexOf(T),0>r&&(r=0),i=0;r>i;++i)e.charCodeAt(i)>=128&&t("not-basic"),m.push(e.charCodeAt(i));for(s=r>0?r+1:0;g>s;){for(l=v,c=1,d=b;s>=g&&t("invalid-input"),f=a(e.charCodeAt(s++)),(f>=b||f>j((y-v)/c))&&t("overflow"),v+=f*c,p=S>=d?w:d>=S+x?x:d-S,!(p>f);d+=b)h=b-p,c>j(y/h)&&t("overflow"),c*=h;n=m.length+1,S=u(v-l,n,0==l),j(v/n)>y-_&&t("overflow"),_+=j(v/n),v%=n,m.splice(v++,0,_)}return o(m)}function c(e){var n,r,o,a,l,c,d,f,p,h,m,g,v,_,S,D=[];for(e=i(e),g=e.length,n=C,r=0,l=k,c=0;g>c;++c)m=e[c],128>m&&D.push(M(m));for(o=a=D.length,a&&D.push(T);g>o;){for(d=y,c=0;g>c;++c)m=e[c],m>=n&&d>m&&(d=m);for(v=o+1,d-n>j((y-r)/v)&&t("overflow"),r+=(d-n)*v,n=d,c=0;g>c;++c)if(m=e[c],n>m&&++r>y&&t("overflow"),m==n){for(f=r,p=b;h=l>=p?w:p>=l+x?x:p-l,!(h>f);p+=b)S=f-h,_=b-h,D.push(M(s(h+S%_,0))),f=j(S/_);D.push(M(s(f,0))),l=u(r,v,o==a),r=0,++o}++r,++n}return D.join("")}function d(e){return r(e,function(e){return D.test(e)?l(e.slice(4).toLowerCase()):e})}function f(e){return r(e,function(e){return E.test(e)?"xn--"+c(e):e})}var p="object"==typeof exports&&exports,h="object"==typeof module&&module&&module.exports==p&&module,m="object"==typeof global&&global;(m.global===m||m.window===m)&&(e=m);var g,v,y=2147483647,b=36,w=1,x=26,_=38,S=700,k=72,C=128,T="-",D=/^xn--/,E=/[^ -~]/,A=/\x2E|\u3002|\uFF0E|\uFF61/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=b-w,j=Math.floor,M=String.fromCharCode;if(g={version:"1.2.3",ucs2:{decode:i,encode:o},decode:l,encode:c,toASCII:f,toUnicode:d},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("uri/punycode",[],function(){return g});else if(p&&!p.nodeType)if(h)h.exports=g;else for(v in g)g.hasOwnProperty(v)&&(p[v]=g[v]);else e.punycode=g}(this),/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.13.2
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *   GPL v3 http://opensource.org/licenses/GPL-3.0
 *
 */
function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define("uri/IPv6",t):e.IPv6=t(e)}(this,function(e){function t(e){var t=e.toLowerCase(),n=t.split(":"),r=n.length,i=8;""===n[0]&&""===n[1]&&""===n[2]?(n.shift(),n.shift()):""===n[0]&&""===n[1]?n.shift():""===n[r-1]&&""===n[r-2]&&n.pop(),r=n.length,-1!==n[r-1].indexOf(".")&&(i=7);var o;for(o=0;r>o&&""!==n[o];o++);if(i>o){for(n.splice(o,1,"0000");n.length<i;)n.splice(o,0,"0000");r=n.length}for(var a,s=0;i>s;s++){a=n[s].split("");for(var u=0;3>u&&("0"===a[0]&&a.length>1);u++)a.splice(0,1);n[s]=a.join("")}var l=-1,c=0,d=0,f=-1,p=!1;for(s=0;i>s;s++)p?"0"===n[s]?d+=1:(p=!1,d>c&&(l=f,c=d)):"0"===n[s]&&(p=!0,f=s,d=1);d>c&&(l=f,c=d),c>1&&n.splice(l,c,""),r=n.length;var h="";for(""===n[0]&&(h=":"),s=0;r>s&&(h+=n[s],s!==r-1);s++)h+=":";return""===n[r-1]&&(h+=":"),h}function n(){return e.IPv6===this&&(e.IPv6=r),this}var r=e&&e.IPv6;return{best:t,noConflict:n}}),/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.13.2
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *   GPL v3 http://opensource.org/licenses/GPL-3.0
 *
 */
function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define("uri/SecondLevelDomains",t):e.SecondLevelDomains=t(e)}(this,function(e){var t=e&&e.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ","do":" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ","in":" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(e){var t=e.lastIndexOf(".");if(0>=t||t>=e.length-1)return!1;var r=e.lastIndexOf(".",t-1);if(0>=r||r>=t-1)return!1;var i=n.list[e.slice(t+1)];return i?i.indexOf(" "+e.slice(r+1,t)+" ")>=0:!1},is:function(e){var t=e.lastIndexOf(".");if(0>=t||t>=e.length-1)return!1;var r=e.lastIndexOf(".",t-1);if(r>=0)return!1;var i=n.list[e.slice(t+1)];return i?i.indexOf(" "+e.slice(0,t)+" ")>=0:!1},get:function(e){var t=e.lastIndexOf(".");if(0>=t||t>=e.length-1)return null;var r=e.lastIndexOf(".",t-1);if(0>=r||r>=t-1)return null;var i=n.list[e.slice(t+1)];return i?i.indexOf(" "+e.slice(r+1,t)+" ")<0?null:e.slice(r+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return n}),/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.13.2
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *   GPL v3 http://opensource.org/licenses/GPL-3.0
 *
 */
function(e,t){"object"==typeof exports?module.exports=t(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define("uri/URI",["./punycode","./IPv6","./SecondLevelDomains"],t):e.URI=t(e.punycode,e.IPv6,e.SecondLevelDomains,e)}(this,function(e,t,n,r){function i(e,t){return this instanceof i?(void 0===e&&(e="undefined"!=typeof location?location.href+"":""),this.href(e),void 0!==t?this.absoluteTo(t):this):new i(e,t)}function o(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function a(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function s(e){return"Array"===a(e)}function u(e,t){var n,r,i={};if(s(t))for(n=0,r=t.length;r>n;n++)i[t[n]]=!0;else i[t]=!0;for(n=0,r=e.length;r>n;n++)void 0!==i[e[n]]&&(e.splice(n,1),r--,n--);return e}function l(e,t){var n,r;if(s(t)){for(n=0,r=t.length;r>n;n++)if(!l(e,t[n]))return!1;return!0}var i=a(t);for(n=0,r=e.length;r>n;n++)if("RegExp"===i){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function c(e,t){if(!s(e)||!s(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,r=e.length;r>n;n++)if(e[n]!==t[n])return!1;return!0}function d(e){return escape(e)}function f(e){return encodeURIComponent(e).replace(/[!'()*]/g,d).replace(/\*/g,"%2A")}var p=r&&r.URI;i.version="1.13.2";var h=i.prototype,m=Object.prototype.hasOwnProperty;i._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:i.duplicateQueryParameters,escapeQuerySpace:i.escapeQuerySpace}},i.duplicateQueryParameters=!1,i.escapeQuerySpace=!0,i.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,i.idn_expression=/[^a-z0-9\.-]/i,i.punycode_expression=/(xn--)/i,i.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,i.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/gi,i.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?]+$/},i.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},i.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,i.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"},i.getDomAttribute=function(e){if(!e||!e.nodeName)return void 0;var t=e.nodeName.toLowerCase();return"input"===t&&"image"!==e.type?void 0:i.domAttributes[t]},i.encode=f,i.decode=decodeURIComponent,i.iso8859=function(){i.encode=escape,i.decode=unescape},i.unicode=function(){i.encode=f,i.decode=decodeURIComponent},i.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},i.encodeQuery=function(e,t){var n=i.encode(e+"");return void 0===t&&(t=i.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},i.decodeQuery=function(e,t){e+="",void 0===t&&(t=i.escapeQuerySpace);try{return i.decode(t?e.replace(/\+/g,"%20"):e)}catch(n){return e}},i.recodePath=function(e){for(var t=(e+"").split("/"),n=0,r=t.length;r>n;n++)t[n]=i.encodePathSegment(i.decode(t[n]));return t.join("/")},i.decodePath=function(e){for(var t=(e+"").split("/"),n=0,r=t.length;r>n;n++)t[n]=i.decodePathSegment(t[n]);return t.join("/")};var g,v={encode:"encode",decode:"decode"},y=function(e,t){return function(n){return i[t](n+"").replace(i.characters[e][t].expression,function(n){return i.characters[e][t].map[n]})}};for(g in v)i[g+"PathSegment"]=y("pathname",v[g]);i.encodeReserved=y("reserved","encode"),i.parse=function(e,t){var n;return t||(t={}),n=e.indexOf("#"),n>-1&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),n=e.indexOf("?"),n>-1&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=i.parseAuthority(e,t)):(n=e.indexOf(":"),n>-1&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(i.protocol_expression)?t.protocol=void 0:"file"===t.protocol?e=e.substring(n+3):"//"===e.substring(n+1,n+3)?(e=e.substring(n+3),e=i.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0))),t.path=e,t},i.parseHost=function(e,t){var n,r,i=e.indexOf("/");return-1===i&&(i=e.length),"["===e.charAt(0)?(n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,i)||null,"/"===t.port&&(t.port=null)):e.indexOf(":")!==e.lastIndexOf(":")?(t.hostname=e.substring(0,i)||null,t.port=null):(r=e.substring(0,i).split(":"),t.hostname=r[0]||null,t.port=r[1]||null),t.hostname&&"/"!==e.substring(i).charAt(0)&&(i++,e="/"+e),e.substring(i)||"/"},i.parseAuthority=function(e,t){return e=i.parseUserinfo(e,t),i.parseHost(e,t)},i.parseUserinfo=function(e,t){var n,r=e.indexOf("/"),o=r>-1?e.lastIndexOf("@",r):e.indexOf("@");return o>-1&&(-1===r||r>o)?(n=e.substring(0,o).split(":"),t.username=n[0]?i.decode(n[0]):null,n.shift(),t.password=n[0]?i.decode(n.join(":")):null,e=e.substring(o+1)):(t.username=null,t.password=null),e},i.parseQuery=function(e,t){if(!e)return{};if(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!e)return{};for(var n,r,o,a={},s=e.split("&"),u=s.length,l=0;u>l;l++)n=s[l].split("="),r=i.decodeQuery(n.shift(),t),o=n.length?i.decodeQuery(n.join("="),t):null,a[r]?("string"==typeof a[r]&&(a[r]=[a[r]]),a[r].push(o)):a[r]=o;return a},i.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=i.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},i.buildHost=function(e){var t="";return e.hostname?(t+=i.ip6_expression.test(e.hostname)?"["+e.hostname+"]":e.hostname,e.port&&(t+=":"+e.port),t):""},i.buildAuthority=function(e){return i.buildUserinfo(e)+i.buildHost(e)},i.buildUserinfo=function(e){var t="";return e.username&&(t+=i.encode(e.username),e.password&&(t+=":"+i.encode(e.password)),t+="@"),t},i.buildQuery=function(e,t,n){var r,o,a,u,l="";for(o in e)if(m.call(e,o)&&o)if(s(e[o]))for(r={},a=0,u=e[o].length;u>a;a++)void 0!==e[o][a]&&void 0===r[e[o][a]+""]&&(l+="&"+i.buildQueryParameter(o,e[o][a],n),t!==!0&&(r[e[o][a]+""]=!0));else void 0!==e[o]&&(l+="&"+i.buildQueryParameter(o,e[o],n));return l.substring(1)},i.buildQueryParameter=function(e,t,n){return i.encodeQuery(e,n)+(null!==t?"="+i.encodeQuery(t,n):"")},i.addQuery=function(e,t,n){if("object"==typeof t)for(var r in t)m.call(t,r)&&i.addQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=n);"string"==typeof e[t]&&(e[t]=[e[t]]),s(n)||(n=[n]),e[t]=e[t].concat(n)}},i.removeQuery=function(e,t,n){var r,o,a;if(s(t))for(r=0,o=t.length;o>r;r++)e[t[r]]=void 0;else if("object"==typeof t)for(a in t)m.call(t,a)&&i.removeQuery(e,a,t[a]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");void 0!==n?e[t]===n?e[t]=void 0:s(e[t])&&(e[t]=u(e[t],n)):e[t]=void 0}},i.hasQuery=function(e,t,n,r){if("object"==typeof t){for(var o in t)if(m.call(t,o)&&!i.hasQuery(e,o,t[o]))return!1;return!0}if("string"!=typeof t)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(a(n)){case"Undefined":return t in e;case"Boolean":var u=Boolean(s(e[t])?e[t].length:e[t]);return n===u;case"Function":return!!n(e[t],t,e);case"Array":if(!s(e[t]))return!1;var d=r?l:c;return d(e[t],n);case"RegExp":return s(e[t])?r?l(e[t],n):!1:Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return s(e[t])?r?l(e[t],n):!1:e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},i.commonPath=function(e,t){var n,r=Math.min(e.length,t.length);for(n=0;r>n;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return 1>n?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":(("/"!==e.charAt(n)||"/"!==t.charAt(n))&&(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},i.withinString=function(e,t,n){n||(n={});var r=n.start||i.findUri.start,o=n.end||i.findUri.end,a=n.trim||i.findUri.trim,s=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var u=r.exec(e);if(!u)break;var l=u.index;if(n.ignoreHtml){var c=e.slice(Math.max(l-3,0),l);if(c&&s.test(c))continue}var d=l+e.slice(l).search(o),f=e.slice(l,d).replace(a,"");if(!n.ignore||!n.ignore.test(f)){d=l+f.length;var p=t(f,l,d,e);e=e.slice(0,l)+p+e.slice(d),r.lastIndex=l+p.length}}return r.lastIndex=0,e},i.ensureValidHostname=function(t){if(t.match(i.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(e.toASCII(t).match(i.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]')}},i.noConflict=function(e){if(e){var t={URI:this.noConflict()};return r.URITemplate&&"function"==typeof r.URITemplate.noConflict&&(t.URITemplate=r.URITemplate.noConflict()),r.IPv6&&"function"==typeof r.IPv6.noConflict&&(t.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&"function"==typeof r.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=r.SecondLevelDomains.noConflict()),t}return r.URI===this&&(r.URI=p),this},h.build=function(e){return e===!0?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=i.build(this._parts),this._deferred_build=!1),this},h.clone=function(){return new i(this)},h.valueOf=h.toString=function(){return this.build(!1)._string},v={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"},y=function(e){return function(t,n){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}};for(g in v)h[g]=y(v[g]);v={query:"?",fragment:"#"},y=function(e,t){return function(n,r){return void 0===n?this._parts[e]||"":(null!==n&&(n+="",n.charAt(0)===t&&(n=n.substring(1))),this._parts[e]=n,this.build(!r),this)}};for(g in v)h[g]=y(g,v[g]);v={search:["?","query"],hash:["#","fragment"]},y=function(e,t){return function(n,r){var i=this[e](n,r);return"string"==typeof i&&i.length?t+i:i}};for(g in v)h[g]=y(v[g][1],v[g][0]);h.pathname=function(e,t){if(void 0===e||e===!0){var n=this._parts.path||(this._parts.hostname?"/":"");return e?i.decodePath(n):n}return this._parts.path=e?i.recodePath(e):"/",this.build(!t),this},h.path=h.pathname,h.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=i._parts();var r=e instanceof i,o="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName){var a=i.getDomAttribute(e);e=e[a]||"",o=!1}if(!r&&o&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e)this._parts=i.parse(e,this._parts);else{if(!r&&!o)throw new TypeError("invalid input");var s=r?e._parts:e;for(n in s)m.call(this._parts,n)&&(this._parts[n]=s[n])}return this.build(!t),this},h.is=function(e){var t=!1,r=!1,o=!1,a=!1,s=!1,u=!1,l=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,r=i.ip4_expression.test(this._parts.hostname),o=i.ip6_expression.test(this._parts.hostname),t=r||o,a=!t,s=a&&n&&n.has(this._parts.hostname),u=a&&i.idn_expression.test(this._parts.hostname),l=a&&i.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return a;case"sld":return s;case"ip":return t;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return o;case"idn":return u;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return l}return null};var b=h.protocol,w=h.port,x=h.hostname;h.protocol=function(e,t){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(i.protocol_expression)))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return b.call(this,e,t)},h.scheme=h.protocol,h.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError('Port "'+e+'" contains characters other than [0-9]');return w.call(this,e,t)},h.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={};i.parseHost(e,n),e=n.hostname}return x.call(this,e,t)},h.host=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?i.buildHost(this._parts):"":(i.parseHost(e,this._parts),this.build(!t),this)},h.authority=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?i.buildAuthority(this._parts):"":(i.parseAuthority(e,this._parts),this.build(!t),this)},h.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.username)return"";var n=i.buildUserinfo(this._parts);return n.substring(0,n.length-1)}return"@"!==e[e.length-1]&&(e+="@"),i.parseUserinfo(e,this._parts),this.build(!t),this},h.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=i.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},h.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var r=this._parts.hostname.length-this.domain().length,a=this._parts.hostname.substring(0,r),s=new RegExp("^"+o(a));return e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&i.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(s,e),this.build(!t),this},h.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var r=this._parts.hostname.length-this.tld(t).length-1;return r=this._parts.hostname.lastIndexOf(".",r-1)+1,this._parts.hostname.substring(r)||""}if(!e)throw new TypeError("cannot set domain empty");if(i.ensureValidHostname(e),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var a=new RegExp(o(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(a,e)}return this.build(!t),this},h.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.lastIndexOf("."),i=this._parts.hostname.substring(r+1);return t!==!0&&n&&n.list[i.toLowerCase()]?n.get(this._parts.hostname)||i:i}var a;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');a=new RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");a=new RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,e)}return this.build(!t),this},h.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,r=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?i.decodePath(r):r}var a=this._parts.path.length-this.filename().length,s=this._parts.path.substring(0,a),u=new RegExp("^"+o(s));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=i.recodePath(e),this._parts.path=this._parts.path.replace(u,e),this.build(!t),this},h.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),r=this._parts.path.substring(n+1);return e?i.decodePathSegment(r):r}var a=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(a=!0);var s=new RegExp(o(this.filename())+"$");return e=i.recodePath(e),this._parts.path=this._parts.path.replace(s,e),a?this.normalizePath(t):this.build(!t),this},h.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var n,r,a=this.filename(),s=a.lastIndexOf(".");return-1===s?"":(n=a.substring(s+1),r=/^[a-z0-9%]+$/i.test(n)?n:"",e?i.decodePathSegment(r):r)}"."===e.charAt(0)&&(e=e.substring(1));var u,l=this.suffix();if(l)u=new RegExp(e?o(l)+"$":o("."+l)+"$");else{if(!e)return this;this._parts.path+="."+i.recodePath(e)}return u&&(e=i.recodePath(e),this._parts.path=this._parts.path.replace(u,e)),this.build(!t),this},h.segment=function(e,t,n){var r=this._parts.urn?":":"/",i=this.path(),o="/"===i.substring(0,1),a=i.split(r);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(o&&a.shift(),0>e&&(e=Math.max(a.length+e,0)),void 0===t)return void 0===e?a:a[e];if(null===e||void 0===a[e])if(s(t)){a=[];for(var u=0,l=t.length;l>u;u++)(t[u].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(t[u]))}else(t||"string"==typeof t)&&(""===a[a.length-1]?a[a.length-1]=t:a.push(t));else t||"string"==typeof t&&t.length?a[e]=t:a.splice(e,1);return o&&a.unshift(""),this.path(a.join(r),n)},h.segmentCoded=function(e,t,n){var r,o,a;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(r=this.segment(e,t,n),s(r))for(o=0,a=r.length;a>o;o++)r[o]=i.decode(r[o]);else r=void 0!==r?i.decode(r):void 0;return r}if(s(t))for(o=0,a=t.length;a>o;o++)t[o]=i.decode(t[o]);else t="string"==typeof t?i.encode(t):t;return this.segment(e,t,n)};var _=h.query;return h.query=function(e,t){if(e===!0)return i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=e.call(this,n);return this._parts.query=i.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=i.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):_.call(this,e,t)},h.setQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"==typeof e)for(var o in e)m.call(e,o)&&(r[o]=e[o]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");r[e]=void 0!==t?t:null}return this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},h.addQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.addQuery(r,e,void 0===t?null:t),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},h.removeQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.removeQuery(r,e,t),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},h.hasQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.hasQuery(r,e,t,n)},h.setSearch=h.setQuery,h.addSearch=h.addQuery,h.removeSearch=h.removeQuery,h.hasSearch=h.hasQuery,h.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},h.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},h.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},h.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===i.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},h.normalizePath=function(e){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var t,n,r,o=this._parts.path,a="";for("/"!==o.charAt(0)&&(t=!0,o="/"+o),o=o.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(a=o.substring(1).match(/^(\.\.\/)+/)||"",a&&(a=a[0]));;){if(n=o.indexOf("/.."),-1===n)break;0!==n?(r=o.substring(0,n).lastIndexOf("/"),-1===r&&(r=n),o=o.substring(0,r)+o.substring(n+3)):o=o.substring(3)}return t&&this.is("relative")&&(o=a+o.substring(1)),o=i.recodePath(o),this._parts.path=o,this.build(!e),this},h.normalizePathname=h.normalizePath,h.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(i.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},h.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},h.normalizeSearch=h.normalizeQuery,h.normalizeHash=h.normalizeFragment,h.iso8859=function(){var e=i.encode,t=i.decode;return i.encode=escape,i.decode=decodeURIComponent,this.normalize(),i.encode=e,i.decode=t,this},h.unicode=function(){var e=i.encode,t=i.decode;return i.encode=f,i.decode=unescape,this.normalize(),i.encode=e,i.decode=t,this},h.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";if(t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/"),n+=t.path(!0),t._parts.query){for(var r="",o=0,a=t._parts.query.split("&"),s=a.length;s>o;o++){var u=(a[o]||"").split("=");r+="&"+i.decodeQuery(u[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==u[1]&&(r+="="+i.decodeQuery(u[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+r.substring(1)}return n+=i.decodeQuery(t.hash(),!0)},h.absoluteTo=function(e){var t,n,r,o=this.clone(),a=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof i||(e=new i(e)),o._parts.protocol||(o._parts.protocol=e._parts.protocol),this._parts.hostname)return o;for(n=0;r=a[n];n++)o._parts[r]=e._parts[r];return o._parts.path?".."===o._parts.path.substring(-2)&&(o._parts.path+="/"):(o._parts.path=e._parts.path,o._parts.query||(o._parts.query=e._parts.query)),"/"!==o.path().charAt(0)&&(t=e.directory(),o._parts.path=(t?t+"/":"")+o._parts.path,o.normalizePath()),o.build(),o},h.relativeTo=function(e){var t,n,r,o,a,s=this.clone().normalize();if(s._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new i(e).normalize(),t=s._parts,n=e._parts,o=s.path(),a=e.path(),"/"!==o.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return s.build();if(null!==t.protocol||null!==t.username||null!==t.password)return s.build();if(t.hostname!==n.hostname||t.port!==n.port)return s.build();if(t.hostname=null,t.port=null,o===a)return t.path="",s.build();if(r=i.commonPath(s.path(),e.path()),!r)return s.build();var u=n.path.substring(r.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=u+t.path.substring(r.length),s.build()},h.equals=function(e){var t,n,r,o=this.clone(),a=new i(e),u={},l={},d={};if(o.normalize(),a.normalize(),o.toString()===a.toString())return!0;if(t=o.query(),n=a.query(),o.query(""),a.query(""),o.toString()!==a.toString())return!1;if(t.length!==n.length)return!1;u=i.parseQuery(t,this._parts.escapeQuerySpace),l=i.parseQuery(n,this._parts.escapeQuerySpace);for(r in u)if(m.call(u,r)){if(s(u[r])){if(!c(u[r],l[r]))return!1}else if(u[r]!==l[r])return!1;d[r]=!0}for(r in l)if(m.call(l,r)&&!d[r])return!1;return!0},h.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},h.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},i}),/*!
 * URI.js - Mutating URLs
 * URI Template Support - http://tools.ietf.org/html/rfc6570
 *
 * Version: 1.13.2
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *   GPL v3 http://opensource.org/licenses/GPL-3.0
 *
 */
function(e,t){"object"==typeof exports?module.exports=t(require("./URI")):"function"==typeof define&&define.amd?define("uri/URITemplate",["./URI"],t):e.URITemplate=t(e.URI,e)}(this,function(e,t){function n(e){return n._cache[e]?n._cache[e]:this instanceof n?(this.expression=e,n._cache[e]=this,this):new n(e)}function r(e){this.data=e,this.cache={}}var i=t&&t.URITemplate,o=Object.prototype.hasOwnProperty,a=n.prototype,s={"":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encode"},"+":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},"#":{prefix:"#",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},".":{prefix:".",separator:".",named:!1,empty_name_separator:!1,encode:"encode"},"/":{prefix:"/",separator:"/",named:!1,empty_name_separator:!1,encode:"encode"},";":{prefix:";",separator:";",named:!0,empty_name_separator:!1,encode:"encode"},"?":{prefix:"?",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"},"&":{prefix:"&",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"}};return n._cache={},n.EXPRESSION_PATTERN=/\{([^a-zA-Z0-9%_]?)([^\}]+)(\}|$)/g,n.VARIABLE_PATTERN=/^([^*:]+)((\*)|:(\d+))?$/,n.VARIABLE_NAME_PATTERN=/[^a-zA-Z0-9%_]/,n.expand=function(e,t){var r,i,o,a=s[e.operator],u=a.named?"Named":"Unnamed",l=e.variables,c=[];for(o=0;i=l[o];o++)r=t.get(i.name),r.val.length?c.push(n["expand"+u](r,a,i.explode,i.explode&&a.separator||",",i.maxlength,i.name)):r.type&&c.push("");return c.length?a.prefix+c.join(a.separator):""},n.expandNamed=function(t,n,r,i,o,a){var s,u,l,c="",d=n.encode,f=n.empty_name_separator,p=!t[d].length,h=2===t.type?"":e[d](a);for(u=0,l=t.val.length;l>u;u++)o?(s=e[d](t.val[u][1].substring(0,o)),2===t.type&&(h=e[d](t.val[u][0].substring(0,o)))):p?(s=e[d](t.val[u][1]),2===t.type?(h=e[d](t.val[u][0]),t[d].push([h,s])):t[d].push([void 0,s])):(s=t[d][u][1],2===t.type&&(h=t[d][u][0])),c&&(c+=i),r?c+=h+(f||s?"=":"")+s:(u||(c+=e[d](a)+(f||s?"=":"")),2===t.type&&(c+=h+","),c+=s);return c},n.expandUnnamed=function(t,n,r,i,o){var a,s,u,l,c="",d=n.encode,f=n.empty_name_separator,p=!t[d].length;for(u=0,l=t.val.length;l>u;u++)o?s=e[d](t.val[u][1].substring(0,o)):p?(s=e[d](t.val[u][1]),t[d].push([2===t.type?e[d](t.val[u][0]):void 0,s])):s=t[d][u][1],c&&(c+=i),2===t.type&&(a=o?e[d](t.val[u][0].substring(0,o)):t[d][u][0],c+=a,c+=r?f||s?"=":"":","),c+=s;return c},n.noConflict=function(){return t.URITemplate===n&&(t.URITemplate=i),n},a.expand=function(e){var t="";this.parts&&this.parts.length||this.parse(),e instanceof r||(e=new r(e));for(var i=0,o=this.parts.length;o>i;i++)t+="string"==typeof this.parts[i]?this.parts[i]:n.expand(this.parts[i],e);return t},a.parse=function(){var e,t,r,i=this.expression,o=n.EXPRESSION_PATTERN,a=n.VARIABLE_PATTERN,u=n.VARIABLE_NAME_PATTERN,l=[],c=0;for(o.lastIndex=0;;){if(t=o.exec(i),null===t){l.push(i.substring(c));break}if(l.push(i.substring(c,t.index)),c=t.index+t[0].length,!s[t[1]])throw new Error('Unknown Operator "'+t[1]+'" in "'+t[0]+'"');if(!t[3])throw new Error('Unclosed Expression "'+t[0]+'"');e=t[2].split(",");for(var d=0,f=e.length;f>d;d++){if(r=e[d].match(a),null===r)throw new Error('Invalid Variable "'+e[d]+'" in "'+t[0]+'"');if(r[1].match(u))throw new Error('Invalid Variable Name "'+r[1]+'" in "'+t[0]+'"');e[d]={name:r[1],explode:!!r[3],maxlength:r[4]&&parseInt(r[4],10)}}if(!e.length)throw new Error('Expression Missing Variable(s) "'+t[0]+'"');l.push({expression:t[0],operator:t[1],variables:e})}return l.length||l.push(i),this.parts=l,this},r.prototype.get=function(e){var t,n,r,i=this.data,a={type:0,val:[],encode:[],encodeReserved:[]};if(void 0!==this.cache[e])return this.cache[e];if(this.cache[e]=a,r="[object Function]"===String(Object.prototype.toString.call(i))?i(e):"[object Function]"===String(Object.prototype.toString.call(i[e]))?i[e](e):i[e],void 0===r||null===r)return a;if("[object Array]"===String(Object.prototype.toString.call(r))){for(t=0,n=r.length;n>t;t++)void 0!==r[t]&&null!==r[t]&&a.val.push([void 0,String(r[t])]);a.val.length&&(a.type=3)}else if("[object Object]"===String(Object.prototype.toString.call(r))){for(t in r)o.call(r,t)&&void 0!==r[t]&&null!==r[t]&&a.val.push([t,String(r[t])]);a.val.length&&(a.type=2)}else a.type=1,a.val.push([void 0,String(r)]);return a},e.expand=function(t,r){var i=new n(t),o=i.expand(r);return new e(o)},n}),define("apis.wikimetrics",["require","config","dataConverterFactory","uri/URI","converters.timeseries","uri/URITemplate","logger"],function(e){function t(e){this.root=e.wikimetricsApi.endpoint,this.config=e,this.dataConverter=a.getDataConverter(e.wikimetricsApi.format)}function n(e,t){this.code=e.name,this.name=t&&t[e.name]?t[e.name]:e.name,this.languages=e.languages,this.description=e.description}function r(e){this.name=e.name,this.projects=e.projects,this.description=e.description,this.shortName=e.shortName}function i(e){this.database=e.database,this.project=e.project,this.language=e.language}var o=e("config"),a=e("dataConverterFactory"),s=e("uri/URI"),u=e("converters.timeseries");return e("uri/URITemplate"),e("logger"),t.prototype.getData=function(e,t){var n=$.Deferred(),r=s.expand("https://{root}/static/public/datafiles/{metric}/{project}.json",{root:this.root,metric:e.name,project:t}).toString();return this._getJSON(r).done(function(t){var r={};r[e.name]=e.submetric||e.defaultSubmetric;var i={defaultSubmetrics:r};n.resolve(this.dataConverter(i,t))}.bind(this)).fail(function(e){n.resolve(new u),logger.error(e)}),n.promise()},t.prototype.getProjectAndLanguageChoices=function(e){var t=this.config.wikimetricsApi.urlProjectLanguageChoices;return this._getJSON(t).pipe(this._convertSiteMap.bind(this)).done(e)},t.prototype._getJSON=function(e){return $.ajax({dataType:"json",url:e})},t.prototype._convertSiteMap=function(e){var t=Array.prototype.map,o=this,a=Object.getOwnPropertyNames(e.reverse),s={},u={};return o.defaultProjects=e.defaultProjects,o.reverseLookup={},o.projectOptions=t.call(e.projects,function(t){var r=new n(t,e.prettyProjectNames);return s[r.code]=r,r}),o.languageOptions=t.call(e.languages,function(e){var t=new r(e);return u[t.name]=t,t}),a.forEach(function(t){var n=e.reverse[t];o.reverseLookup[t]=new i({database:t,project:s[n.project],language:u[n.language]})}),o},new t(o)});/**
 * @license
 * Copyright 2016 Thomas Steiner (@tomayac). All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0

 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var request,USER_AGENT="pageviews.js",environment="undefined"==typeof window?"node":"browser";if("node"===environment){request=require("request");var packageJson=require("./package.json");USER_AGENT="pageviews.js-v"+packageJson.version+" ("+packageJson.repository.url+")"}else request=function(e,t){var n=new XMLHttpRequest;n.addEventListener("load",function(){return t(null,{statusCode:this.status},this.responseText)}),n.addEventListener("error",function(e){return t(e)}),n.open("GET",e.url),n.send()};var pageviews=function(){var e="https://wikimedia.org/api/rest_v1",t={"default":"all-access",allowed:["all-access","desktop","mobile-web","mobile-app"]},n={"default":"all-sites",allowed:["all-sites","desktop-site","mobile-site"]},r={"default":"all-agents",allowed:["all-agents","user","spider","bot"]},i={"default":"hourly",allowed:["daily","hourly","monthly"]},o={"default":"daily",allowed:["daily"]},a={"default":"daily",allowed:["daily","monthly"]},s=function(e,s){var u=function(e){return 10>e?"0"+e:e.toString()};if(!e)return new Error("Required parameters missing.");if(!e.project&&!e.projects)return new Error("getAggregatedPageviews"===s||"getTopPageviews"===s?'Required parameter "project" or "projects" missing.':'Required parameter "project" missing.');if(e.project&&"all-projects"!==e.project&&"wikidata"!==e.project&&-1===e.project.indexOf("."))return new Error('Required parameter "project" invalid.');if(!("getAggregatedPageviews"!==s&&"getTopPageviews"!==s||!e.projects||"all-projects"==e.projects||Array.isArray(e.projects)&&e.projects.length&&!e.projects.filter(function(e){return-1===e.indexOf(".")&&"all-projects"!==e&&"wikidata"!==e}).length))return new Error('Required parameter "projects" invalid.');if("getPerArticlePageviews"===s){if(!e.article&&!e.articles)return new Error('Required parameter "article" or "articles" missing.');if(e.articles&&(!Array.isArray(e.articles)||!e.articles.length))return new Error('Required parameter "articles" invalid.')}if("getPerArticlePageviews"===s||"getUniqueDevices"===s){if(!e.start)return new Error('Required parameter "start" missing.');if(e.start="object"==typeof e.start?e.start.getUTCFullYear()+u(e.start.getUTCMonth()+1)+u(e.start.getUTCDate()):e.start,!/^(?:19|20)\d\d[- \/.]?(?:0[1-9]|1[012])[- \/.]?(?:0[1-9]|[12][0-9]|3[01])$/.test(e.start))return new Error('Required parameter "start" invalid.');if(!e.end)return new Error('Required parameter "end" missing.');if(e.end="object"==typeof e.end?e.end.getUTCFullYear()+u(e.end.getUTCMonth()+1)+u(e.end.getUTCDate()):e.end,!/^(19|20)\d\d[- \/.]?(0[1-9]|1[012])[- \/.]?(0[1-9]|[12][0-9]|3[01])$/.test(e.end))return new Error('Required parameter "end" invalid.')}else if("getAggregatedPageviews"===s){if(!e.start)return new Error('Required parameter "start" missing.');if(e.start="object"==typeof e.start?e.start.getUTCFullYear()+u(e.start.getUTCMonth()+1)+(u(e.start.getUTCDate())+u(e.start.getUTCHours())):e.start,!/^(?:19|20)\d\d[- \/.]?(?:0[1-9]|1[012])[- \/.]?(?:0[1-9]|[12][0-9]|3[01])[- \/.]?(?:[012][0-9])$/.test(e.start))return new Error('Required parameter "start" missing or invalid.');if(!e.end)return new Error('Required parameter "end" missing.');if(e.end="object"==typeof e.end?e.end.getUTCFullYear()+u(e.end.getUTCMonth()+1)+u(e.end.getUTCDate())+u(e.end.getUTCHours()):e.end,!/^(19|20)\d\d[- \/.]?(0[1-9]|1[012])[- \/.]?(0[1-9]|[12][0-9]|3[01])[- \/.]?(?:[012][0-9])$/.test(e.end))return new Error('Required parameter "end" missing or invalid.')}if("getTopPageviews"===s){if(e.date&&(e.date="object"==typeof e.date?e.date:new Date(e.date.substr(0,4)+"-"+e.date.substr(4,2)+"-"+e.date.substr(6,2)),e.year=e.date.getUTCFullYear(),e.month=u(e.date.getUTCMonth()+1),e.day=u(e.date.getUTCDate())),!e.year||!/^(?:19|20)\d\d$/.test(e.year))return new Error('Required parameter "year" missing or invalid.');if(!e.month||!/^(?:0?[1-9]|1[012])$/.test(e.month))return new Error('Required parameter "month" missing or invalid.');if(!e.day||!/^(?:0?[1-9]|[12][0-9]|3[01])$/.test(e.day))return new Error('Required parameter "day" missing or invalid.');if(e.limit&&!/^\d+$/.test(e.limit)&&0<e.limit&&e.limit<=1e3)return new Error('Invalid optional parameter "limit".')}if(e.access&&-1===t.allowed.indexOf(e.access))return new Error('Invalid optional parameter "access".');if(e.accessSite&&-1===n.allowed.indexOf(e.accessSite))return new Error('Invalid optional parameter "accessSite".');if(e.agent&&-1===r.allowed.indexOf(e.agent))return new Error('Invalid optional parameter "agent".');if(e.granularity)if("getAggregatedPageviews"===s){if(-1===i.allowed.indexOf(e.granularity))return new Error('Invalid optional parameter "granularity".')}else if("getPerArticlePageviews"===s){if(-1===o.allowed.indexOf(e.granularity))return new Error('Invalid optional parameter "granularity".')}else if("getUniqueDevices"===s&&-1===a.allowed.indexOf(e.granularity))return new Error('Invalid optional parameter "granularity".');return e},u=function(e,t,n){var r;if(e||200!==t.statusCode){if(e)return e;if(404===t.statusCode)try{return r=JSON.parse(n),new Error(r.detail)}catch(i){return new Error(i)}return new Error("Status code "+t.statusCode)}try{r=JSON.parse(n)}catch(i){return new Error(i)}return r},l=function(n){return new Promise(function(i,a){if(n=s(n,"getPerArticlePageviews"),n.stack)return a(n);if(n.articles){var c=[];return n.articles.map(function(e,t){var r=n;delete r.articles,r.article=e,c[t]=l(r)}),i(Promise.all(c))}var d=n.project,f=encodeURIComponent(n.article.replace(/\s/g,"_")),p=n.start,h=n.end,m=n.access?n.access:t["default"],g=n.agent?n.agent:r["default"],v=n.granularity?n.granularity:o["default"],y={url:e+"/metrics/pageviews/per-article/"+d+"/"+m+"/"+g+"/"+f+"/"+v+"/"+p+"/"+h,headers:{"User-Agent":USER_AGENT}};request(y,function(e,t,n){var r=u(e,t,n);return r.stack?a(r):i(r)})})},c=function(n){return new Promise(function(o,a){if(n=s(n,"getAggregatedPageviews"),n.stack)return a(n);if("all-projects"===n.projects&&(n.projects=null,n.project="all-projects"),n.projects){var l=[];return n.projects.map(function(e,t){var r=n;delete r.projects,r.project=e,l[t]=c(r)}),o(Promise.all(l))}var d=n.project,f=n.start,p=n.end,h=n.access?n.access:t["default"],m=n.agent?n.agent:r["default"],g=n.granularity?n.granularity:i["default"],v={url:e+"/metrics/pageviews/aggregate/"+d+"/"+h+"/"+m+"/"+g+"/"+f+"/"+p,headers:{"User-Agent":USER_AGENT}};request(v,function(e,t,n){var r=u(e,t,n);return r.stack?a(r):o(r)})})},d=function(n){return new Promise(function(r,i){if(n=s(n,"getTopPageviews"),n.stack)return i(n);if(n.projects){var o=[];return n.projects.map(function(e,t){var r=n;delete r.projects,r.project=e,o[t]=d(r)}),r(Promise.all(o))}var a=n.project,l=n.year,c="number"==typeof n.month&&n.month<10?"0"+n.month:n.month,f="number"==typeof n.day&&n.day<10?"0"+n.day:n.day,p=n.limit||!1,h=n.access?n.access:t["default"],m={url:e+"/metrics/pageviews/top/"+a+"/"+h+"/"+l+"/"+c+"/"+f,headers:{"User-Agent":USER_AGENT}};request(m,function(e,t,n){var o=u(e,t,n);return o.stack?i(o):(p&&(o.items[0].articles=o.items[0].articles.slice(0,p)),r(o))})})},f=function(){return new Promise(function(t,n){var r={url:e+"/metrics/pageviews/",headers:{"User-Agent":USER_AGENT}};request(r,function(e,r,i){var o=u(e,r,i);return o.stack?n(o):t(o)})})},p=function(t){return new Promise(function(r,i){if(t=s(t,"getUniqueDevices"),t.stack)return i(t);var o=t.project,l=t.start,c=t.end,d=t.accessSite?t.accessSite:n["default"],f=t.granularity?t.granularity:a["default"],p={url:e+"/metrics/unique-devices/"+o+"/"+d+"/"+f+"/"+l+"/"+c,headers:{"User-Agent":USER_AGENT}};request(p,function(e,t,n){var o=u(e,t,n);return o.stack?i(o):r(o)})})};return{getPageviewsDimensions:f,getPerArticlePageviews:l,getAggregatedPageviews:c,getTopPageviews:d,getUniqueDevices:p}}();"node"===environment&&(module.exports=pageviews),define("pageviews",function(e){return function(){var t;return t||e.pageviews}}(this)),define("sitematrix",["require","lodash","logger"],function(e){function t(){}var n=e("lodash"),r=e("logger");return t.cache=null,t.prototype.getProjectUrl=function(e,i){var o=e.sitematrix.endpoint,a=new $.Deferred;if(t.cache){var s=t.cache[i];s?a.resolve(s):a.reject("Could not find url for project!")}else $.ajax({url:o,dataType:"jsonp",cache:!0}).then(function(e){var r={};n.forEach(e.sitematrix,function(e){var t;t=e.site?e.site:e,n.forEach(t,function(e){var t=e.url.replace(/https:\/\/(www\.)?/,"");r[e.dbname]=t,r[t]=e.dbname})}),t.cache||(r.all="all-projects",t.cache=r),r[i]?a.resolve(r[i]):a.reject("Could not find url for project!")}).fail(function(e){r.error(e),a.reject(e)});return a.promise()},new t}),define("apis.aqs",["require","config","dataConverterFactory","logger","moment","pageviews","lodash","converters.timeseries","sitematrix","uri/URITemplate"],function(e){function t(e){this.config=e,this.dataConverters=s.mapValues(e.aqsApi,function(e){return r.getDataConverter("aqs-api-response",e.valueField)})}var n=e("config"),r=e("dataConverterFactory"),i=e("logger"),o=e("moment"),a=e("pageviews"),s=e("lodash"),u=e("converters.timeseries"),l=e("sitematrix");return e("uri/URITemplate"),t.prototype.getData=function(e,t,n){var r=new $.Deferred,c=this.config.aqsApi[e.name],d=this.dataConverters[e.name];if(!c)return r.resolve(new u),r.promise();n&&n.length||(n=["All"]),n=s.map(n,function(e){return c.breakdownOptions[e]});var f=l.getProjectUrl(this.config,t);return f.done(function(l){var f=[],p=e.granularity||"daily",h=o().format(c.dateFormat[p]),m=s.camelCase(c.breakdownParameter);s.forEach(n,function(e){var t={project:l,agent:"user",granularity:p,start:c.dataStart,end:h};t[m]=e,f.push(a[c.endpoint](t))}),Promise.all(f).then(function(e){var n=[];m=s.kebabCase(c.breakdownParameter),s.forEach(e,function(e){var r={label:t,pattern:e.items[0][m]};n.push(d(r,e))}),r.resolve(n)}.bind(this),function(e){r.resolve(new u),i.error(e)}).catch(function(e){r.resolve(new u),i.error(e)})}.bind(this)),f.fail(function(){r.resolve(new u)}),r.promise()},new t(n)}),define("apis.datasets",["require","config","dataConverterFactory","converters.timeseries","uri/URI","logger","uri/URITemplate"],function(e){function t(e){this.root=e.datasetsApi.endpoint,this.config=e.datasetsApi}var n=e("config"),r=e("dataConverterFactory"),i=e("converters.timeseries"),o=e("uri/URI"),a=e("logger");return e("uri/URITemplate"),t.prototype.getData=function(e,t){var n=new $.Deferred,s="",u=r.getDataConverter(this.config.format),l=function(e){n.resolve(new i([])),a.error(e)};if(e.metric)s=this.root+o.expand("/{metric}/{submetric}/{project}.{format}",{metric:e.metric,submetric:e.submetric,project:t,format:this.config.format}).toString();else{if(!e.path)return l("When calling getData, the metricInfo parameter needs either a metric/submetric or a path"),n.promise();s=o(this.root+"/"+e.path).normalize().toString()}return $.ajax({url:s}).done(function(t){var r={label:e.submetric,varyColors:!0,doNotParse:e.doNotParse};n.resolve(u(r,t))}).fail(l),e.downloadLink=s,n.promise()},new t(n)}),define("app/apis/api-finder",["require","apis.wikimetrics","apis.aqs","apis.datasets"],function(e){var t=e("apis.wikimetrics"),n=e("apis.aqs"),r=e("apis.datasets");return function(e){var i={wikimetrics:t,aqsApi:n,pageviewApi:n,datasets:r};return i[e.api||"wikimetrics"]}}),/*!
 * numeral.js
 * version : 1.5.3
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */
function(){function e(e){this._value=e}function t(e,t,n,r){var i,o,a=Math.pow(10,t);return o=(n(e*a)/a).toFixed(t),r&&(i=new RegExp("0{1,"+r+"}$"),o=o.replace(i,"")),o}function n(e,t,n){var r;return r=t.indexOf("$")>-1?i(e,t,n):t.indexOf("%")>-1?o(e,t,n):t.indexOf(":")>-1?a(e,t):u(e._value,t,n)}function r(e,t){var n,r,i,o,a,u=t,l=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=!1;if(t.indexOf(":")>-1)e._value=s(t);else if(t===g)e._value=0;else{for("."!==h[m].delimiters.decimal&&(t=t.replace(/\./g,"").replace(h[m].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+h[m].abbreviations.thousand+"(?:\\)|(\\"+h[m].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+h[m].abbreviations.million+"(?:\\)|(\\"+h[m].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+h[m].abbreviations.billion+"(?:\\)|(\\"+h[m].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+h[m].abbreviations.trillion+"(?:\\)|(\\"+h[m].currency.symbol+")?(?:\\))?)?$"),a=0;a<=l.length&&!(c=t.indexOf(l[a])>-1?Math.pow(1024,a+1):!1);a++);e._value=(c?c:1)*(u.match(n)?Math.pow(10,3):1)*(u.match(r)?Math.pow(10,6):1)*(u.match(i)?Math.pow(10,9):1)*(u.match(o)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*((t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1)*Number(t.replace(/[^0-9\.]+/g,"")),e._value=c?Math.ceil(e._value):e._value}return e._value}function i(e,t,n){var r,i,o=t.indexOf("$"),a=t.indexOf("("),s=t.indexOf("-"),l="";return t.indexOf(" $")>-1?(l=" ",t=t.replace(" $","")):t.indexOf("$ ")>-1?(l=" ",t=t.replace("$ ","")):t=t.replace("$",""),i=u(e._value,t,n),1>=o?i.indexOf("(")>-1||i.indexOf("-")>-1?(i=i.split(""),r=1,(a>o||s>o)&&(r=0),i.splice(r,0,h[m].currency.symbol+l),i=i.join("")):i=h[m].currency.symbol+l+i:i.indexOf(")")>-1?(i=i.split(""),i.splice(-1,0,l+h[m].currency.symbol),i=i.join("")):i=i+l+h[m].currency.symbol,i}function o(e,t,n){var r,i="",o=100*e._value;return t.indexOf(" %")>-1?(i=" ",t=t.replace(" %","")):t=t.replace("%",""),r=u(o,t,n),r.indexOf(")")>-1?(r=r.split(""),r.splice(-1,0,i+"%"),r=r.join("")):r=r+i+"%",r}function a(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-60*t*60)/60),r=Math.round(e._value-60*t*60-60*n);return t+":"+(10>n?"0"+n:n)+":"+(10>r?"0"+r:r)}function s(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}function u(e,n,r){var i,o,a,s,u,l,c=!1,d=!1,f=!1,p="",v=!1,y=!1,b=!1,w=!1,x=!1,_="",S="",k=Math.abs(e),C=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],T="",D=!1;if(0===e&&null!==g)return g;if(n.indexOf("(")>-1?(c=!0,n=n.slice(1,-1)):n.indexOf("+")>-1&&(d=!0,n=n.replace(/\+/g,"")),n.indexOf("a")>-1&&(v=n.indexOf("aK")>=0,y=n.indexOf("aM")>=0,b=n.indexOf("aB")>=0,w=n.indexOf("aT")>=0,x=v||y||b||w,n.indexOf(" a")>-1?(p=" ",n=n.replace(" a","")):n=n.replace("a",""),k>=Math.pow(10,12)&&!x||w?(p+=h[m].abbreviations.trillion,e/=Math.pow(10,12)):k<Math.pow(10,12)&&k>=Math.pow(10,9)&&!x||b?(p+=h[m].abbreviations.billion,e/=Math.pow(10,9)):k<Math.pow(10,9)&&k>=Math.pow(10,6)&&!x||y?(p+=h[m].abbreviations.million,e/=Math.pow(10,6)):(k<Math.pow(10,6)&&k>=Math.pow(10,3)&&!x||v)&&(p+=h[m].abbreviations.thousand,e/=Math.pow(10,3))),n.indexOf("b")>-1)for(n.indexOf(" b")>-1?(_=" ",n=n.replace(" b","")):n=n.replace("b",""),a=0;a<=C.length;a++)if(i=Math.pow(1024,a),o=Math.pow(1024,a+1),e>=i&&o>e){_+=C[a],i>0&&(e/=i);break}return n.indexOf("o")>-1&&(n.indexOf(" o")>-1?(S=" ",n=n.replace(" o","")):n=n.replace("o",""),S+=h[m].ordinal(e)),n.indexOf("[.]")>-1&&(f=!0,n=n.replace("[.]",".")),s=e.toString().split(".")[0],u=n.split(".")[1],l=n.indexOf(","),u?(u.indexOf("[")>-1?(u=u.replace("]",""),u=u.split("["),T=t(e,u[0].length+u[1].length,r,u[1].length)):T=t(e,u.length,r),s=T.split(".")[0],T=T.split(".")[1].length?h[m].delimiters.decimal+T.split(".")[1]:"",f&&0===Number(T.slice(1))&&(T="")):s=t(e,null,r),s.indexOf("-")>-1&&(s=s.slice(1),D=!0),l>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h[m].delimiters.thousands)),0===n.indexOf(".")&&(s=""),(c&&D?"(":"")+(!c&&D?"-":"")+(!D&&d?"+":"")+s+T+(S?S:"")+(p?p:"")+(_?_:"")+(c&&D?")":"")}function l(e,t){h[e]=t}function c(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function d(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(e,t){var n=c(e),r=c(t);return n>r?n:r},-1/0)}var f,p="1.5.3",h={},m="en",g=null,v="0,0",y="undefined"!=typeof module&&module.exports;f=function(t){return f.isNumeral(t)?t=t.value():0===t||"undefined"==typeof t?t=0:Number(t)||(t=f.fn.unformat(t)),new e(Number(t))},f.version=p,f.isNumeral=function(t){return t instanceof e},f.language=function(e,t){if(!e)return m;if(e&&!t){if(!h[e])throw new Error("Unknown language : "+e);m=e}return(t||!h[e])&&l(e,t),f},f.languageData=function(e){if(!e)return h[m];if(!h[e])throw new Error("Unknown language : "+e);return h[e]},f.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),f.zeroFormat=function(e){g="string"==typeof e?e:null},f.defaultFormat=function(e){v="string"==typeof e?e:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r,i=this.length>>>0,o=!1;for(1<arguments.length&&(r=t,o=!0),n=0;i>n;++n)this.hasOwnProperty(n)&&(o?r=e(r,this[n],n,this):(r=this[n],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return r}),f.fn=e.prototype={clone:function(){return f(this)},format:function(e,t){return n(this,e?e:v,void 0!==t?t:Math.round)},unformat:function(e){return"[object Number]"===Object.prototype.toString.call(e)?e:r(this,e?e:v)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){function t(e,t){return e+n*t}var n=d.call(null,this._value,e);return this._value=[this._value,e].reduce(t,0)/n,this},subtract:function(e){function t(e,t){return e-n*t}var n=d.call(null,this._value,e);return this._value=[e].reduce(t,this._value*n)/n,this},multiply:function(e){function t(e,t){var n=d(e,t);return e*n*t*n/(n*n)}return this._value=[this._value,e].reduce(t,1),this},divide:function(e){function t(e,t){var n=d(e,t);return e*n/(t*n)}return this._value=[this._value,e].reduce(t),this},difference:function(e){return Math.abs(f(this._value).subtract(e).value())}},y&&(module.exports=f),"undefined"==typeof ender&&(this.numeral=f),"function"==typeof define&&define.amd&&define("numeral",[],function(){return f})}.call(this),define("utils.numbers",["require","numeral"],function(e){var t=e("numeral");return{numberFormatter:function(e){var n={percent:"0.0%",kmb:"0.0a"};return e=n[e]||e,function(n){return"string"==typeof n?n:(e||(e=1>=n?"0.0%":"0.0a"),t(n).format(e))}}}}),define("components/visualizers/wikimetrics/wikimetrics",["require","knockout","lodash","converters.timeseries","text!./wikimetrics.html","apis.annotations","app/apis/api-finder","utils.numbers"],function(e){function t(e){var t=this;this.metric=e.metric,this.projects=e.projects,this.mergedData=n.observable(),this.breakdownColumns=e.breakdownColumns,this.patterns=e.patterns,this.datasets=n.computed(function(){var e=n.unwrap(this.projects),t=[],o=n.unwrap(this.metric);if(o&&e&&e.length){if(o.breakdown&&this.breakdownColumns().length>0)for(var a=0;a<this.breakdownColumns().length;a++){var u=this.breakdownColumns()[a];u.selected()&&t.push(u.label)}var l=s(o),c=e.map(function(e){return l.getData(o,e.database,t)});$.when.apply(this,c).then(function(){var t=r.flatten(arguments);this.mergedData(i.mergeAll(r.toArray(t))),this.applyColors(e)}.bind(this))}else this.mergedData(new i([]))},this),this.annotations=n.observable(),n.computed(function(){var e=n.unwrap(this.metric);e&&a.getTimeseriesData(e).done(this.annotations)},this),this.coloredProjects=[],this.colors=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],this.colorScale=function(e){var n=r.indexOf(t.coloredProjects,e);return-1===n&&(n=t.coloredProjects.push(e)-1),t.colors[n%t.colors.length]},this.breakdownPatterns=[],n.computed(function(){var e=n.unwrap(t.breakdownColumns),i=t.mergedData(),o=t.breakdownPatterns;e&&e.length>1?r.forEach(i.patternLabels,function(e){-1===r.indexOf(o,e)&&o.push(e)}):t.breakdownPatterns=[]},this),this.patternScale=function(e){var n=r.indexOf(t.breakdownPatterns,e);return-1!==n?t.patterns[n%t.patterns.length]:void 0},this.format=u.numberFormatter("kmb"),this.applyColors=function(e){e.forEach(function(e){e.color(t.colorScale(e.database))})}}var n=e("knockout"),r=e("lodash"),i=e("converters.timeseries"),o=e("text!./wikimetrics.html"),a=e("apis.annotations"),s=e("app/apis/api-finder"),u=e("utils.numbers");return{viewModel:t,template:o}}),define("apis.config",["require","config","mediawiki-storage"],function(e){function t(e){this.config=e.configApi}var n=e("config"),r=e("mediawiki-storage");return t.prototype.getDefaultDashboard=function(e,t){var n=this.config.dashboardPage||this.config.defaultDashboardPageRoot+(t?"/"+t:"");return r.get({host:this.config.endpoint,pageName:n}).done(e)},t.prototype.getCategorizedMetrics=function(e){r.get({host:this.config.endpoint,pageName:this.config.categorizedMetricsPage}).done(e)},t.prototype.getOutOfService=function(e){r.get({host:this.config.endpoint,pageName:this.config.outOfService}).done(e)},new t(n)}),define("window",[],function(){return window}),define("stateManager",["require","knockout","apis.config","uri/URI","window"],function(e){function t(){}function n(e,t){e||(e=[]),t?"string"==typeof t&&(t=[t]):t=[],this.metrics=t,this.projects=e}function r(e,t,n,r){this.selectedProjects=e,this.selectedMetric=t,this.defaultProjects=n,this.defaultMetrics=r,this.state=null,this.init()}var i=e("knockout"),o=e("apis.config"),a=e("uri/URI"),s=e("window");t.prototype.toString=function(){return"empty"},n.prototype.buildHashFragment=function(){var e="projects="+this.projects.join(","),t="metrics="+encodeURIComponent(this.metrics.join(","));return e+"/"+t},n.prototype.toString=function(){return this.buildHashFragment()},n.splitStateURL=function(e){var t=[],r=[],i=e.split("/");return i.forEach(function(e){var n=e.split("=");"projects"===n[0]&&n.length>1?t=n[1].split(","):"metrics"===n[0]&&n.length>1&&(r=n[1].split(",").map(decodeURIComponent))}),new n(t,r)},r.prototype.init=function(){var e,s=this,u=(new a).normalizeHash(),l=u.fragment();l?(e=n.splitStateURL(l),this.defaultProjects(e.projects),this.defaultMetrics(e.metrics)):o.getDefaultDashboard(function(t){e=new n(t.defaultProjects,t.defaultMetrics),this.defaultProjects(t.defaultProjects),this.defaultMetrics(t.defaultMetrics)}.bind(this)),s.state=i.computed(function(){var o,a,u=i.unwrap(s.selectedMetric),l=i.unwrap(s.selectedProjects);return u||l&&l.length?(u&&(o=u.name),l&&(a=l.map(function(e){return e.database})),e=new n(a,o)):e=new t,r.publish(e),e})},r.prototype.getState=function(){return this.state()},r.publish=function(e){var t=e.toString(),n=(new a).normalizeHash();n.fragment(t),s.location.assign(n.toString())};var u={instance:null,getManager:function(e,t,n,i){return this.instance||(this.instance=new r(e,t,n,i)),this.instance},_destroy:function(){this.instance=null}};return u}),define("text!components/metrics-by-project-layout/metrics-by-project-layout.html",[],function(){return'<section>\n    <out-of-service></out-of-service>\n</section>\n\n<section>\n\n    <div>\n\n\n        <section class="page column projects">\n            <project-selector params="projectOptions:projectOptions,\n                                      languageOptions:languageOptions,\n                                      defaultProjects: defaultProjects,\n                                      reverseLookup: reverseLookup,\n                                      selectedProjects: selectedProjects">\n\n            </project-selector>\n            <!-- ko if: selectedMetric() && selectedMetric().breakdown -->\n            <breakdown-toggle params="metric: selectedMetric, breakdownColumns:breakdownColumns, patterns:patterns"></breakdown-toggle>\n            <!-- /ko -->\n        </section>\n\n\n        <section class="page column main">\n            <div class="ui segment metric">\n                <metric-selector params="selectedMetric: selectedMetric,\n                                         metrics: metrics,\n                                         defaultSelection: defaultMetrics">\n                </metric-selector>\n            </div>\n            <div class="ui segment">\n                <wikimetrics params="projects: selectedProjects,\n                                                metric: selectedMetric, breakdownColumns: breakdownColumns, patterns:patterns">\n                </wikimetrics>\n            </div>\n        </section>\n    </div>\n</section>\n\n\n'}),define("components/metrics-by-project-layout/metrics-by-project-layout",["require","knockout","lodash","apis.wikimetrics","apis.config","stateManager","text!./metrics-by-project-layout.html"],function(e){function t(){var e=this;e.selectedProjects=n.observableArray([]),e.projectOptions=n.observable([]),e.languageOptions=n.observable([]),e.defaultProjects=n.observable([]),e.reverseLookup=n.observable(),e.selectedMetric=n.observable(),e.breakdownColumns=n.observableArray(),e.patterns=["",[5,5],[15,5],[45,5]],e.defaultMetrics=n.observable([]),e.metricFilter=n.observable([]),e.allMetrics=n.observable([]),e.metrics=n.computed(function(){var e=n.unwrap(this.metricFilter),t=n.unwrap(this.allMetrics);return r.map(t,function(t){var n=r.clone(t,!0);return e&&(n.metrics=r.filter(t.metrics,function(t){return r.includes(e,t.name)})),n})},this),i.getProjectAndLanguageChoices(function(t){e.languageOptions(t.languageOptions),e.projectOptions(t.projectOptions),e.reverseLookup(t.reverseLookup)}),o.getDefaultDashboard(function(t){t.metrics&&e.metricFilter(t.metrics)}),a.getManager(this.selectedProjects,this.selectedMetric,this.defaultProjects,this.defaultMetrics),o.getCategorizedMetrics(function(t){t.categorizedMetrics&&t.categorizedMetrics.forEach(function(e){e.metrics&&e.metrics.forEach(function(e){e.breakdown=e.breakdown||!1,e.showBreakdown=n.observable(!1)})}),e.allMetrics(t.categorizedMetrics)})}var n=e("knockout"),r=e("lodash"),i=e("apis.wikimetrics"),o=e("apis.config"),a=e("stateManager"),s=e("text!./metrics-by-project-layout.html");return{viewModel:t,template:s}}),define("text!components/metric-selector/metric-selector.html",[],function(){return'<div class="ui dropdown navy label metric" data-bind="toggle: \'open\'">\n    <i class="add sign box icon"></i>\n    <div class="text">Add Metric</div>\n    <i class="dropdown icon vertically" data-bind="css: {flipped: open}"></i>\n</div>\n\n<div class="ui pointing white offset above label categories target" data-bind="css: {open: open}">\n    <div class="ui two column grid">\n        <div class="column">\n            <div class="ui vertical pointing black menu">\n            <!-- ko foreach: categories -->\n                <a class="item" data-bind="\n                    css: {active: name === $parent.selectedCategory().name},\n                    text: name,\n                    click: $parent.selectCategory\n                "></a>\n            <!-- /ko -->\n            </div>\n        </div>\n        <div class="column">\n            <div class="ui vertical menu">\n            <!-- ko if: selectedCategory -->\n            <!-- ko foreach: categories -->\n                <!-- ko if: $parent.selectedCategory().name !== \'All metrics\' &&\n                            (name === \'All metrics\' || name < $parent.selectedCategory().name) -->\n                <div class="item">&nbsp;</div>\n                <!-- /ko -->\n            <!-- /ko -->\n            <!-- ko foreach: selectedCategory().metrics -->\n                <a class="item" data-bind="metricName: $data, click: $parent.addMetric"></a>\n            <!-- /ko -->\n            <!-- /ko -->\n            </div>\n        </div>\n    </div>\n</div>\n\n<!-- ko foreach: addedMetrics -->\n<div class="ui large label metric" data-bind="css: {black: $data === $parent.selectedMetric()}">\n    <a data-bind="click: $parent.selectMetric, metricName: $data"></a>\n    <i class="separate icon">|</i>\n    <i class="delete icon" data-bind="click: $parent.removeMetric"></i>\n</div>\n<!-- /ko -->\n'}),define("utils.arrays",[],function(){return{sortByName:function(e,t){return e.name===t.name?0:e.name>t.name?1:-1},sortByNameIgnoreCase:function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())},filler:function(e){var t=[];return t.length=e,Array.apply(null,t)}}}),define("components/metric-selector/bindings",["require","knockout"],function(e){var t=e("knockout"),n=/([a-z])([A-Z])/g;t.bindingHandlers.metricName={init:function(){return{controlsDescendantBindings:!0}},update:function(e,r){var i=t.unwrap(r());if(i){var o=i.displayName||i.name.replace(n,"$1 $2");t.utils.setTextContent(e,o)}}}}),define("components/metric-selector/metric-selector",["require","knockout","text!./metric-selector.html","utils.arrays","./bindings"],function(e){function t(e){var t=this;this.metricsByCategory=e.metrics,this.selectedMetric=e.selectedMetric,this.selectedCategory=n.observable(),this.addedMetrics=n.observableArray([]),this.defaultSelection=n.computed(function(){var t=n.unwrap(e.defaultSelection),r=n.unwrap(this.metricsByCategory);if(!t||!r)return[];var i=[];return r.forEach(function(e){e.metrics.forEach(function(e){($.inArray(e.name,t)>=0||$.inArray(e.displayName,t)>=0)&&i.push(e)})}),i},this),this.categories=n.computed(function(){var e=n.unwrap(this.metricsByCategory)||[],t=e.slice(),r=t.sort(i.sortByNameIgnoreCase);return r.splice(0,0,{name:"All metrics",metrics:[].concat.apply([],r.map(function(e){return e.metrics})).sort(i.sortByNameIgnoreCase)}),r=r.filter(function(e){return e.metrics.length}),r.length&&this.selectedCategory(r[0]),r},this),this.setDefault=function(){t.addedMetrics(t.defaultSelection()||[]),t.reassignSelected()},this.selectCategory=function(e){t.selectedCategory(e)},this.addMetric=function(e){$.inArray(e,t.addedMetrics())<0&&t.addedMetrics.push(e),t.selectedMetric(e)},this.removeMetric=function(e){t.addedMetrics.remove(e),t.selectedMetric().name===e.name&&t.reassignSelected()},this.reassignSelected=function(){var e=t.addedMetrics().length?t.addedMetrics()[0]:null;e!==t.selectedMetric()&&t.selectedMetric(e)},this.selectMetric=function(e){t.selectedMetric(e)},this.setDefault(),this.defaultSelection.subscribe(this.setDefault,this),this.reassignSelected()}var n=e("knockout"),r=e("text!./metric-selector.html"),i=e("utils.arrays");return e("./bindings"),{viewModel:t,template:r}}),require(["app/startup"]),require.config({bundles:{"out-of-service-afb07fb":["text!components/out-of-service/out-of-service.html","components/out-of-service/out-of-service"],"project-selector-afb07fb":["text!components/project-selector/project-selector.html","typeahead","components/project-selector/bindings","components/project-selector/project-selector"],"dygraphs-timeseries-afb07fb":["text!components/visualizers/dygraphs-timeseries/dygraphs-timeseries.html","dygraphs","components/visualizers/dygraphs-timeseries/dygraphs.patch","components/visualizers/dygraphs-timeseries/bindings","components/visualizers/dygraphs-timeseries/dygraphs-timeseries"],"breakdown-toggle-afb07fb":["text!components/breakdown-toggle/breakdown-toggle.html","components/breakdown-toggle/breakdown-toggle"]}});