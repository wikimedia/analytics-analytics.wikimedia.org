define("text!components/selectors/project/project.html",[],function(){return'<div class="ui icon inverted input">\n    <input placeholder="add project or language"\n           class="typeahead"\n           autocomplete="off"\n           size="20"\n           data-bind="projectAutocomplete: {\n                          projectOptions: projectOptions,\n                          languageOptions: languageOptions,\n                          databaseOptions: databaseOptions,\n                          select: displaySecondLevel,\n                          blur: hideSecondLevel\n                     }"/>\n    <i class="search icon"></i>\n</div>\n<hr/>\n\n<span class="tt-dropdown-menu"\n      data-bind="css: {open: displaySuboptions}">\n    <div class="tt-dataset-suboptions">\n        <span class="header" data-bind="text: selectedOption"></span>\n        <hr/>\n        <span class="tt-suggestions">\n        <!-- ko foreach: suboptions -->\n            <div class="tt-suggestion"\n                 data-bind="text: name,\n                            click: $parent.addProject.bind($parent)">\n            </div>\n        <!-- /ko -->\n        </span>\n    </div>\n</span>\n\n<!-- ko foreach: selectedProjectsByCategory -->\n<div class="ui inverted secondary vertical menu">\n    <div class="item">\n        <div class="inverted header">\n            <span data-bind="text: name"></span>\n            <div class="ui simple dropdown">\n                <i class="huge dropdown icon"></i>\n                <div class="ui menu">\n                    <div class="item small" data-bind="click: $parent.removeCategory.bind($parent, false)">\n                        <i class="trash icon"></i> Remove\n                    </div>\n                    <div class="item small" data-bind="click: $parent.removeCategory.bind($parent, true)">\n                        <i class="star icon"></i> Show this alone\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="colored menu">\n        <!-- ko foreach: languages -->\n            <div class="item">\n                <span>\n                    <i class="swatch" data-bind="style: {backgroundColor: color}"></i>\n                    <span data-bind="text: name"></span>\n                    <span class="subtext" data-bind="text: shortName"></span>\n                </span>\n                <a data-bind="click: $parents[1].removeProject.bind($parents[1])">\n                    <i class="faded destructive delete icon"></i>\n                </a>\n            </div>\n        <!-- /ko -->\n        </div>\n    </div>\n</div>\n<hr/>\n<!-- /ko -->\n'}),/*!
 * typeahead.js 0.10.5
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT
 */
function(t){var e=function(){return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,s){if(!(i=n.call(null,s,t,e)))return!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,s){if(i=n.call(null,s,t,e))return!1}),!!i):i},mixin:t.extend,getUniqueId:function(){var t=0;return function(){return t++}}(),templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,s;return function(){var o,r,a=this,u=arguments;return o=function(){i=null,n||(s=t.apply(a,u))},r=n&&!i,clearTimeout(i),i=setTimeout(o,e),r&&(s=t.apply(a,u)),s}},throttle:function(t,e){var n,i,s,o,r,a;return r=0,a=function(){r=new Date,s=null,o=t.apply(n,i)},function(){var u=new Date,c=e-(u-r);return n=this,i=arguments,c<=0?(clearTimeout(s),s=null,r=u,o=t.apply(n,i)):s||(s=setTimeout(a,c)),o}},noop:function(){}}}(),n=function(){return{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'}}(),i=function(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e.isMsie()&&e.isMsie()<=7&&e.mixin(t.input,{marginTop:"-1px"}),t}(),s=function(){function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i="typeahead:";return e.mixin(n.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger(i+t,e)}}),n}(),o=function(){function t(t,e,n,i){var s;if(!n)return this;for(e=e.split(u),n=i?a(n,i):n,this._callbacks=this._callbacks||{};s=e.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(n);return this}function e(e,n,i){return t.call(this,"async",e,n,i)}function n(e,n,i){return t.call(this,"sync",e,n,i)}function i(t){var e;if(!this._callbacks)return this;for(t=t.split(u);e=t.shift();)delete this._callbacks[e];return this}function s(t){var e,n,i,s,r;if(!this._callbacks)return this;for(t=t.split(u),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)s=o(n.sync,this,[e].concat(i)),r=o(n.async,this,[e].concat(i)),s()&&c(r);return this}function o(t,e,n){function i(){for(var i,s=0,o=t.length;!i&&s<o;s+=1)i=t[s].apply(e,n)===!1;return!i}return i}function r(){var t;return t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function a(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var u=/\s+/,c=r();return{onSync:n,onAsync:e,off:i,trigger:s}}(),r=function(t){function n(t,n,i){for(var s,o=[],r=0,a=t.length;r<a;r++)o.push(e.escapeRegExChars(t[r]));return s=i?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",n?new RegExp(s):new RegExp(s,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(s){function o(e){var n,i,o;return(n=a.exec(e.data))&&(o=t.createElement(s.tagName),s.className&&(o.className=s.className),i=e.splitText(n.index),i.splitText(n[0].length),o.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(o,i)),!!n}function r(t,e){for(var n,i=3,s=0;s<t.childNodes.length;s++)n=t.childNodes[s],n.nodeType===i?s+=e(n)?1:0:r(n,e)}var a;s=e.mixin({},i,s),s.node&&s.pattern&&(s.pattern=e.isArray(s.pattern)?s.pattern:[s.pattern],a=n(s.pattern,s.caseSensitive,s.wordsOnly),r(s.node,o))}}(window.document),a=function(){function n(n){var s,o,r,u,c=this;n=n||{},n.input||t.error("input is missing"),s=e.bind(this._onBlur,this),o=e.bind(this._onFocus,this),r=e.bind(this._onKeydown,this),u=e.bind(this._onInput,this),this.$hint=t(n.hint),this.$input=t(n.input).on("blur.tt",s).on("focus.tt",o).on("keydown.tt",r),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop),e.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){a[t.which||t.keyCode]||e.defer(e.bind(c._onInput,c,t))}):this.$input.on("input.tt",u),this.query=this.$input.val(),this.$overflowHelper=i(this.$input)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function s(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function r(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,o,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(t,e){var n,i,s;switch(t){case"tab":i=this.getHint(),s=this.getInputValue(),n=i&&i!==s&&!r(e);break;case"up":case"down":n=!r(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!r(e);break;default:n=!0}return n},_checkInputValue:function(){var t,e,n;t=this.getInputValue(),e=s(t,this.query),n=!!e&&this.query.length!==t.length,this.query=t,e?n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){this.$input.val(t),e?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n,i;t=this.getInputValue(),e=this.getHint(),n=t!==e&&0===e.indexOf(t),i=""!==t&&n&&!this.hasOverflow(),!i&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:!document.selection||(i=document.selection.createRange(),i.moveStart("character",-t),t===i.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),n}(),u=function(){function s(i){i=i||{},i.templates=i.templates||{},i.source||t.error("missing source"),i.name&&!c(i.name)&&t.error("invalid dataset name: "+i.name),this.query=null,this.highlight=!!i.highlight,this.name=i.name||e.getUniqueId(),this.source=i.source,this.displayFn=a(i.display||i.displayKey),this.templates=u(i.templates,this.displayFn),this.$el=t(n.dataset.replace("%CLASS%",this.name))}function a(t){function n(e){return e[t]}return t=t||"value",e.isFunction(t)?t:n}function u(t,n){function i(t){return"<p>"+n(t)+"</p>"}return{empty:t.empty&&e.templatify(t.empty),header:t.header&&e.templatify(t.header),footer:t.footer&&e.templatify(t.footer),suggestion:t.suggestion||i}}function c(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var d="ttDataset",h="ttValue",l="ttDatum";return s.extractDatasetName=function(e){return t(e).data(d)},s.extractValue=function(e){return t(e).data(h)},s.extractDatum=function(e){return t(e).data(l)},e.mixin(s.prototype,o,{_render:function(s,o){function a(){return f.templates.empty({query:s,isEmpty:!0})}function u(){function a(e){var s;return s=t(n.suggestion).append(f.templates.suggestion(e)).data(d,f.name).data(h,f.displayFn(e)).data(l,e),s.children().each(function(){t(this).css(i.suggestionChild)}),s}var u,c;return u=t(n.suggestions).css(i.suggestions),c=e.map(o,a),u.append.apply(u,c),f.highlight&&r({className:"tt-highlight",node:u[0],pattern:s}),u}function c(){return f.templates.header({query:s,isEmpty:!g})}function p(){return f.templates.footer({query:s,isEmpty:!g})}if(this.$el){var g,f=this;this.$el.empty(),g=o&&o.length,!g&&this.templates.empty?this.$el.html(a()).prepend(f.templates.header?c():null).append(f.templates.footer?p():null):g&&this.$el.html(u()).prepend(f.templates.header?c():null).append(f.templates.footer?p():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(t){function e(e){n.canceled||t!==n.query||n._render(t,e)}var n=this;this.query=t,this.canceled=!1,this.source(t,e)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),s}(),c=function(){function n(n){var i,o,r,a=this;n=n||{},n.menu||t.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=e.map(n.datasets,s),i=e.bind(this._onSuggestionClick,this),o=e.bind(this._onSuggestionMouseEnter,this),r=e.bind(this._onSuggestionMouseLeave,this),this.$menu=t(n.menu).on("click.tt",".tt-suggestion",i).on("mouseenter.tt",".tt-suggestion",o).on("mouseleave.tt",".tt-suggestion",r),e.each(this.datasets,function(t){a.$menu.append(t.getRoot()),t.onSync("rendered",a._onRendered,a)})}function s(t){return new u(t)}return e.mixin(n.prototype,o,{_onSuggestionClick:function(e){this.trigger("suggestionClicked",t(e.currentTarget))},_onSuggestionMouseEnter:function(e){this._removeCursor(),this._setCursor(t(e.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function t(t){return t.isEmpty()}this.isEmpty=e.every(this.datasets,t),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(t,e){t.first().addClass("tt-cursor"),!e&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(t){var e,n,i,s;if(this.isOpen){if(n=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),i=e.index(n)+t,i=(i+1)%(e.length+1)-1,i===-1)return void this.trigger("cursorRemoved");i<-1&&(i=e.length-1),this._setCursor(s=e.eq(i)),this._ensureVisible(s)}},_ensureVisible:function(t){var e,n,i,s;e=t.position().top,n=e+t.outerHeight(!0),i=this.$menu.scrollTop(),s=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),e<0?this.$menu.scrollTop(i+e):s<n&&this.$menu.scrollTop(i+(n-s))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(t){this.$menu.css("ltr"===t?i.ltr:i.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var e=null;return t.length&&(e={raw:u.extractDatum(t),value:u.extractValue(t),datasetName:u.extractDatasetName(t)}),e},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(t){function n(e){e.update(t)}e.each(this.datasets,n)},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function t(t){t.destroy()}this.$menu.off(".tt"),this.$menu=null,e.each(this.datasets,t)}}),n}(),d=function(){function o(n){var i,o,u;n=n||{},n.input||t.error("missing input"),this.isActivated=!1,this.autoselect=!!n.autoselect,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.$node=r(n.input,n.withHint),i=this.$node.find(".tt-dropdown-menu"),o=this.$node.find(".tt-input"),u=this.$node.find(".tt-hint"),o.on("blur.tt",function(t){var n,s,r;n=document.activeElement,s=i.is(n),r=i.has(n).length>0,e.isMsie()&&(s||r)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){o.focus()}))}),i.on("mousedown.tt",function(t){t.preventDefault()}),this.eventBus=n.eventBus||new s({el:o}),this.dropdown=new c({menu:i,datasets:n.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new a({input:o,hint:u}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function r(e,s){var o,r,a,c;o=t(e),r=t(n.wrapper).css(i.wrapper),a=t(n.dropdown).css(i.dropdown),c=o.clone().css(i.hint).css(u(o)),c.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),o.data(h,{dir:o.attr("dir"),autocomplete:o.attr("autocomplete"),spellcheck:o.attr("spellcheck"),style:o.attr("style")}),o.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(s?i.input:i.inputWithNoHint);try{!o.attr("dir")&&o.attr("dir","auto")}catch(t){}return o.wrap(r).parent().prepend(s?c:null).append(a)}function u(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function d(t){var n=t.find(".tt-input");e.each(n.data(h),function(t,i){e.isUndefined(t)?n.removeAttr(i):n.attr(i,t)}),n.detach().removeData(h).removeClass("tt-input").insertAfter(t),t.remove()}var h="ttAttrs";return e.mixin(o.prototype,{_onSuggestionClicked:function(t,e){var n;(n=this.dropdown.getDatumForSuggestion(e))&&this._select(n)},_onCursorMoved:function(){var t=this.dropdown.getDatumForCursor();this.input.setInputValue(t.value,!0),this.eventBus.trigger("cursorchanged",t.raw,t.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(t,e){var n,i;n=this.dropdown.getDatumForCursor(),i=this.dropdown.getDatumForTopSuggestion(),n?(this._select(n),e.preventDefault()):this.autoselect&&i&&(this._select(i),e.preventDefault())},_onTabKeyed:function(t,e){var n;(n=this.dropdown.getDatumForCursor())?(this._select(n),e.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(t,e){this.input.clearHintIfInvalid(),e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t;this.dir!==(t=this.input.getLanguageDirection())&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var t,n,i,s,o,r;t=this.dropdown.getDatumForTopSuggestion(),t&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(n=this.input.getInputValue(),i=a.normalizeQuery(n),s=e.escapeRegExChars(i),o=new RegExp("^(?:"+s+")(.+$)","i"),r=o.exec(t.value),r?this.input.setHint(n+r[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(t){var e,n,i,s;e=this.input.getHint(),n=this.input.getQuery(),i=t||this.input.isCursorAtEnd(),e&&n!==e&&i&&(s=this.dropdown.getDatumForTopSuggestion(),s&&this.input.setInputValue(s.value),this.eventBus.trigger("autocompleted",s.raw,s.datasetName))},_select:function(t){this.input.setQuery(t.value),this.input.setInputValue(t.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",t.raw,t.datasetName),this.dropdown.close(),e.defer(e.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(t){t=e.toStr(t),this.isActivated?this.input.setInputValue(t):(this.input.setQuery(t),this.input.setInputValue(t,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),d(this.$node),this.$node=null}}),o}();!function(){var n,i,o;n=t.fn.typeahead,i="ttTypeahead",o={initialize:function(n,o){function r(){var r,a,u=t(this);e.each(o,function(t){t.highlight=!!n.highlight}),a=new d({input:u,eventBus:r=new s({el:u}),withHint:!!e.isUndefined(n.hint)||!!n.hint,minLength:n.minLength,autoselect:n.autoselect,datasets:o}),u.data(i,a)}return o=e.isArray(o)?o:[].slice.call(arguments,1),n=n||{},this.each(r)},open:function(){function e(){var e,n=t(this);(e=n.data(i))&&e.open()}return this.each(e)},close:function(){function e(){var e,n=t(this);(e=n.data(i))&&e.close()}return this.each(e)},val:function(e){function n(){var n,s=t(this);(n=s.data(i))&&n.setVal(e)}function s(t){var e,n;return(e=t.data(i))&&(n=e.getVal()),n}return arguments.length?this.each(n):s(this.first())},destroy:function(){function e(){var e,n=t(this);(e=n.data(i))&&(e.destroy(),n.removeData(i))}return this.each(e)}},t.fn.typeahead=function(e){var n;return o[e]&&"initialize"!==e?(n=this.filter(function(){return!!t(this).data(i)}),o[e].apply(n,[].slice.call(arguments,1))):o.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this}}()}(window.jQuery),define("typeahead",function(){}),define("components/selectors/project/bindings",["require","knockout","utils.arrays","typeahead"],function(t){function e(t,e){return function(n,o){var r,a,u=i.unwrap(t);return e&&n.length<e?void o([]):(a=new RegExp(n,"i"),r=u.filter(function(t){return a.test(t.name)}).sort(s.sortByName),void o(r))}}function n(t){return{header:'<span class="header">'+t+"</span><hr/>",suggestion:function(t){return'<span class="text-muted">'+t.name+'<span class="footnote">'+t.description+"</span></span>"}}}var i=t("knockout"),s=t("utils.arrays");t("typeahead"),i.bindingHandlers.projectAutocomplete={init:function(t,s,o,r){var a=i.unwrap(s()),u=a.projectOptions,c=a.languageOptions,d=a.databaseOptions;$(t).typeahead({hint:!1,highlight:!0,minLength:1},{name:"projects",displayKey:"value",templates:n("Projects"),source:e(u)},{name:"languages",displayKey:"value",templates:n("Languages"),source:e(c)},{name:"databases",displayKey:"value",templates:n("Databases"),source:e(d,5)}).bind("typeahead:selected",a.select.bind(r,t)),$(t).on("blur",function(){i.bindingHandlers.projectAutocomplete.mouseDownNotImportant&&a.blur.call(r)}),void 0===i.bindingHandlers.projectAutocomplete.mouseDownNotImportant&&(i.bindingHandlers.projectAutocomplete.mouseDownNotImportant=null,$(document).on("mousedown",function(t){i.bindingHandlers.projectAutocomplete.mouseDownNotImportant=0===$(t.target).closest(".tt-suggestion").length}),$(document).on("mouseup",function(){i.bindingHandlers.projectAutocomplete.mouseDownNotImportant=null}))}}}),define("components/selectors/project/project",["require","knockout","text!./project.html","utils.arrays","./bindings"],function(t){function e(t){this.selectedProjects=t.selectedProjects,this.projectOptions=t.projectOptions,this.languageOptions=t.languageOptions,this.reverseLookup=t.reverseLookup,this.displaySuboptions=i.observable(!1),this.selectedOption=i.observable(),this.suboptions=i.observable([]),this.databaseOptions=i.computed(function(){var t=i.unwrap(this.reverseLookup);return t?Object.getOwnPropertyNames(t).map(function(t){return{name:t,description:""}}):[]},this);var e=this,n=function(){var n,s=i.unwrap(t.defaultProjects),o=i.unwrap(t.reverseLookup);o&&s&&(n=Object.getOwnPropertyNames(o).filter(function(t){return s.indexOf(t)>=0}).map(function(t){return o[t]}),e.selectedProjects(n))};t.defaultProjects.subscribe(n),i.isObservable(t.reverseLookup)&&t.reverseLookup.subscribe(n),n(),this.selectedProjectsByCategory=i.computed(function(){var t={};return this.selectedProjects().forEach(function(e){e.color||(e.color=i.observable()),t.hasOwnProperty(e.project.code)||(t[e.project.code]={name:e.project.name,languages:[]}),t[e.project.code].languages.push({name:e.language.name,database:e.database,shortName:e.language.shortName,color:e.color})}),Object.getOwnPropertyNames(t).map(function(e){return t[e]})},this)}function n(t,e){return Object.getOwnPropertyNames(t).map(function(n){return{name:e?e[t[n]].project.name||n:n,project:t[n]}})}var i=t("knockout"),s=t("text!./project.html"),o=t("utils.arrays");return t("./bindings"),e.prototype.displaySecondLevel=function(t,e,s,r){var a=[],u=i.unwrap(this.reverseLookup)||{};switch(this.displaySuboptions(!0),this.selectedOption(s.name),r){case"projects":var c=Object.getOwnPropertyNames(s.languages);if(1===c.length)return this.addProject({project:s.languages[c[0]]}),void $(e).trigger("blur");a=n(s.languages);break;case"languages":a=n(s.projects,u);break;case"databases":return void this.addProject({project:s.name})}a.sort(o.sortByNameIgnoreCase),this.suboptions(a)},e.prototype.hideSecondLevel=function(){this.displaySuboptions(!1),this.selectedOption(),this.suboptions([])},e.prototype.addProject=function(t){var e=i.unwrap(this.reverseLookup),n=t.database?t:e[t.project];this.selectedProjects.indexOf(n)<0&&this.selectedProjects.push(n),this.hideSecondLevel()},e.prototype.removeProject=function(t){var e=i.unwrap(this.reverseLookup),n=e[t.database];this.selectedProjects.remove(n)},e.prototype.removeCategory=function(t,e){var n=i.utils.arrayFilter(this.selectedProjects(),function(n){var i,s,o=e.languages;for(i=0;i<o.length;i++)if(t){if(s=n.database===o[i].database)break}else if(s=n.database!==o[i].database,!s)break;return s});this.selectedProjects(n)},{viewModel:e,template:s}});